;YAHOO = window.YAHOO || {};YAHOO.VideoPlatform = YAHOO.VideoPlatform || {};YAHOO.VideoPlatform.Captions={LANG_NAME:{"id":"Bahasa Indonesia","ms":"Bahasa Melayu","cs":"čeština","da":"dansk","de":"Deutsch","et":"eesti","en":"English","es":"español","fil":"Filipino","fr":"français","hr":"hrvatski","it":"italiano","lv":"latviešu","lt":"lietuvių","hu":"magyar","nl":"Nederlands","nb":"norsk bokmål","pl":"polski","pt":"português","ro":"română","sk":"slovenčina","sl":"slovenščina","fi":"suomi","sv":"svenska","vi":"Tiếng Việt","tr":"Türkçe","el":"Ελληνικά","bg":"български","ru":"русский","sr-cyrl":"Српски","uk":"українська","he":"עברית","ar":"العربية","mr":"मराठी","hi":"हिन्दी","bn":"বাংলা","gu":"ગુજરાતી","ta":"தமிழ்","te":"తెలుగు","kn":"ಕನ್ನಡ","ml":"മലയാളം","th":"ไทย","ur":"اردو زبان","ko":"한국어","zh-hans":"简体中文","zh-hant":"繁體中文"},CAPTIONS_LANGUAGE_NOT_AVAILABLE:{"ar":"التعليقات غير متوفرة باللغة العربية","bg":"Налични са надписи на български","bn":"বাংলায় ক্যাপশন অনুপলব্ধ","cs":"České titulky nejsou k dispozici.","da":"Danske undertekster er ikke tilgængelige","de":"Deutsche Untertitel nicht verfügbar","el":"Δεν υπάρχουν διαθέσιμες ελληνικές λεζάντες","en":"English captions unavailable","es":"Subtítulos en español no disponibles","et":"Eestikeelsed tiitrid ei ole saadaval","fi":"Suomenkielistä tekstitystä ei saatavilla","fil":"Hindi available ang mga Pilipino na pamagat","fr":"Légendes en français non disponibles","gu":"ગુજરાતી કેપ્શન્સ ઉપલબ્ધ છે","he":"כתוביות בעברית אינן זמינות","hi":"हिंदी कैप्शन अनुपलब्ध हैं","hr":"Hrvatski titlovi nisu dostupni","hu":"Nincs elérhető magyar nyelvű felirat","id":"Judul dalam bahasa Indonesia tidak tersedia","it":"Sottotitoli in italiano non disponibili","kn":"ಕನ್ನಡ ಶೀರ್ಷಿಕೆಗಳು ಲಭ್ಯವಿಲ್ಲ","ko":"한국어 자막을 사용할 수 없습니다","lt":"Lietuviškų antraščių nėra","lv":"Titri latviešu valodā nav pieejami","ml":"മലയാളം ക്യാപ്ഷനുകൾ ലഭ്യമല്ല","mr":"मराठी कॅप्शंस उपलब्ध नाहीत","ms":"Kapsyen Bahasa Melayu tidak tersedia","nb":"Norsk teksting utilgjengelig","nl":"Nederlandse bijschriften niet beschikbaar","pl":"Polskie opisy nie są dostępne","pt":"Legendas em português indisponíveis","ro":"Subtitrările în limba română nu sunt disponibile","ru":"Субтитры на русском языке недоступны","sk":"Slovenské titulky nie sú k dispozícii","sl":"Napisi v slovenščini niso na voljo","sr-cyrl":"Натписи на српском су недоступни","sv":"Svensk textning är inte tillgänglig","ta":"தமிழ் தலைப்புகள் கிடைக்கவில்லை","te":"తెలుగు శీర్షికలు అందుబాటులో లేవు","th":"ไม่มีคำบรรยายใต้ภาพภาษาไทยสำหรับใช้งาน","tr":"Türkçe altyazılar kullanılamaz","uk":"Українські субтитри недоступні","ur":"اردو کی سرخیاں غیر دستیاب ہیں","vi":"Không có sẵn phụ đề bằng tiếng Việt","zh-hans":"未提供中文字幕","zh-hant":"不提供繁體中文字幕"},CAPTIONS_NOT_AVAILABLE:{"ar":"لا تتوفر تسميات توضيحية","bg":"Няма налични надписи","bn":"কোনো ক্যাপশন উপলব্ধ নেই","cs":"Žádné popisky k dispozici","da":"Ingen tilgængelige billedtekster","de":"Keine Untertitel verfügbar","el":"Δεν υπάρχουν διαθέσιμες λεζάντες","en":"No captions available","es":"No hay subtítulos","et":"Tiitreid pole saadaval","fi":"Kuvatekstejä ei saatavilla","fil":"Walang magagamit na mga caption","fr":"Aucune légende disponible","gu":"કોઈ કેપ્શન્સ ઉપલબ્ધ નથી","he":"אין כתוביות זמינות","hi":"कोई कैप्शन उपलब्ध नहीं","hr":"Nema dostupnih titlova","hu":"Nincs elérhető felirat","id":"Tidak ada judul yang tersedia","it":"Nessun sottotitolo disponibile","kn":"ಯಾವುದೇ ಶೀರ್ಷಿಕೆಗಳು ಲಭ್ಯವಿಲ್ಲ","ko":"캡션이 제공되지 않음","lt":"Jokių antraščių nėra","lv":"Titri nav pieejami","ml":"ക്യാപ്ഷനുകൾ ലഭ്യമല്ല","mr":"कोणताही मथला उपलब्ध नाही","ms":"Kapsyen tidak tersedia","nb":"Ingen teksting tilgjengelig","nl":"Geen bijschriften beschikbaar","pl":"Brak dostępnych opisów","pt":"Não há legendas disponíveis","ro":"Nicio subtitrare disponibilă","ru":"Нет доступных субтитров","sk":"Titulky nie sú k dispozícii","sl":"Podnapisi niso na voljo","sr-cyrl":"Нема доступних натписа","sv":"Ingen text tillgänglig","ta":"தலைப்புகள் இல்லை","te":"ఎలాంటి క్యాప్షన్లు లభ్యం లేవు","th":"ไม่มีคำอธิบาย","tr":"Kullanılabilir altyazı yok","uk":"Субтитри недоступні","ur":"کوئی ذیلی سرخی دستیاب نہیں ہے","vi":"Không có sẵn chú thích","zh-hans":"没有可用的字幕","zh-hant":"不提供字幕"},CAPTIONS_PREVIEW_TEXT_LC:{"ar":"تبدو التسميات التوضيحية هكذا","bg":"надписите се показват по този начин","bn":"ক্যাপশন এই রকমভাবে প্রদর্শিত হবে","cs":"popisky se zobrazují takto","da":"billedtekster ser sådan ud","de":"Untertitel erscheinen so","el":"οι λεζάντες έχουν την εξής μορφή","en":"captions appear like this","es":"los subtítulos aparecen de la siguiente manera","et":"tiitrite välimus","fi":"kuvatekstit näkyvät näin","fil":"ganito ang itsura ng mga caption","fr":"exemple d’affichage des légendes","gu":"કેપ્શન્સ આના જેવા દેખાય છે","he":"כתוביות יופיעו כך","hi":"कैप्शन इस प्रकार दिखाई देंगे","hr":"titlovi izgledaju ovako","hu":"feliratok így jelennek meg","id":"tampilan judul seperti ini","it":"anteprima sottotitoli","kn":"ಶೀರ್ಷಿಕೆಗಳು ಈ ರೀತಿ ಕಂಡುಬರುತ್ತದೆ","ko":"캡션은 다음과 같이 나타납니다.","lt":"antraštės rodomos taip","lv":"titri ir redzami šādi","ml":"ക്യാപ്ഷനുകൾ ഇതുപോലെ ദൃശ്യമാകുന്നു","mr":"कॅप्शंस असे दिसतात","ms":"kapsyen dipaparkan seperti ini","nb":"tekster vises slik","nl":"bijschriften worden als volgt weergegeven","pl":"opisy są wyświetlane następująco","pt":"legendas aparecem como esta","ro":"subtitrările arată aşa","ru":"субтитры отображаются так","sk":"titulky sa zobrazujú takto","sl":"podnapisi so prikazani tako","sr-cyrl":"натписи се појављују овако","sv":"texten visas så här","ta":"தலைப்புகள் இது போலத் தோன்றும்","te":"క్యాప్షన్లు ఇలా కనిపిస్తాయి","th":"จะปรากฏคำอธืบายเช่นนี้","tr":"altyazılar şu şekilde görünür:","uk":"зразок субтитрів","ur":"ذیلی سرخی اس طرح ظاہر ہوتی ہے","vi":"chú thích xuất hiện như thế này","zh-hans":"字幕显示如下","zh-hant":"字幕將顯示如下"}};YUI.add("yepswf",function(a){var j=a.SWF||{},l=j.prototype||{},o=j._instances||{},e=j.eventHandler||{},n=a.Event,p=a.Escape,h=a.SWFDetect,i=a.Lang,g=a.UA,k=a.Node,f="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",d="application/x-shockwave-flash",c="10.0.22",b="SWF.eventHandler",m={align:"",allowFullScreen:"",allowNetworking:"",allowScriptAccess:"",base:"",bgcolor:"",menu:"",name:"",quality:"",salign:"",scale:"",tabindex:"",wmode:""};
a.YEPSWF=function(q,H,C,y){var r={};if(!a.SWF||typeof a.SWF.prototype!=="object"){a.augment(this,a.EventTarget);r.type="yuiIntegrationError";this.publish("yuiIntegrationError",{fireOnce:true});this.fire("yuiIntegrationError",r);return;}this._id=a.guid("yuiswf");var E=this._id;var u=k.one(q);var C=C||{};var s=C.version||c;var v=(s+"").split(".");var B=h.isFlashVersionAtLeast(parseInt(v[0]),parseInt(v[1]),parseInt(v[2]));var A="<object ";var F,z;var G="yId="+a.id+"&YUISwfId="+E+"&YUIBridgeCallback="+b+"&allowedDomain="+document.location.hostname;a.YEPSWF._instances[E]=this;if(!u||!H){return;}if(B){A+='id="'+E+'" ';if(g.ie&&g.ie<11){A+='classid="'+f+'" ';}else{A+='type="'+d+'" data="'+p.html(H)+'" ';}F="100%";z="100%";A+='width="'+F+'" height="'+z+'">';if(g.ie&&g.ie<11){A+='<param name="movie" value="'+p.html(H)+'"/>';}for(var t in C.fixedAttributes){if(m.hasOwnProperty(t)){A+='<param name="'+(p.html(t)).toLowerCase()+'" value="'+p.html(C.fixedAttributes[t])+'"/>';}}for(var D in C.flashVars){var x=C.flashVars[D];if(i.isString(x)){G+="&"+p.html(D)+"="+p.html(encodeURIComponent(x));}}if(G){A+='<param name="flashVars" value="'+G+'"/>';}A+="</object>";u.set("innerHTML",A);this._swf=k.one("#"+E);}else{if(h.getFlashVersion()!=="undefined.undefined.undefined"||y===true){var r={};r.type="wrongflashversion";this.publish("wrongflashversion",{fireOnce:true});this.fire("wrongflashversion",r);}}};a.YEPSWF.prototype=l;a.YEPSWF._instances=o;a.YEPSWF.eventHandler=e;},"",{requires:["swf","escape","node"]});YUI.add("PlayerData",function(a){a.namespace("VideoAds");PlayerData=function(){this._nicobarHost=null;this.setMASHost("http://static.vap.yahoo.net/");this._nicobarQueryHost=null;this.setMASQueryHost("http://query.vap.yahoo.net/nicobarMan/ads/");this._nicobarAcct=null;this._nicobarRulesetId=null;this._clipId=null;this._clipDuration=null;this._clipTitle=null;this._playlistId=null;this._playlistTitle=null;this._playerId=null;this._playerTitle=null;this._clipCats=[];this._isLive=true;this._customParams={};this._queryRules=null;this._processAdData=function(){var d=this._adData;if(d){var g=d.adRules;try{if(g){if(typeof g.ManModel==="undefined"||g.ManModel===null){}else{var f=convertJSONToXML("ManModel",g.ManModel);this.setQueryRules(f);}}}catch(h){}var b=d.ad_targeting;var c="";try{if(b&&(typeof b==="string")&&(b.indexOf("<adData")>-1)){c="<adTargeting>"+b+"</adTargeting>";this.addCustomParameter("ad-extra:adTargeting",c);}else{c=b;this.addCustomParameter("ad-extra:adTargeting",c);}}catch(h){}try{var i=d.category;if(i){this.addCustomParameter("ad-extra:adTargetingCategory",i);}}catch(h){}}};};PlayerData.PLAYER_READY_EVENT="ready";PlayerData.CATEGORY_CHANGE_EVENT="categoryChange";PlayerData.CLIP_CHANGE_EVENT="clipChange";PlayerData.AD_BREAK_EVENT="adBreak";PlayerData.prototype.setMASHost=function(b){this._nicobarHost=b;};PlayerData.prototype.getMASHost=function(){return this._nicobarHost;};PlayerData.prototype.setMASQueryHost=function(b){this._nicobarQueryHost=b;};PlayerData.prototype.getMASQueryHost=function(){return this._nicobarQueryHost;};PlayerData.prototype.setMASAcctId=function(b){this._nicobarAcct=b;};PlayerData.prototype.getMASAcctId=function(){return this._nicobarAcct;};PlayerData.prototype.setMASRulesetId=function(b){this._nicobarRulesetId=b;};PlayerData.prototype.getMASRulesetId=function(){return this._nicobarRulesetId;};PlayerData.prototype.setClipId=function(b){this._clipId=b;};PlayerData.prototype.getClipId=function(){return this._clipId;};PlayerData.prototype.setClipDuration=function(b){this._clipDuration=b;};PlayerData.prototype.getClipDuration=function(){return this._clipDuration;};PlayerData.prototype.setClipTitle=function(b){this._clipTitle=b;};PlayerData.prototype.getClipTitle=function(){return this._clipTitle;};PlayerData.prototype.setPlaylistId=function(b){this._playlistId=b;};PlayerData.prototype.getPlaylistId=function(){return this._playlistId;};PlayerData.prototype.setPlaylistTitle=function(b){this._playlistTitle=b;};PlayerData.prototype.getPlaylistTitle=function(){return this._playlistTitle;};PlayerData.prototype.setPlayerId=function(b){this._playerId=b;};PlayerData.prototype.getPlayerId=function(){return this._playerId;};PlayerData.prototype.setPlayerTitle=function(b){this._playerTitle=b;};PlayerData.prototype.getPlayerTitle=function(){return this._playerTitle;};PlayerData.prototype.setClipCategories=function(b){this._clipCats=b;};PlayerData.prototype.getClipCategories=function(){return this._clipCats;};PlayerData.prototype.setIsLive=function(b){this._isLive=b;};PlayerData.prototype.getIsLive=function(){return this._isLive;};PlayerData.prototype.addCustomParameter=function(b,c){this._customParams[b]=c;};PlayerData.prototype.getCustomParameters=function(){return this._customParams;};PlayerData.prototype.getCustomParameter=function(b){return this._customParams[b];};PlayerData.prototype.toString=function(){return"MASHost = "+this.getMASHost()+", MASQueryHost = "+this.getMASQueryHost();};PlayerData.prototype.setQueryRules=function(b){this._queryRules=b;};PlayerData.prototype.getQueryRules=function(){return this._queryRules;};PlayerData.prototype.setAdData=function(b){this._adData=b;this._processAdData();};PlayerData.prototype.getAdData=function(){return this._adData;};jsonToXML=function(g,c){var e="";var f="";var b="";var j=null;for(j in c){var h=c[j];if(j==="content"){b=b+"<![CDATA["+h+"]]>";continue;}if(h instanceof Array){for(var d=0;d<h.length;d++){var k=h[d];b+=jsonToXML(j,k);}}else{if(h instanceof Object){b+=jsonToXML(j,h);}else{f=f+" "+j+"="+'"'+h+'"';}}}e="<"+g+f+">"+b+"</"+g+">";return e;};convertJSONToXML=function(e,d){var b="<?xml version='1.0' encoding='UTF-8'?>";var c=b+jsonToXML(e,d);return c;};a.VideoAds.PlayerData=PlayerData;},"1.0.0",{});YUI.add("VideoAdPlugin",function(b){b.namespace("VideoAds");var a=function(c){Version="7.0.0.4e5f213";this.configObj=c;var u=b.com.yahoo.ads.common.Constants;this._playerContext=null;this.adPosition=0;this.vidPosition=0;this.playerTimeout=3;
this.isCurrAdLinear=false;this.adReadyQueue=[];this.rendererType=u.FLASH;this.adExp=false;this.adExpInterrupted=false;var D=null,p=null,y=null,z=null,k=null,o=null,t=null,m=null,r=null,A=null,x={},d=[],C=null,n=false,s=false,j=null,e=null,q=false,v=false,f=1,B={x:0,y:0,width:"320px",height:"240px",bitrate:400,volume:0.7},g="",h;this.handleSubscriptions=function(){var F=this.configObj.on;var E=this.configObj.context;try{for(var G in F){this.on(G,F[G],E);}}catch(H){}};this.RenderManager=function(){if(typeof D==="undefined"||D===null){if(this.configObj.rendererType==u.HTML){D=new b.com.yahoo.ads.renderer.RenderManager(this.EventBus());}else{if(this.configObj.rendererType==u.FLASH){D=new b.com.yahoo.ads.flash.FlashRenderManager(this.EventBus());}else{var E={};E.message=u.UNKNOWN_RENDERER_EVENT;this.notifyPluginError(E);}}}return D;};this.StreamAdManager=function(){if((typeof z==="undefined"||z===null)&&this.configObj.streamAd){z=new b.com.yahoo.ads.StreamAdManager(this,this.configObj);}return z;};this.RuleCache=function(){if(typeof k==="undefined"||k===null){k=new b.com.yahoo.ads.cache.RuleCache();b.ruleCache=k;}return k;};this.CacheManager=function(){if(typeof y==="undefined"||y===null){y=new b.com.yahoo.ads.cache.CacheManager(this.EventBus(),this.rendererType);y.on(u.AD_ASSET_PREFTECH,this.onAdAssetPrefetch,this);y.on(u.AD_CACHE_REFRESH,this.onAdCacheRefresh,this);this.adsStatus=new b.com.yahoo.ads.common.AdsStatus(y);b.cacheManager=y;}return y;};this.MonitorBeaconer=function(){if(typeof A==="undefined"||A===null){A=new b.com.yahoo.ads.plugin.MonitorBeaconer(this.EventBus());A.on(MonitoringBeaconEvent.EVENT_NAME,this.onProfilerMetricEvent,this);b.monitorBeaconer=A;}return A;};this.AllocationManager=function(){if(typeof p==="undefined"||p===null){var E=(this.playerTimeout-u.AD_FB_RENDER_TIME);p=new b.com.yahoo.ads.communicator.AllocationManager(this.EventBus(),this.CacheManager(),E);p.on(this.AllocationManager().getManagedConfigLoadedEvent(),this.onManagedConfigUpdated,this);p.on(p.getComponentLoadedEvent(),this.componentInitComplete,this);p.on(p.getLoadErrorEvent(),this.onInitError,this);p.on(p.getPropertyIdReadyEvent(),this.propertyIdReady,this);p.on(p.getFallbackCommunicatorLoadedEvent(),this.handleFallback,this);b.allocManager=p;}return p;};this.AdEngine=function(){if(typeof t==="undefined"||t===null){t=new b.com.yahoo.ads.engine.AdEngine();t.init();t.addTimer(this.VideoTimeline());t.on(t.getAdEngineReadyEvent(),this.onAdEngineReady,this);t.on(t.getAdEngineAdEvent(),this.onEngineAction,this);t.on(t.getAdEngineErrorEvent(),this.onEngineError,this);b.adEngine=t;}return t;};this.ParseJSON=function(){if(typeof o==="undefined"||o===null){o=new b.com.yahoo.ads.man.ParseJSON();o.init();b.parseJSON=o;}return o;};this.EventBus=function(){if(typeof m==="undefined"||m===null){if(this.StreamAdManager()){m=this.StreamAdManager();}else{m=new b.com.yahoo.ads.plugin.EventBusSwitch();}m.setSink(this);b.eventBus=m;}return m;};this.VideoTimeline=function(){if(typeof r==="undefined"||r===null){r=new b.com.yahoo.ads.plugin.YEPVideoTimeline();r.on("complete",this.onContentVideoComplete,this);b.videoTimeline=r;}return r;};this.onConfigUpdate=function(E){this.AllocationManager().updateAllocation(E.getAllocation());this.AllocationManager().updateContext(this._playerContext);this.AdEngine().updateRules(E.getRules());};this.updateVolume=function(E){f=E;if(!this.RenderManager()){return;}this.RenderManager().setVolume(f);};this.updateClientInfo=function(E){if(typeof E!==u.UNDEFINED&&E!==null){B=E;}this.updateVolume(B.volume);this.resize(B.x,B.y,this.ConvertCssPxToInt(B.width),this.ConvertCssPxToInt(B.height),B.bitrate);};this.resize=function(F,I,H,E,G){if(!this.RenderManager()){return;}this.RenderManager().resizeAd(F,I,H,E,G);};this.onClipChange=function(K){var E,G;this.vidPosition=0;g="";var I=this.CacheManager().getRule(K.getClipId());if(I&&I.playerData){this._playerContext=I.playerData;if(I.parsedRules.getRules()){this.onConfigUpdate(I.parsedRules);}else{this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT,{type:u.AD_OPP_RULES_MISSING}));this.notifyPlayer(u.EVENT_NOAD);return;}}else{G=K.getCustomParameter(u.AD_PARAM.LICENSEID);if(G!==u.VEVO_LMSID){this.CacheManager().updateCache([K]);}this._playerContext=K;if(!this._playerContext.getAdData()){var J={};J.message=u.NO_ADDATA_EVENT;this.notifyPluginError(J);return;}E=K.getAdData().adRules;if(E&&E.hasOwnProperty("result")){this.ParseJSON().parseItems(E.result);}if(this.ParseJSON().getRules()){this.onConfigUpdate(this.ParseJSON());}else{this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT,{type:u.AD_OPP_RULES_MISSING}));this.notifyPlayer(u.EVENT_NOAD);return;}}if(typeof this.cookie==="undefined"||this.cookie===null){this.cookie=new b.com.yahoo.ads.common.Cookie("yvap",this._playerContext.getMASAcctId());}var F={};F.clipId=this._playerContext.getClipId();this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_CLIPCHANGE,F));if(this.cookie&&this.cookie.cookieEnabled()){this.cookie.setCookieParam(u.COOKIE_CLIP_COUNT,parseInt(this.cookie.getCookieParam(u.COOKIE_CLIP_COUNT),10)+1);this.cookie.setCookieParam(u.COOKIE_REC_CLIP_COUNT,parseInt(this.cookie.getCookieParam(u.COOKIE_REC_CLIP_COUNT),10)+1);this.AdEngine().setClipData(this.cookie,this._playerContext.getClipDuration());}var H={};H.type="adEvent";H.action={};H.action.type=u.NOTIFICATION_CLIP_CHANGE;H.action.obj={};H.action.obj.assetId=this._playerContext.getClipId();this.AdEngine().onAdEvent(H);};this.processEngineReadyQueue=function(){if(C){while(C.length>0){var G=C.shift();var F=G.method;var E=G.args;if(E&&E.length>0){F.apply(this,E);}else{F.call();}}}};this.onAdEngineReady=function(F,E){this.AdEngine().setActiveGroupId((this._playerContext.MASRulesetId=="-1")?"none":this._playerContext.MASRulesetId);this.AdEngine().runEngine();this.processEngineReadyQueue();this.componentInitComplete();
};this.onEngineAction=function(E){if(this.AllocationManager().ready()||E.getEventId()=="no-op"){this.processEngineAction(E);}else{this.queueEngineAction(E);}};this.onEngineError=function(F,E){this.notifyPluginError(F);};this.componentInitComplete=function(){if(this.isComponentInitComplete()){this.notifyPluginReady();this.processEngineActionQueue();}};this.onInitError=function(F,E){this.notifyPluginError(F);};this.propertyIdReady=function(){this._playerContext.addCustomParameter(u.AD_PARAM.PROPERTYID,this.AllocationManager().getPropertyId());};this.engineAdEvent=function(E){this.AdEngine().onAdEvent(E);};this.queueEngineAction=function(E){d.push(E);};this.processEngineActionQueue=function(){while(d.length!==0){this.processEngineAction(d.shift());}};this.processEngineAction=function(G){var E=G.getEventId();var H=G.getAction(),F=H.getType();if(H&&H.mType==u.TRIGGER_PLAYLIST_GATEWAY){j=H;return;}H.retryCount=0;this.fireAdOpportunity(G);switch(E){case"InsertAd":if(n){return;}this.cancelAllAds();if(F===u.TRIGGER_CLIP_PREROLL||F===u.TRIGGER_CLIP_GATEWAY){g=u.AD_POSITION_PREROLL;}else{if(F==u.TRIGGER_CLIP_POSTROLL){g=u.AD_POSITION_POSTROLL;}}this.playVideoAd(H);break;case"no-op":if(q){this.triggerPreroll();}else{this.renderNoOp();}break;case"ShowOverlay":g=u.AD_POSITION_OVERLAY;if(n){n=false;}if(this.rendererType!==null&&this.rendererType===u.FLASH){this.playVideoAd(H);}break;case"HideOverlay":this.dismissOverlay(H);break;default:break;}};this.cancelAllAds=function(){if(!this.RenderManager()){return;}this.RenderManager().cancelAds();};this.renderNoOp=function(){if(!this.RenderManager()){return;}if(v){this.notifyVideoAdEnd();}else{this.notifyPlayer(u.EVENT_NOAD);}};this.playVideoAd=function(F){var E=this.AllocationManager().pickCommunicator(F);if(!E){this.renderNoOp();return;}F.initialCommunicatorId=E.getNetworkId();E.detach(MonitoringBeaconEvent.EVENT_NAME,this.MonitorBeaconer().handleAction,this.MonitorBeaconer());E.on(MonitoringBeaconEvent.EVENT_NAME,this.MonitorBeaconer().handleAction,this.MonitorBeaconer());E.getAd(F);this.adsStatus.addAll(this.adsStatus.getStatusMonitoringData(this.MonitorBeaconer().getMonitoringDataArr()));};this.handleFallback=function(G){var E=G.communicator;var F=G.adSpec;E.getAd(F);};this.isComponentInitComplete=function(){return this.AllocationManager().ready()&&this.AdEngine().ready();};this.triggerBumper=function(){q=true;if(j){this.playVideoAd(j);return;}var E={};E.type="adEvent";E.action={};E.action.type=u.TRIGGER_CLIP_GATEWAY;E.action.obj={};this.AdEngine().onAdEvent(E);};this.triggerPreroll=function(){var E={};E.type="adEvent";E.action={};E.action.type=u.TRIGGER_CLIP_PREROLL;E.action.obj={};q=false;this.AdEngine().onAdEvent(E);};this.triggerPostroll=function(){if(n){n=false;}var E={};E.type="adEvent";E.action={};E.action.type="postroll";E.action.obj=null;this.AdEngine().onAdEvent(E);};this.cloneClientInfo=function(F){var E={};E.x=F.x;E.y=F.y;E.width=this.ConvertCssPxToInt(F.width);E.height=this.ConvertCssPxToInt(F.height);E.bitrate=F.bitrate;return E;};this.ConvertCssPxToInt=function(H){var E="0123456789.";var F=0;for(var G=0;G<H.length;G++){if(E.indexOf(H.charAt(G))==-1){if(G>0){return parseInt(H.substring(0,G),10);}}}return parseInt(F,10);};this.beginVideoExperience=function(){if(n){n=false;}if(this.isComponentInitComplete()){this.triggerBumper();}};this.registerAdSlot=function(I,H,G,F){if(F){e=I;}var E={};E.slot=H;E.width=H.style.width;E.height=H.style.height;E.id=I;if(!G){G=document.getElementsByTagName("video")[0];}E.videoSlot=G;x[I]=E;};this.updateTimeline=function(E){this.VideoTimeline().setTotalDuration(E.duration);this.VideoTimeline().setPlayheadPosition(E.position);};this.notifyPlayer=function(E,F){if(E===u.EVENT_NOAD){this.adExp=false;}this.fire(E,F);};this.notifyPluginReady=function(){if(!s){s=true;this.notifyPlayer(u.EVENT_PLUGIN_READY);}};this.notifyVideoAdStart=function(E){v=q;if(!E){E={};}this.notifyPlayer(u.EVENT_VIDEO_AD_START,E);this.adPosition=0;this.isCurrAdLinear=E.linear;if(E.blocked){if(this.isCurrAdLinear&&this.cookie&&this.cookie.cookieEnabled()){this.cookie.setCookieParam(u.COOKIE_AD_COUNT,parseInt(this.cookie.getCookieParam(u.COOKIE_AD_COUNT),10)+1);this.cookie.setCookieParam(u.COOKIE_REC_VIDEO_LENGTH,0);this.cookie.setCookieParam(u.COOKIE_REC_CLIP_COUNT,0);}}this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADSTART,null));this.CacheManager().refreshCache();};this.notifyAdPlayback=function(E){if(h&&h.getAdId&&g!==""){E.adType=g;E.adId=h.getAdId();}this.notifyPlayer(u.EVENT_AD_START_MEDIA_PLAYBACK,E);};this.notifyAdMediaFirstByte=function(F){var E=F.mediaUrl||"";this.notifyPlayer(u.EVENT_AD_MEDIA_FIRST_BYTE,F);this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADDELIVERED,{"mediaUrl":E}));};this.notifyVideoAdEnd=function(){this.adsStatus.addAll(this.adsStatus.getStatusMonitoringData(this.MonitorBeaconer().getMonitoringDataArr()));var E;if(q){if(j){j=null;this.triggerBumper();}else{this.triggerPreroll();}}else{if(this.adExpInterrupted){this.notifyPlayer(u.EVENT_VIDEO_AD_INTERRUPTED);this.adExpInterrupted=false;}else{this.adExp=false;this.notifyPlayer(u.EVENT_VIDEO_AD_END,E);}}};this.notifyNoAd=function(E){if(n||typeof E==="undefined"||E===null){return;}E.retryCount+=1;if(this.AllocationManager().isFallback(E)&&this.AllocationManager().pickFallbackCommunicator(E)){}else{if(E.getType()===u.TRIGGER_CLIP_POSTROLL||E.getType()===u.TRIGGER_CLIP_PREROLL||E.getType()===u.TRIGGER_CLIP_GATEWAY||E.getType()===u.TRIGGER_PLAYLIST_GATEWAY||E.getSubType()===u.TRIGGER_CLIP_GATEWAY||E.getSubType()===u.TRIGGER_CLIP_PREROLL||E.getSubType()===u.TRIGGER_CLIP_POSTROLL){if(q){if(j){j=null;this.triggerBumper();}else{this.triggerPreroll();}}else{if(v){this.notifyVideoAdEnd();}else{this.notifyPlayer(u.EVENT_NOAD);this.adsStatus.add(MonitoringBeaconEvent.EVENT_NOAD,true);}}}}};this.notifyNullAd=function(E){this.notifyPlayer(u.EVENT_NOAD);};this.notifyOverlayStart=function(){this.notifyPlayer(u.EVENT_OVERLAY_START);
};this.notifyOverlayEnd=function(){this.notifyPlayer(u.EVENT_OVERLAY_END);};this.notifyAdProgress=function(G){if(this.isCurrAdLinear){var F=parseInt(G.position,10);var E=F-this.adPosition;this.adPosition=F;if(this.cookie&&this.cookie.cookieEnabled()){this.cookie.setCookieParam(u.COOKIE_AD_LENGTH,parseInt(this.cookie.getCookieParam(u.COOKIE_AD_LENGTH),10)+E);}}this.notifyPlayer(u.EVENT_AD_PROGRESS,G);};this.notifyPluginError=function(E){this.notifyPlayer(u.EVENT_PLUGIN_ERROR,E);this.adsStatus.add(u.EVENT_PLUGIN_ERROR+": "+E.type,E.message);};this.notifyAdStartError=function(E){this.notifyPlayer(u.EVENT_NOAD);this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_AD_START_ERROR,E));};this.notifyAdDeliveryError=function(E){this.notifyPlayer(u.EVENT_NOAD);this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_AD_DELIVERY_ERROR,E));};this.notifyMetricsEvent=function(F){var E=F.data;if(typeof E!=="undefined"&&E!==null){if(typeof E.eventId!=="undefined"&&E.eventId!==null&&E.eventId.toLowerCase().indexOf("vpaid")>-1){this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(E.eventId,null));}}};this.notifyAdMetricsEvent=function(F){var E=this.AllocationManager().pickCommunicator();E.onAdEvent(F);};this.notifyAdReady=function(E){if(n||!this.RenderManager()){return;}if(!this.RenderManager().getRenderer()){this.adReadyQueue.push(E);}else{this.onClientInfoChanged(B);h=E;this.RenderManager().renderAd(E,this.cloneClientInfo(B),f);}};this.fireAdOpportunity=function(G){var I={};I.rulesetId=t.getActiveGroupId();I.playContext=this._playerContext.getPlaylistId();var H=G.getAction();var F=H.getType();if(F==u.TRIGGER_CLIP_GATEWAY){I.oppPosition="BMPR";}else{if(F==u.TRIGGER_CLIP_PREROLL||F==u.TRIGGER_CLIP_POSTROLL){I.oppPosition="VID";}else{I.oppPosition="";}}var E=G.getEventId();if(E=="InsertAd"){I.taken=true;I.type=H.getSubType();I.networkName=this.AllocationManager().pickCommunicator(H).getNetworkName();}else{if(E=="no-op"){I.taken=false;I.type=F;}}I.action=H;I.eventId=E;this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY,I));};this.setAdExperience=function(){q=false;v=false;if(!this.adExp){this.adExp=true;this.adExpInterrupted=false;}else{this.adExpInterrupted=true;}};this.timeout=function(){this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_PLAYER_TIMEOUT));this.AllocationManager().notifyTimeout();n=true;this.cancelAllAds();this.adExp=false;this.notifyPlayer(u.EVENT_PLUGIN_TIMEOUT);};this.onMonitoringAction=function(E){this.MonitorBeaconer().handleAction(E);};this.onProfilerMetricEvent=function(E){var F=E.getBeaconData();this.fire(MonitoringBeaconEvent.EVENT_METRIC,F);};this.onAdAssetPrefetch=function(E){this.RenderManager().addVPAIDAdToCache(E,this.cloneClientInfo(B),f);};this.onAdCacheRefresh=function(E){this.RenderManager().removeVPAIDAdFromCache(E);};this.setPlayerData=function(E){this.filterVEVO(E);this.CacheManager().updateCache(E);};this.filterVEVO=function(H){var E=0,G,F;while(E<H.length){G=H[E];F=G.getCustomParameter(u.AD_PARAM.LICENSEID);if(F===u.VEVO_LMSID){H.splice(E,1);}else{E++;}}};if(this.configObj.on){this.handleSubscriptions();}if(this.configObj.rendererType){this.rendererType=this.configObj.rendererType;}if(this.configObj.timeout){this.playerTimeout=this.configObj.timeout;}if(this.configObj.playerData){this.updatePlayerData(this.configObj.playerData);}if(this.configObj.clientInfo){this.updateClientInfo(this.configObj.clientInfo);}if(this.configObj.playerContainer){var w={};w.playerContainer=this.configObj.playerContainer;this.updateRenderer(w);}if(!this.StreamAdManager()){var i=0;var l=this.configObj.playerData;if(typeof l!=="undefined"&&l!==null){if(l instanceof Array){if(l.length>0){i=l[0].getMASAcctId();}}else{i=l.getMASAcctId();}}this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_PLUGIN_INIT,{account_id:i,version:Version}));}this.notifyPluginReady();};b.augment(a,b.EventTarget);a.prototype._postRollSwitch=true;a.prototype.beginAdExperience=function(d){this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT,{type:_CONSTANTS.AD_OPP_INIT}));this.MonitorBeaconer().resetCurrentClipAdInfo();this.setAdExperience();this.cancelAllAds();this.adsStatus.reset();if(typeof d!=="undefined"&&d!==null&&d instanceof b.VideoAds.PlayerData){this.onClipChange(d);this.beginVideoExperience();}else{var c={};c.message=_CONSTANTS.INVALID_PLAYER_DATA;this.notifyPluginError(c);}};a.prototype.detachAll=function(){var d=this.configObj.on;var c=this.configObj.context;try{for(var f in d){this.detach(f,d[f],c);}}catch(g){}};a.prototype.onContentVideoComplete=function(){this.setAdExperience();var c={};c.clipId=this._playerContext.getClipId();if(!b.com.yahoo.ads.utils.Utils.isIPhoneSupported()&&this._postRollSwitch){this.notifyPlayer(_CONSTANTS.EVENT_NOAD);return;}this.MonitorBeaconer().handleAction(new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_CLIPCHANGE,c));this.triggerPostroll();};a.prototype.onContentVideoPaused=function(){};a.prototype.onContentVideoPlaying=function(){};a.prototype.onContentVideoProgress=function(d){this.updateTimeline(d);if(this.cookie&&this.cookie.cookieEnabled()){var c=parseInt(d.position,10);if(c>0){var e=c-this.vidPosition;this.vidPosition=c;this.cookie.setCookieParam(_CONSTANTS.COOKIE_VIDEO_LENGTH,parseInt(this.cookie.getCookieParam(_CONSTANTS.COOKIE_VIDEO_LENGTH),10)+e);this.cookie.setCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH,parseInt(this.cookie.getCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH),10)+e);}}};a.prototype.onVolumeChange=function(c){this.updateVolume(c);};a.prototype.onClientInfoChanged=function(c){this.updateClientInfo(c);};a.prototype.updatePlayerData=function(d){if(d instanceof Array){this.setPlayerData(d);}else{var c=[];c.push(d);this.setPlayerData(c);}};a.prototype.fireStandaloneAdOpportunity=function(){if(this.StreamAdManager()){this.StreamAdManager().beginAd();
}};a.prototype.updateRenderer=function(d){if(d.playerContainer){if(!this.RenderManager()){return;}if(!this.RenderManager().getRenderer()){this.RenderManager().setRenderer(d.playerContainer);var c=this.adReadyQueue.pop();if(c){this.notifyAdReady(c);}}else{this.RenderManager().setRenderer(d.playerContainer);}}if(d.adContainer){}};a.prototype.destroy=function(){var c={};this.fire(_CONSTANTS.EVENT_PLUGIN_DESTROY,c);};a.prototype.timeout=function(){this.timeout();};b.VideoAds.VideoAdPlugin=a;},"1.0.0",{requires:["Timer","AllocationManager","ScopeLogger","EventBusSwitch","Constants","AbstractCommunicator","Loader","NetworkModule","RuleGroup","ParseJSON","AllocationManager","AdRenderer","NullRenderer","RenderManager","ActionRule","AdEngine","Cookie","ActionEventResolver","TriggerEventBasis","TimerEventBasis","RuleRuntime","EngineActionEvent","AdEvents","AdCache","BeaconEventData","AdPluginMetricsEvent","YahooParser","MonitorBeaconer","AdRequest","Ad","CacheManager","AdComponentSettings","VASTParser","FlashRenderManager","node","swf","event","event-custom","RuleCache","YEPVideoTimeline","SessionTimer","PlayerData","AdsStatus","StreamAdManager"]});YUI.add("AdCache",function(e){e.namespace("com.yahoo.ads.cache");var b=e.com.yahoo.ads.common.Constants,d=e.com.yahoo.ads.communicator.Ad,a=e.com.yahoo.ads.utils.HTMLStorageUtil,c=function(){var h=this.constructor,l="adCache"+Math.floor(Math.random()*100)+(new Date().getTime()),C={},o={},u=0,g={},v=[],p=a!==null,i=p?a:null,x=function(G,F){return G[F]||[];},r=function(F){return new Date().getTime()-F.timestamp>=b.AD_CACHE_EXPTIME;},k=function(F){return F.cacheIdentifier===l;},E=function(){var J,F,K,I="",G,H;for(H in C){if(C.hasOwnProperty(H)){J=C[H];if(J.length<=0){continue;}if(!I){I=H;}else{F=C[I];if(F.length){K=F[0];if(J[0].timeStamp<K.timeStamp){I=H;}}}}}if(!I){return;}G=C[I][0];if(G){F.splice(0,1);t(G);u--;}},s=function(F){if(F.getType()===d.TYPE.VPAID){F.setVpaidId(parseInt(Math.random()*100000000,10).toString());this.fire(b.AD_ASSET_PREFTECH,F);}},n=function(F){var G=F.key,H=x(C,G);if(H.length===0){C[G]=H;}if(u>=b.AD_CACHE_LIMIT){E();}H.push(F);u++;},q=function(F){var H,I=x(C,F.key),J=I.length,G;for(H=0;H<J;H++){G=I[H];if(G===F){I.splice(H,1);u--;return;}}},m=function(F){var J=F.bookingId,I=F.lmsId,G,H;if(J){H=I?(J+"_"+I):J;G=x(o,H);if(!G.length){o[H]=G;}G.push(F);}},t=function(F){var J,I=F.bookingId+"_"+F.lmsId,G=x(o,I),K=G.length,H;for(J=0;J<K;J++){H=G[J];if(H===F){G.splice(J,1);}}},w=function(F){var J,I=F.bookingId+"_"+F.lmsId,G=x(o,I),L=G.length,H,K;for(J=0;J<L;J++){H=G[J];if(!r(H)){K=H.ad;if(K.getPrefetch()===b.AD_PREFETCH_COMPLETE&&K.getType()!==d.TYPE.NOAD){G.splice(J,1);return H;}}}return null;},j=function(J){var G=[],I,H,F;for(I=0;I<J.length;I++){H=J[I];if(r(H)){if(k(H)){F=H.adJson||H.ad.getJson();v.push({"id":H.clipId,"ad":F});u--;}}else{G.push(H);}}return G;},B=function(H){var G,F;for(G=0;G<H.length;G++){F=H[G];F.adJson=F.adJson||F.ad.getJson();delete F.isL1;delete F.ad;}},D=function(H){var G,F,I;for(G=0;G<H.length;G++){F=H[G];I=new d();I.getAdFromJson(F.adJson);F.ad=I;F.isL1=!k(F);}},A=function(F,G){return F.timestamp>G.timestamp;},y=function(J){var H=window.localStorage,G,L,K=0,N,F=[],M,I;for(L in H){if(H.hasOwnProperty(L)){G=i.getItem(L,true)||{};if(G.adEntries&&G.timeStamp){M={};M.timeStamp=G.timeStamp;M.key=L;N=G.adEntries;M.size=N.length;F.push(M);}}}F.sort(A);for(I=0;I<F.length;I++){M=F[I];i.removeItem(M.key);K=K+M.size;if(K>=J){break;}}},f=p?function(G){var I,L,M,K=0,F=0,H=0,J;for(I in G){if(G.hasOwnProperty(I)){J=i.getItem(I,true)||{};M=J.adEntries||[];L=G[I];B(L);K=L.length||0;M=j(M);F=M.length||0;H=F+K-b.AD_CACHE_BUCKET_LIMIT;if(H>0){M.splice(0,H);}L=M.concat(L);L.sort(A);if(L.length>0){J.adEntries=L;J.timeStamp=new Date().getTime();i.setItem(I,J,true);delete G[I];}else{i.removeItem(I);}}}}:function(){},z=p?function(H){var K,F=null,G,I,J;I=i.getItem(H,true)||{};K=I.adEntries||[];D(K);for(G=0;G<K.length;G++){J=K[G];if(!r(J)){K.splice(G,1);if(k(J)){u--;}F=J;break;}}if(K.length>0){I.adEntries=K;I.timeStamp=new Date().getTime();i.setItem(H,I,true);}else{i.removeItem(H);}return F;}:function(){return null;};this.getAd=function(M){var I,Q,P,K=x(C,M),F=K.length,N=null,H,O,L,G,J,R;for(I=0;I<F;I++){Q=K[I];if(!r(Q)){P=Q.ad;O=P.getPrefetch();if(O===b.AD_PREFETCH_COMPLETE&&P.getType()!==d.TYPE.NOAD){L=Q;L.ad.setCacheStatus(d.CACHE_STATUS_CACHED_SPACEID);break;}else{if(O===b.AD_PREFETCH_INPROGRESS){if(!G){G=Q;}}else{if(O===b.AD_PREFETCH_TIMEOUT){if(!J){J=Q;}}}}}}if(!L){for(I=0;I<F;I++){Q=K[I];if(!r(Q)){if(!N){N=Q;}H=w(Q);if(H){L=H;L.ad.setCacheStatus(d.CACHE_STATUS_CACHED_BOOKINGID);break;}}}}if(!L){L=z(M);if(L&&!k(L)){L.ad.setCacheStatus(d.CACHE_STATUS_CACHED_SPACEID);L.ad.setLocalStorage(true);}}R=L||G||N||J;if(!R){return null;}if(R.ad.getPrefetch()===b.AD_PREFETCH_INPROGRESS){R.ad.setCacheStatus(d.CACHE_STATUS_CACHED_INCOMPLETE);}else{t(R);q(R);g=R;}return R.ad;};this.addAd=function(G,I,J,K,H){var F;if(this.isAdPresent(G,K)){return;}I.setAsCached(true);F={"timestamp":new Date().getTime(),"ad":I,"clipId":J,"tId":K,"lmsId":H,"key":G,"bookingId":I.getBookingId(),"cacheIdentifier":l};n(F);m(F);s(I);};this.updateAd=function(H,J,L){var G,F,I=C[H],K;if(!I){return;}K=I.length;for(G=0;G<K;G++){F=I[G];if(F.tId===L){F.ad=J;s(J);break;}}};this.getExpiredAds=function(){var N,R,M=[],P,I,F,O,J,Q,H,G={},K;for(P in C){if(C.hasOwnProperty(P)){N=C[P];F=N.length;O=[];for(I=0;I<F;I++){R=N[I];J=R.ad;Q=J.getPrefetch();if(r(R)){t(R);H=R.adJson||R.ad.getJson();v.push({"id":R.clipId,"ad":H});u--;}else{if(p&&Q===b.AD_PREFETCH_COMPLETE&&J.getType()!==d.TYPE.NOAD){t(R);K=G[P]||[];K.push(R);G[P]=K;}else{O.push(R);}}}C[P]=O;}}try{f(G);}catch(L){y(10);for(var P in G){O=C[P]||[];K=G[P]||[];D(K);O=O.concat(K);O.sort(A);C[P]=O;}}M=v;v=[];return M;};this.isAdPresent=function(G,J){var I,H=C[G],F;if(!H){return false;}for(F=0;F<H.length;F++){I=H[F];if(I&&I.tId===J){return true;}}return false;};this.getSpaceIdMap=function(){var J={},G,K,F,I,H;for(G in C){if(C.hasOwnProperty(G)){J[G]=C[G];
}}if(p){F=window.localStorage;for(G in F){if(F.hasOwnProperty(G)&&C[G]){H=i.getItem(G,true)||{};K=H.adEntries||[];D(K);I=J[G]||[];J[G]=I.concat(K);}}}return J;};this.getBookingIdMap=function(){return o;};this.getLastAdEntry=function(){return g;};};e.augment(c,e.EventTarget);e.com.yahoo.ads.cache.AdCache=c;},"1.0.0",{requires:["node","Ad","Constants","HTMLStorageUtil"]});YUI.add("CacheManager",function(b){b.namespace("com.yahoo.ads.cache");var a=function(h,f){var e=b.com.yahoo.ads.common.Constants,d=b.com.yahoo.ads.communicator.AbstractCommunicator,c=new b.com.yahoo.ads.cache.AdCache(),l=this,j=new b.com.yahoo.ads.cache.RuleCache(),k=window.YMedia&&window.YMedia.playerManager?window.YMedia.playerManager.getPlaylistObject():null,g=function(n){var m="";if(n){if(n&&n.network){switch(n.network.toLowerCase()){case d.NAME.FWV:case d.NAME.CBS:if(n.clipId){m=n.network+"_"+n.clipId;}break;default:if(n.spaceId&&n.pos&&n.lmsId){m=n.network+"_"+n.spaceId+"_"+n.pos+"_"+n.lmsId;}break;}}}return m;},i=function(u,F,m){var G,r,q,p,t,C,y,A,n,x,E,v,D,o=null,z=null,B,s,w;if(!u){return;}r=u.key;if(r&&!r.clipId){r.clipId=F.getClipId();}G=g(r);if(!G){return;}y=r.network;if(c.isAdPresent(G,r.tId)){return;}q=new b.com.yahoo.ads.communicator.Prefetcher(l,e.AD_PREFETCH_TIME);p=m.getAllocation();t=p.getNetworkModules();C=p.getSettings();for(B in t){if(t.hasOwnProperty(B)){o=t[B];if(o.getName().indexOf(y)===0){v=true;D=o;break;}}}if(v&&D){z=new b.com.yahoo.ads.man.AdComponentSettings();z.init(C,D.getId(),null);q.setNetworkModule(D);q.setNetworkSettings(z);}q.init(F);q.key=G;q.tId=r.tId;q.lmsId=r.lmsId;q.clipId=r.clipId;q.revShare=r.revShare;q.on(e.AD_PREFETCH_EVENT,function(I){try{s=I.adObject;w=s.getCommunicator();A=w.key;n=w.clipId;x=w.tId;E=w.lmsId;if(I.update){c.updateAd(A,s,x);}else{c.addAd(A,s,n,x,E);}}catch(H){}},l);q.prefetchAd(u.adXML);};this.onAdAssetPrefetch=function(m){this.fire(e.AD_ASSET_PREFTECH,m);};this.getRendererType=function(){return f;};this.getAd=function(m){return c.getAd(m);};this.getRule=function(m){return j.getRule(m);};this.getSpaceIdMap=function(){return c.getSpaceIdMap();};this.getBookingIdMap=function(){return c.getBookingIdMap();};this.getLastAdEntry=function(){return c.getLastAdEntry();};this.getRuleMap=function(){return j.getRules();};this.update=function(s){var q,v,t,w,m,r,n,p,o,u;for(p=0;p<s.length;p++){q=s[p];v=q.getAdData();if(v&&v.adRules){w=v.adRules.result;m=q.getClipId();r=j.getRule(m);if(r){n=r.parsedRules;}else{n=new b.com.yahoo.ads.man.ParseJSON();n.parseItems(w);if(!(n.getRules()&&n.getAllocation())){continue;}j.addRule(m,{"playerData":q,"parsedRules":n});}t=w.adList;if(!t){return;}for(o=0;o<t.length;o++){i(t[o],q,n);}}}};c.on(e.AD_ASSET_PREFTECH,this.onAdAssetPrefetch,this);this.updateCache=function(m){if(typeof m==="undefined"||m===null){return;}this.update(m);this.refreshCache();};this.refreshCache=function(){var p,n,q,m=this,o=c.getExpiredAds();if(!o.length){return;}this.fire(e.AD_CACHE_REFRESH,o);if(k){k.fetchMetaData(o,{success:function(s){n=[];q=null;for(var r=0;r<s.length;r++){try{p=s[r];q=new b.VideoAds.PlayerData();q.setClipId(p.get("id"));q.setClipDuration(p.get("duration"));q.setMASAcctId("");q.setPlaylistId("");q.setAdData(p.get("adData"));q.addCustomParameter(e.AD_PARAM.SPACEID,p.get("metrics").pspid);q.addCustomParameter(e.AD_PARAM.LICENSEID,p.get("licenseId"));q.setIsLive(p.get("isLive"));n.push(q);}catch(t){}}m.update(n);},failure:function(){}});}};};b.augment(a,b.EventTarget);b.com.yahoo.ads.cache.CacheManager=a;},"1.0.0",{requires:["node","Constants","ScopeLogger","AdCache","RuleCache","AdComponentSettings","ParseJSON","Prefetcher","RedirectResolver"]});YUI.add("RuleCache",function(a){a.namespace("com.yahoo.ads.cache");a.com.yahoo.ads.cache.RuleCache=function(){var b={};this.addRule=function(d,c){b[d]=c;};this.getRule=function(c){return b[c];};this.getRules=function(){return b;};};},"1.0.0",{});YUI.add("AdCacheStatistics",function(b){b.namespace("com.yahoo.ads.common");function a(){var d=0,e=0,f=0,c=0;return{addVast:function(){d+=1;},addNonVast:function(){e+=1;},addRedirect:function(){f+=1;},addVpaid:function(){c+=1;},toString:function(){var g=d+e+f;return"Total Ads: "+g+", VAST Ads: "+d+" NonVAST Ads: "+e+" Redirects: "+f+" VPAID ads: "+c;}};}b.com.yahoo.ads.common.AdCacheStatistics=a;},"1.0.0",{});YUI.add("AdsStatus",function(b){b.namespace("com.yahoo.ads.common");function a(o){var k=b.com.yahoo.ads.plugin.YWACode;a.THREE_PAS="3PAS";a.HOSTED="hosted";a[k.AD_RESPONSE_CODE]={"title":"Ad Call Response Code","description-1":"Got No-Ad","description-2":"Got an Ad","description-102":"Communicator Ad call timeout","description-103":"Communicator Load error","description-104":"Ad call error","description-105":"Plugin timeout","description-107":"VMAP parsing error","description-108":"General Ad XML parsing error","description-121":"SSL Unsupported error","description-122":"AD targeting missing error","description-123":"Ad response processing generic error","description-124":"Ad response null (Ad Blocker)"};a[k.AD_RESPONSE_TYPE]={"title":"Ad Response Type ","description-1":"Non-VAST Ad response","description-2":"VAST Ad response","description-3":"No-AD","description-4":"VPAID Ad response","description-106":"Generic error"};a[k.AD_TEMPORAL_PLACEMENT]={"title":"Ad Position","description-clipGateway":"Bumper Ad","description-preroll":"Preroll Ad","description-postroll":"Postroll Ad","description-overlay":"Overlay Ad","description":"Other type of Ad (non - PreRoll / PostRoll / BMPR / Overlay)"};a[k.AD_CALL_LATENCY]={"title":"Ad Call Latency","description":"Ad Call Latency (adl)"};a[k.AD_START_LATENCY]={"title":"Ad Start Latency","description":"Ad Start Latency (asl)"};a[k.AD_FALLBACK]={"title":"Fallback Ad","description-1":"This is a fallback ad","description-2":"This is not a fallback ad"};a[k.AD_OPP_TAKEN]={"title":"Ad Opportunity Taken","description-1":"Taken","description-2":"Not Taken"};a[k.AD_CACHE_HIT]={"title":"Ad Cache Hit","description-1":"Not cached","description-2":"SpaceID - hit","description-3":"BookingID - hit","description-4":"Prefetch in progress"};
a[k.AD_BOOKING_ID]={"title":"Booking ID of this Ad","description":""};a[k.AD_MEDIASTORE]={"title":"Mediastore","description-M":"This Ad stream is served from MobStor","description-A":"This AD stream is served from Atlas","description":"Not from MobStor or Atlas",};a[k.AD_CREATIVE_ID]={"title":"Creative ID of this Ad","description":""};a[k.VPAID_SWF_LOAD_CONNECTION_LATENCY]={"title":"VPAID Connection Latency","description":"VPAID Connection Latency (vsc) "};a[k.VPAID_SWF_LOAD_LATENCY]={"title":"VPAID SWF Load latecy","description":"VPAID SWF Load latecy (vsl)"};a[k.VPAID_TOTAL_LATENCY]={"title":"VPAID Total Latency","description":"VPAID Total Latency (avl)"};a[k.VPAID_OVERALL]={"title":"VPAID Overall Latency","description":"VPAID Overall Latency: adl + avl"};a[k.VAST_OVERALL]={"title":"VAST Overall Latency","description":"VAST Overall Latency: adl + aml"};a[k.AD_MEDIA_LATENCY]={"title":"Ad Media Latency","description":"Ad Media Latency (aml)"};a[k.AD_NETWORK_NAME]={"title":"Ad Network Name","description":"Ad Network that was used to fetch the ad."};a[k.YVAP_TIMEOUT_AT_ADSTART]={"title":"Ad Start timeout","description":"No Ad Start timeout.","description-1":"Ad did not start because of a Ad start timeout."};a[k.YVAP_TIMEOUT_AT_ADCALL]={"title":"Ad Call timeout","description":"No Ad call timeout.","description-1":"Ad did not start because of a Ad call timeout."};a.THREE_PAS_DOMAIN={"title":"Three PAS Domain","description":"Not 3PAS"};a[k.AD_START_ERROR]={"title":"Ad Start Error","description":"Ad was returned, but there was an Ad start error","description-109":"Ad was returned, but Ad start error: FLASH_SECURITY_ERROR","description-110":"Ad was returned, but Ad start error: FLASH_IO_ERROR","description-111":"Ad was returned, but Ad start error: FLASH_ASYNC_ERROR","description-112":"Ad was returned, but Ad start error: FLASH_GENERIC ERROR","description-113":"Ad was returned, but Ad start error: FLASH_VPAID_ERROR","description-120":"Ad was returned, but Ad start error: INCOMPATIBLE MEDIA"};a.reason={"success":"Ad showed up fine.","no_ad":"Reason for ad not showing up: NO AD returned.","timeout":"Reason for ad not showing up: Timeout","other":"Reason for ad not showing up: ","ad_start_error":"Ad was returned, but there was an ad start error."};a.AD="AD";var j=b.com.yahoo.ads.common.Constants,p=b.com.yahoo.ads.common.HtmlTable,I=b.com.yahoo.ads.communicator.Ad,u=b.com.yahoo.ads.plugin.MonitoringBeaconEvent,q=b.com.yahoo.ads.plugin.MonitorBeaconer,x=j.NONBREAKING_SPACE,t="#",h="key",g="bookingId",B="toTableRows",H="yes",s="title",r="description",G="success",i="no_ad",c="timeout",E="other",y="ad_start_error",F="Summary",w="So far no Ad Opportunities have been taken for this clip.",e={},D=[],d={};function A(L,M,Q,O){var P,N,J,K;N=O.ad;if(!N){return"";}P="<tr>";J=N.getType&&N.getType()||"";K=N.redirectUrlList&&N.redirectUrlList[0]||"";if(L!==null){P+="<td>"+L+"</td>";}return P+"<td>"+[M||x,Q||x,O.tId||x,N.getAdId&&N.getAdId()||x,O.clipId||x,f(O.timestamp),(J===I.TYPE.NOAD?I.TYPE.NOAD:a.AD),(K?a.THREE_PAS:a.HOSTED),(K?v(K):x),(J===I.TYPE.VPAID?H:x),(O.isL1?H:x)].join("</td><td>")+"</td></tr>";}function m(J){var L=a.reason,M=L[G];if(J[k.AD_RESPONSE_CODE]===1){M=L[i];}else{if(J[k.AD_RESPONSE_CODE]===2&&(J[k.YVAP_TIMEOUT_AT_ADSTART]===1||J[k.YVAP_TIMEOUT_AT_ADCALL]===1)){M=L[c];}else{if(J[k.AD_RESPONSE_CODE]!==2&&J[k.AD_RESPONSE_CODE]!==1){var K=a[k.AD_RESPONSE_CODE];M=L[E]+K[r+"-"+J[k.AD_RESPONSE_CODE]];}}}return M;}function f(J){return new Date(J).toString();}function v(L){var K,M,J;K=L.match(/^(?:http[s]?:\/\/)?([^:\/\s]+)/i);K=K&&K[1]||"";M=K.match(/([^\.]+\.[^\.]+)$/);J=M&&M[1]||j.NOT_AVAILABLE;return J;}function z(J,K){if(!J){return;}if(J.getRedirectURL()!==""){K.addRedirect();}if(J.getType()===I.TYPE.VPAID){K.addVpaid();}if(J.isVast()===true){K.addVast();}else{K.addNonVast();}}function n(K){var J;if(Object.keys){return Object.keys(K).length;}J=0;b.each(K,function(){J+=1;});return J;}function C(M,J){var L={},K=j.NOT_AVAILABLE,N=K;if(b.Lang.isValue(M)&&b.Lang.isValue(J)&&J>0){N=M/J;}L["Viewed clip count (from cookie)"]=b.Lang.isValue(M)?M:K;L["Viewed ad count (from cookie)"]=b.Lang.isValue(J)?J:K;L["clips per ad"]=N;return L;}function l(){var N=0,M=0,J={},L=o.getSpaceIdMap(),O=o.getRuleMap(),K={};b.each(L,function(P,Q){if(Q!==B){N+=P.length;M+=1;b.each(P,function(U){var S=false,R=Q.split("_")[0],T=J[R];if(!b.Lang.isObject(T)){T=new b.com.yahoo.ads.common.AdCacheStatistics();S=true;}z(U.ad,T);if(S){J[R]=T;}});}});K["Total Cached Ads"]=N;K["Total Cached Keys"]=M;K["Total Cached Clips"]=n(O)-1;b.each(J,function(Q,P){K["AdsCache Network: "+P]=Q.toString();});return K;}return{getStatusMonitoringData:function(P){var J=[],M,S,Q;for(M=0;M<P.length;M++){var K=P[M],L={},R=K[k.AD_OPP_TAKEN]===q.YVAP_AD_OPPORTUNITY_TAKEN,O=K[k.REDIRECT_HOP],N=R&&b.Lang.isValue(O)&&O>0;for(S in K){if(a.hasOwnProperty(S)&&K[S]){Q=a[S];L[Q[s]]={"code":K[S]||x,"description":Q[r+"-"+K[S]]||Q[r]};}}L[a.THREE_PAS_DOMAIN[s]]={"code":N?v(K[k.AD_REDIRECT]):"-","description":N?"":a.THREE_PAS_DOMAIN[r]};L[F]={"code":"","description":m(K)};J.push(L);}return J;},toTable:function(){var T=o.getSpaceIdMap(),Q=o.getBookingIdMap(),S=o.getRuleMap(),J=o.getLastAdEntry(),R,M,L,P,U,O,K,N=["txnId","adId","clipId","timestamp","Ad/NoAd","3PAS/hosted","3PAS Domain","VPAID","isL1"];T.toTableRows=function(){var X="",W=0,V=this;b.each(V,function(Y,Z){if(Z!==B){b.each(Y,function(aa){X+=A(W,Z,aa.bookingId,aa);W+=1;});}});return X;};Q.toTableRows=function(){var X="",W=0,V=this;b.each(V,function(Y,Z){if(Z!==B){b.each(Y,function(aa){X+=A(W,Z,aa.key,aa);W+=1;});}});return X;};S.toTableRows=function(){var X="",W=0,V=this;b.each(V,function(Z,Y){if(Y!==B){X+="<tr><td>"+W+"</td><td>"+Y+"</td></tr>";W+=1;}});return X;};J.toTableRows=function(){var V=this;return A(null,V.key,V.bookingId,V);};D.toTableRows=function(){var V="";if(D.length){b.each(this,function(X,W){V+='<tr><td colspan="3"><strong>Ad '+(W+1)+'</strong></td><td style="display:none;"></td><td style="display:none;"></td></tr>';
b.each(X,function(Z,Y){V+="<tr><td>"+Y+"</td><td>"+Z.code+"</td><td>"+Z.description+"</td></tr>";});V+='<tr style="height:15px">&nbsp;</tr>';});}else{V+='<tr><td colspan="3">'+w+"</td></tr>";}return V;};R=new p(D,"Ad Status",[]).toString();M=new p(C(window._clipCount,window._adCount),"Cumulative Stats",[]).toString();L=new p(l(),"AdCache Stats",[]).toString();P=new p(T,"AdCache SpaceId Status",[t,h,g].concat(N)).toString();U=new p(Q,"AdCache BookingId Status",[t,g,h].concat(N)).toString();O=new p(S,"RuleCache ClipIds",[]).toString();K=new p(J,"Last AdEntry Retrieved from Cache",[h,g].concat(N)).toString();return[R,M,L,P,U,O,K].join("<br>");},add:function(J,K){e[J]=K;},addAll:function(K){var J=this;D=[];b.each(K,function(L){e={};b.each(L,function(N,M){J.add(M,N);});D.push(e);});},remove:function(J){delete e[J];},reset:function(){e={};D=[];d={};}};}b.com.yahoo.ads.common.AdsStatus=a;},"1.0.0",{requires:["ScopeLogger","CacheManager","MonitoringBeaconEvent","AdCacheStatistics","HtmlTable","Ad","MonitorBeaconer","YWACode"]});YUI.add("Constants",function(a){a.namespace("com.yahoo.ads.common");prefix="";Constants={};Constants.FLASH_PLUGIN_URL="http://d.yimg.com/ks/plugin/AdPlugin.swf";Constants.EVENT_PLUGIN_ERROR="AdPluginError";Constants.EVENT_PLUGIN_LOADED="PluginLoaded";Constants.EVENT_PLUGIN_READY="PluginReady";Constants.EVENT_PLUGIN_DESTROY="AdPluginDestroy";Constants.EVENT_PLUGIN_TIMEOUT="AdPluginTimeout";Constants.EVENT_AD_PLAYBACK_NONE="AdPlaybackNone";Constants.EVENT_AD_PLAYBACK_START="AdPlaybackStart";Constants.EVENT_AD_PLAYBACK_STOP="AdPlaybackStop";Constants.EVENT_VIDEO_AD_START="VideoAdStart";Constants.EVENT_AD_START_MEDIA_PLAYBACK="AdStartMediaPlayback";Constants.EVENT_AD_MEDIA_FIRST_BYTE="AdStartMediaFirstByte";Constants.EVENT_VIDEO_AD_DISPLAY="VideoAdDisplay";Constants.EVENT_VIDEO_AD_END="VideoAdEnd";Constants.EVENT_VIDEO_AD_INTERRUPTED="VideoAdInterrupted";Constants.EVENT_RICH_AD_START="RichAdStart";Constants.EVENT_RICH_AD_END="RichAdEnd";Constants.EVENT_OVERLAY_START="OverlayStart";Constants.EVENT_OVERLAY_END="OverlayEnd";Constants.EVENT_EXPERIENCE_COMPLETE="ExperienceComplete";Constants.EVENT_PREPARE_VIDEO="PrepareVideo";Constants.EVENT_AD_PROGRESS="blockingAdProgress";Constants.EVENT_NOAD="PluginNoAd";Constants.EVENT_PROFILER="AdPluginProfiler";Constants.EVENT_METRIC="metricsEvent";Constants.AD_START_ERROR="AD_START_ERROR";Constants.AD_DELIVERY_ERROR="AD_DELIVERY_ERROR";Constants.MANAGED_CONFIG_LOADED_EVENT="MANAGED_CONFIG_LOADED_EVENT";Constants.COMPONENT_LOADED_EVENT="COMPONENT_LOADED_EVENT";Constants.PROPERTY_ID_READY_EVENT="PROPERTY_ID_READY_EVENT";Constants.LOADED_FALLBACK_COMMUNICATOR="LOADED_FALLBACK_COMMUNICATOR";Constants.LOAD_ERROR_EVENT="errorLoading";Constants.AD_ENGINE_READY_EVENT="AD_ENGINE_READY_EVENT";Constants.AD_ENGINE_ERROR_EVENT="AD_ENGINE_ERROR_EVENT";Constants.AD_ENGINE_AD_EVENT="AD_ENGINE_AD_EVENT";Constants.NO_RENDERER_EVENT="NO_RENDERER_EVENT";Constants.NO_ADDATA_EVENT="NO_ADDATA_EVENT";Constants.UNKNOWN_RENDERER_EVENT="UNKNOWN_RENDERER_EVENT";Constants.PLAYER_READY_EVENT="PLAYER_READY_EVENT";Constants.CATEGORY_CHANGE_EVENT="CATEGORY_CHANGE_EVENT";Constants.CLIP_CHANGE_EVENT="CLIP_CHANGE_EVENT";Constants.HTML="html";Constants.FLASH="flash";Constants.ALLOCATION="Allocation";Constants.RULEGROUP="RuleGroup";Constants.LICENSOR_TYPE_ID="licensorTypeId";Constants.SHARED_OBJECTS_NOT_ALLOWED="SharedObjectsNotAllowed";Constants.MME="MME";Constants.AD_READY_EVENT="AdReady";Constants.NOAD_EVENT="NoAd";Constants.NULL_AD_EVENT="NullAd";Constants.ADCALL_ERROR_EVENT="AdCallError";Constants.AD_REDIRECT_EVENT="AdRedirect";Constants.AD_REQUEST_EVENT="AdRequest";Constants.AD_PREFETCH_EVENT="AdPrefetch";Constants.AD_ASSET_PREFTECH="AdAssetPrefetch";Constants.AD_CACHE_REFRESH="AdCacheRefresh";Constants.AD_OPP_INIT="init";Constants.AD_OPP_RULES_MISSING="rulesmissing";Constants.INVALID_PLAYER_DATA="INVALID_PLAYER_DATA";Constants.TRIGGER_PLAYER_GATEWAY="playerGateway";Constants.TRIGGER_PLAYLIST_GATEWAY="playlistGateway";Constants.TRIGGER_CLIP_GATEWAY="clipGateway";Constants.TRIGGER_CLIP_PREROLL="preroll";Constants.TRIGGER_CLIP_POSTROLL="postroll";Constants.NOTIFICATION_CLIP_CHANGE="clipChange";Constants.AD_POSITION_PREROLL=Constants.TRIGGER_CLIP_PREROLL;Constants.AD_POSITION_POSTROLL=Constants.TRIGGER_CLIP_POSTROLL;Constants.AD_POSITION_OVERLAY="overlay";Constants.EVENT_SKIN_PLAYER="skinPlayer";Constants.EVENT_UNLOCK_PLAYINST="unlockPlaylist";Constants.EVENT_SCALE_VIDEO="scaleVideo";Constants.EVENT_AD_PROGRESS="blockingAdProgress";Constants.EVENT_AD_METRICS="adMetricsEvent";Constants.AD_EVENT="adEvent";Constants.EVENT_CONTENT_COMPLETE="ContentVideoComplete";Constants.REDIRECT_RESOLVED="REDIRECT_RESOLVED";Constants.REDIRECT_TIMEDOUT="REDIRECT_TIMEDOUT";Constants.ControlTweenEvent="ControlTweenEvent";Constants.ClientInfoChangedEvent="ClientInfoChanged";Constants.RenderCompleteEvent="AD_COMPLETE";Constants.VolumeChangedEvent="volumechanged";Constants.linearTemplateUrl="http://d.yimg.com/ks/templates/clickable_bumper_renderer.js";Constants.linearTemplateInitFn="getVPAIDAd";Constants.AD_CACHE_LIMIT=50;Constants.AD_CACHE_BUCKET_LIMIT=10;Constants.AD_CACHE_EXPTIME=1200000;Constants.AD_PREFETCH_TIME=2.9;Constants.AD_FB_RENDER_TIME=0.15;Constants.COOKIE_AD_COUNT="ac";Constants.COOKIE_CLIP_COUNT="cc";Constants.COOKIE_VIDEO_LENGTH="vl";Constants.COOKIE_REC_VIDEO_LENGTH="rvl";Constants.COOKIE_REC_CLIP_COUNT="rcc";Constants.COOKIE_AD_LENGTH="al";Constants.UNDEFINED="undefined";Constants.IMPRESSION="impression";Constants.BITRATE="bitrate";Constants.REDIRECT_NOAD="redirectNoAd";Constants.CPCV="cpcv";Constants.SKIP="skip";Constants.CLICKTHROUGH="clickthrough";Constants.NOT_AVAILABLE="N/A";Constants.NONBREAKING_SPACE="&nbsp;";Constants.ADXML_ENABLE_SKIP_AD=2;Constants.ADXML_DISABLE_SKIP_AD=1;Constants.AD_ENABLE_SKIP=1;Constants.AD_DISABLE_SKIP=0;Constants.VMAP_BREAK_START_EVENT="vmap_breakstart";Constants.CDATA_SECTION_NODE=4;Constants.TEXT_NODE=3;Constants.AD_START_ERROR_CODES={FLASH_SECURITY_ERROR:"FLASH_SECURITY_ERROR",FLASH_IO_ERROR:"FLASH_IO_ERROR",FLASH_ASYNC_ERROR:"FLASH_ASYNC_ERROR",FLASH_GENERIC_ERROR:"FLASH_GENERIC_ERROR",FLASH_VPAID_ERROR:"FLASH_VPAID_ERROR",INCOMPATIBLE_MEDIA:"INCOMPATIBLE_MEDIA"};
Constants.LOCATION_PROTOCOL={"HTTP":"http:","HTTPS":"https:"};Constants.AD_PREFETCH_NONE="AD_PREFETCH_NONE";Constants.AD_PREFETCH_INPROGRESS="AD_PREFETCH_INPROGRESS";Constants.AD_PREFETCH_COMPLETE="AD_PREFETCH_COMPLETE";Constants.AD_PREFETCH_TIMEOUT="AD_PREFETCH_TIMEOUT";Constants.AD_PREFETCH_ERROR="AD_PREFETCH_ERROR";Constants.AD_PARAM={SPACEID:"ad-biz:spaceID",PROPERTYID:"ad-biz:propertyid",PARTNERID:"partnerId",LICENSEID:"ad-biz:licenseID"};Constants.TYPE_OF_NUMBER="number";Constants.TYPE_OF_STRING="string";Constants.TYPE_OF_UNDEFINED="undefined";Constants.TYPE_OF_OBJECT="object";Constants.TYPE_OF_BOOLEAN="boolean";Constants.TYPE_OF_FUNCTION="function";Constants.TYPE_OF_XML="xml";Constants.TRUE="true";Constants.FALSE="false";Constants.BOOKINGID="bookingId";Constants.CREATIVEID="creativeId";Constants.SSL_ON=true;Constants.COUNTTOSUPPLY_ON=true;Constants.TECHNOTARGET_ON=false;Constants.LOCALSTORAGE_ON=true;Constants.ATLAS_ON=false;Constants.MS_XMLDOM="Microsoft.XMLDOM";Constants.ERR_REQ_GENERIC="ERR_REQ_GENERIC";Constants.ERR_RESP_GENERIC="ERR_RESP_GENERIC";Constants.ERR_SSL_UNSUPPORTED="ERR_SSL_UNSUPPORTED";Constants.ERR_REQ_ADTGT="ERR_REQ_ADTGT";Constants.ERROR_PARSING="ERR_RESP_PARSING";Constants.PLAYER_CLASS_NAME="yui3-videoplayer-content";Constants.BOOKINGIDMAP="bookingidMap";Constants.SPACEIDMAP="spaceidMap";Constants.CACHEUPDATE_URL="http://cache.adserver.yahoo.com/adscache/v1/creative/update";Constants.HTTP="http://";Constants.HTTPS="https://";Constants.SSL="https:";Constants.BUMPER_TEMPLATE_SUFFIX=".yimg.com/ks/templates/BumperAd.swf";Constants.CLICKABLE_TEMPLATE_SUFFIX=".yimg.com/ks/templates/ClickableAd.swf";Constants.OVERLAY_TEMPLATE_SUFFIX=".yimg.com/ks/templates/OverlayC2SAd.swf";Constants.VEVO_LMSID="a077000000IsurlAAB";a.com.yahoo.ads.common.Constants=Constants;},"1.0.0",{requires:["node"]});YUI.add("Cookie",function(b){b.namespace("com.yahoo.ads.common");var a=function(d,e){var c=b.com.yahoo.ads.common.Constants,f="@";this._cookieEnabled=!!(navigator.cookieEnabled);this._cookieData=null;this._name=d;this._acc=e;this.readCookie=function(){var g="yvap"+"=";var k=document.cookie.split(";");for(var m=0;m<k.length;m++){var n=k[m];while(n.charAt(0)===" "){n=n.substring(1,n.length);}if(n.indexOf(g)===0){var h=n.substring(0,n.length);var p=h.split(f);this._cookieData=[];for(var l=0;l<p.length;l++){var q=p[l];var o=q.split("=");this._cookieData[o[0]]=o[1];}}}};this.getCookie=function(){var g="";for(var h in this._cookieData){g=g+f+h+"="+this._cookieData[h];}return g;};this.writeCookie=function(){var h=document.domain;var j="";var i=this._acc;if(h.indexOf(".yahoo.com")!==-1){j=h.substring(h.indexOf(".yahoo.com"));}else{if(h.indexOf(".yahoo.net")!==-1){j=h.substring(h.indexOf(".yahoo.net"));}}var g=this.getCookie();if(j){document.cookie="yvap"+"="+i+g+";domain="+j+";path=/;";}else{document.cookie="yvap"+"="+i+g+";";}};if(this._cookieEnabled){this.readCookie();if(!this._cookieData){this._cookieData=[];this.setCookieParam(c.COOKIE_CLIP_COUNT,0);this.setCookieParam(c.COOKIE_AD_LENGTH,0);this.setCookieParam(c.COOKIE_VIDEO_LENGTH,0);this.setCookieParam(c.COOKIE_REC_VIDEO_LENGTH,0);this.setCookieParam(c.COOKIE_AD_COUNT,0);}}};a.prototype.cookieEnabled=function(){return this._cookieEnabled;};a.prototype.cookieData=function(){return this._cookieData;};a.prototype.setCookieParam=function(c,d){if(isFinite(d)&&!isNaN(d)){this._cookieData[c]=d;this.writeCookie();}};a.prototype.getCookieParam=function(c){this.readCookie();if(!this._cookieData[c]){this.setCookieParam(c,0);}return this._cookieData[c];};b.com.yahoo.ads.common.Cookie=a;},"1.0.0",{requires:["node"]});YUI.add("HtmlTable",function(b){b.namespace("com.yahoo.ads.common");function a(d,h,e){function i(){var r="";b.each(j,function(t,s){r+="<tr><td>"+s+"</td><td>"+t+"</td></tr>";});return r;}function k(){if(!q){return 0;}var r=q.match(/^.*?<\/tr>/)[0]||"";return r.match(/<td\b/g).length;}function f(){var r,t=l.NONBREAKING_SPACE,x=o?Math.min(c,o):c,w=Math.max(o-c,0),v,u,s;if(!x){return"";}s="<tr>";for(r=0;r<x;r++){v=g[r]||t;s+="<td>"+v+"</td>";}if(w){u="<td>"+t+"</td>";for(r=0;r<w;r++){s+=u;}}return s+"</tr>";}function n(){return p?"<tr><td colspan='"+m+"'>"+p+"</td></tr>":"";}var j=d||{},q=j.toTableRows?j.toTableRows():i(),p=h||"",g=e||[],c=g.length,l=b.com.yahoo.ads.common.Constants,o=k(),m=Math.max(1,o,g.length);return{toString:function(){return"<table border='1'>"+n()+f()+(q?q:"<tr><td colspan='"+m+"'>NONE</td></tr>")+"</table>";}};}b.com.yahoo.ads.common.HtmlTable=a;},"1.0.0",{});YUI.add("AbstractCommunicator",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(F,p,I){var H=b.com.yahoo.ads.common.Constants,E=b.com.yahoo.ads.communicator.Ad,n=b.com.yahoo.ads.communicator.parser.VASTParser,f=b.com.yahoo.ads.utils.Utils,x=".adserver.yahoo.com/a",v="http://ads.yimg.com/a/a/vdo/a/1x1.gif",l=null,j=null,r=null,z=null,M=p,y=null,k=I,N=0,G=[],e=null,t=null,i=null,s=null,m=F,g=this,c=false,o=false,J=false,C=0,u=null,L=new b.com.yahoo.ads.communicator.adrequests.AdRequestManager(),A=null;var h=function(Q){var P="",O=i.getName();switch(O.toLowerCase()){case a.NAME.FWV:case a.NAME.CBS:P=O+"_"+t.getClipId();break;default:P=O+"_"+t.getCustomParameter(H.AD_PARAM.SPACEID)+"_"+Q+"_"+t.getCustomParameter(H.AD_PARAM.LICENSEID);break;}return P;};var q=function(O,P){if(typeof z===H.UNDEFINED||z===null){z=new b.com.yahoo.ads.plugin.Timer(O*1000,0);}else{z.reset();}z.addFunctionOnComplete(g,g._handleTimeOut,P);z.start();};var K=function(P){t=P;var O=null;if(typeof M!==H.UNDEFINED&&M!==null){O=M.getRendererType();}L.setRendererType(O);y=new b.com.yahoo.ads.communicator.parser.ParserManager();};var d=function(O){var P,Q,R;if(O){P=O.getBeacons(n.REDIRECT_NOAD);for(Q=0;Q<P.length;Q++){R=P[Q].url;g.sendBeacon(R);}}};this.notifyTimeout=function(){if(A){clearInterval(A);}d(r);J=true;};this._getAd=function(W,R){G=[];N=0;var T=i.getName(),ab=i.getId(),Q=null,Z=this,V="VID",X=R.mActionParams,U,af,ag,S,Y,ad,aa,O,P,ac,ai;if(X&&X.id){ad=X.id.split(",");V=a.MME_AT_POS_MAP[ad[0]];
}if(T.indexOf(a.NAME.PREVIEW)===0){if(window.getAdXmlForPreview){aa=window.getAdXmlForPreview();if(aa.type==="tag"){af=(V==="VIDO")?a.DEFAULT_AD_REQUEST_TIMEOUT:k;ai=s.getSetting("EnableSSL")===H.TRUE;var ae=aa.value;ag={"serverUrl":ae};try{S=L.getRequest(ag,i.getName(),ai);}catch(ah){return;}this.setRedirect(S,R,af);}else{Q=new b.com.yahoo.ads.communicator.AdResponse(aa.value,null,R);this._processAd(Q,R);}return;}}P=h(V);U=p.getAd(P);if(U&&U.getPrefetch()===H.AD_PREFETCH_COMPLETE&&U.getType()===E.TYPE.REDIRECT){U=null;}if((b.UA.ios||b.UA.android)&&U&&U.getPrefetch()!==H.AD_PREFETCH_COMPLETE){U=null;}if(U){if(U.getType()===E.TYPE.REDIRECT){ac=f.getDomain(U.getRedirectURL());if(ac){R.getRedirect().targetTag=ac;}}if(U.getPrefetch()===H.AD_PREFETCH_INPROGRESS){l=U;af=(V==="VIDO")?a.DEFAULT_AD_REQUEST_TIMEOUT:k;q(af,[R]);Y=function(){U=p.getAd(P);if(U){if(U.getPrefetch()===H.AD_PREFETCH_COMPLETE){clearInterval(A);A=null;if(z){z.reset();}Z._processAdFromCache(U,R);}else{if(U.getPrefetch()===H.AD_PREFETCH_TIMEOUT){clearInterval(A);A=null;l=U;Z.handleAd(R);}else{if(U.getPrefetch()===H.AD_PREFETCH_ERROR){clearInterval(A);A=null;l=U;D(U.getErrorState(),R);}}}}else{clearInterval(A);A=null;}};A=setInterval(Y,50);}else{if(U.getPrefetch()===H.AD_PREFETCH_TIMEOUT){l=U;this.handleAd(R);}else{if(U.getPrefetch()===H.AD_PREFETCH_ERROR){l=U;D(U.getErrorState(),R);}else{this._processAdFromCache(U,R);}}}}else{af=(V==="VIDO")?a.DEFAULT_AD_REQUEST_TIMEOUT:k;ai=s.getSetting("EnableSSL")===H.TRUE;if(T.toLowerCase().indexOf(a.NAME.MME)===0){ag={"adComponentSettings":s,"context":t,"adSpec":R};try{S=L.getRequest(ag,i.getName(),ai);}catch(ah){if(!ah.type){ah.type=H.ERR_REQ_GENERIC;}D(ah.type,R);return;}this.setRedirect(S,R,af);}else{O="class: AbstractCommunicator, method: getAd";if(T.toLowerCase().indexOf(a.NAME.FWV)===0){Q=new b.com.yahoo.ads.communicator.AdResponse(a.FW_TEMPLATE,null,R);}else{if(T.toLowerCase().indexOf(a.NAME.CBS)===0){Q=new b.com.yahoo.ads.communicator.AdResponse(a.CBS_TEMPLATE,null,R);}else{throw {"message":"[CommunicatorError] Unknown ad network "+T,"loc":O};}}if(Q){N=-1;Q.setIsTemplate(true);this._processAd(Q,R);}else{throw {"message":"[CommunicatorError] Response template not available.","loc":O};}}}};this.onAdRedirect=function(O){switch(O.type){case H.REDIRECT_RESOLVED:l=O.ad;l.setCommunicator(this);this.handleAd(e);break;case H.ERR_RESP_GENERIC:D(H.ERR_RESP_GENERIC,e);break;case H.REDIRECT_TIMEDOUT:this._handleTimeOut(e);break;default:D(O.type,e);break;}};this.setRedirect=function(S,T,R){var O,P,Q;if(!R){R=k;}Q=s.getSetting("EnableSSL")===H.TRUE;P={"adComponentSettings":s,"context":t,"serverUrl":S,"adSpec":T};try{O=L.getRequest(P,i.getName(),Q);}catch(U){D(U.type,T);return;}u=new b.com.yahoo.ads.communicator.RedirectResolver(M.getRendererType(),R);u.on(H.AD_REDIRECT_EVENT,this.onAdRedirect,this);u.resolve(l,O,0);};this._processAdFromCache=function(O,P){if(typeof O.redirectCount!==H.UNDEFINED&&O.redirectCount!==null&&typeof O.redirectUrlList!==H.UNDEFINED&&O.redirectUrlList!==null&&O.redirectUrlList.length>0){P.getRedirect().count=O.redirectCount;P.getRedirect().targetTag=O.redirectUrlList[0];}O.setSpec(P);if(O.getType()===E.TYPE.NOAD){this._notifyNoAd(P,O);}else{this._notifyAdReady(O);}};this._processAd=function(V,U){var P=0,Q,S,O,T;T=V.getPayload();if(T.indexOf("adResults")>-1){T=T.replace(/&(?!amp;)/g,"&amp;");}S=s.getSetting("allowSkipAds");o=(typeof S!==H.UNDEFINED&&S!==null&&S==="true");if(o){if(s.getSetting("skipCountdownDuration")){C=parseInt(s.getSetting("skipCountdownDuration"),10);}}try{Q=y.parseAd(T,l);}catch(R){if(!R.type){R.type=H.ERR_RESP_GENERIC;}D(R.type,U);return;}if(Q instanceof Array){for(P=0;P<Q.length;P++){O=Q[P];if(V.getIsTemplate()){O.unsetFormat();}O.setSkip_directive_publisher(o);O.setSkip_countdown_timer(C);O.setSpec(U);O.setCommunicator(this);}l=Q[0];if(typeof l!==H.UNDEFINED&&l!==null){this.handleAd(U);}else{D(H.ERR_RESP_GENERIC,U);return;}}else{D(H.ERR_RESP_GENERIC,U);}};var B=function(O,R){var P=/\{(\w)+\}/g,Q=R.getParams(),T;var S=function(W){var Z=/(\w)+/g,U=W.match(Z),Y=U[0],aa="",X;if(Y.toLowerCase()==="beap_client_event"){for(var V in Q){aa+=V+"$"+Q[V]+",";}aa=aa.substring(0,aa.length-1);return aa;}else{if(Y.toLowerCase()==="1x1pixel"){return v;}}X=Q[Y];return(typeof X!==H.UNDEFINED&&X!==null)?X:W;};T=O.replace(P,S);return T;};var w=function(O){var P=H.VMAP_BREAK_START_EVENT,Q;if(O){Q=O.getBeacons(P);if(Q.length>0){g.sendBeacon(Q[0].url);Q.splice(0,1);}}};this.on(H.AD_READY_EVENT,m.notifyAdReady,m);this.on(H.NOAD_EVENT,m.notifyNoAd,m);this.on(H.AD_REDIRECT_EVENT,m.notifyRedirect,m);this.on(H.NULL_AD_EVENT,m.notifyNullAd,m);this.on(H.AD_REQUEST_EVENT,m.notifyAdRequest,m);this.setNetworkModule=function(O){i=O;};this.setNetworkSettings=function(O){s=O;};this.setEventBus=function(O){m=O;};this.getPosition=function(P,O){if(O&&O>1){return"n"+O+P;}return P;};this._notifyAdReady=function(O){r=O;if(J){d(r);}O.setCommunicator(this);if(this.getNetworkName().indexOf(a.NAME.PREVIEW)===0){if(window.showAdInfo){window.showAdInfo(O);}}this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_VALID_AD,{ad:O}));this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));this.fire(H.AD_READY_EVENT,O);w(O);};this._notifyNullAd=function(O){this.fire(H.NULL_AD_EVENT,O);};var D=function(P,Q){if(z){z.reset();}var O="EVENT_"+P;g.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(O,Q));g.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,g.getNetworkName()));g.fire(H.NOAD_EVENT,Q);};this._notifyNoAd=function(S,R){var P,Q,O;if(R){P=R.redirectCount;if(P>0){O=R.getBeacons(n.REDIRECT_NOAD);}else{O=R.getBeacons(n.IMPRESSION);}if(typeof O!==H.UNDEFINED&&O!==null){for(Q=0;Q<O.length;Q++){var T=O[Q].url;this.sendBeacon(T);}}}if(S&&R){this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_NOAD,{adSpec:S,ad:R}));
this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));S.communicatorId=this.getNetworkId();w(R);}this.fire(H.NOAD_EVENT,S);};this.sendBeacon=function(O){if(O){var P=document.createElement("img");P.src=O;P.style.display="none";}};this.adReadyCallback=function(O,P){spec=P;if(!O.getPayload()||(O.getPayload().length===0)){this._notifyNoAd(P);}else{this._processAd(O,P);}};this.onAdEvent=function(P,W){var X,R,T,Q="",Z=P.getAd(),O=P.getEventId(),V=P.getEventData(),Y=(O.toLowerCase()==="impression")?V:O,S=P.getParams();S.clip_id=t.getClipId();if(Y==="bitrate"&&c){return;}if(typeof Z.beacons!==H.UNDEFINED&&Z.beacons!==null){X=Z.beacons[Y];if(typeof X!==H.UNDEFINED&&X!==null){Q="";for(var U=0;U<X.length;U++){R=X[U];T=R.url;Q=B(T,P);this.sendBeacon(Q);}}}if(Y==="bitrate"){c=true;}};this.getAd=function(P){e=P;var Q={};Q.spec=P;Q.retryCount=P.retryCount;Q.communicatorName=this.getNetworkName();this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALL,P));l=null;r=null;try{this._getAd(s,P);}catch(O){this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ERR_ADCALL,P));this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));this._notifyNullAd(P);}};this.init=function(O){K(O);};this.getNetworkName=function(){return(typeof i!==H.UNDEFINED&&i!==null)?i.getName():"";};this.getNetworkId=function(){return(typeof i!==H.UNDEFINED&&i!==null)?i.getId():"";};this.handleAd=function(O){var P=l.getRedirectURL();l.setSpec(O);l.setCommunicator(this);if(l.getType()===E.TYPE.REDIRECT){N+=1;this.setRedirect(P,O);}else{if(z){z.reset();}l.redirectUrlList=G;l.redirectCount=N;l.setPrefetch(H.AD_PREFETCH_COMPLETE);if(l.getType()===E.TYPE.NOAD){this._notifyNoAd(O,l);}else{this._notifyAdReady(l);}}};this._handleTimeOut=function(O){z.reset();if(A){clearInterval(A);}j=l?l.getFallbackAd():null;if(j){if(j.getType()===E.TYPE.NOAD){this._notifyNoAd(O,j);}else{this._notifyAdReady(j);}}else{this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT,O));this.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_ADCALLEND,this.getNetworkName()));this._notifyNullAd(O);}};};a.canService=function(m,e,k){var c,j,d,h,g=e["NETWORK."+k+".adTypes"],f;if(typeof g===_CONSTANTS.UNDEFINED||g===null){return true;}d=g.split(",");h={};for(f=0;f<d.length;f++){j=d[f].toLowerCase();h[j]=true;}var l=m.mActionParams.id.split(",");for(f=0;f<l.length;f++){c=l[f].toLowerCase();if(h[c]){return true;}}return false;};a.MME_AT_VERSION_MAP={overlayC2V:"v4",overlayC2S:"v5",clickable:"v1%3Bv7%3Bv8",interactive:"v2",asq:"v6"};a.MME_AT_POS_MAP={bumper:"BMPR",overlayC2V:"VIDO",overlayC2S:"VIDO",clickable:"VID",interactive:"VID",asq:"VID"};a.NAME={MME:"mme",FWV:"freewheel_vast",CBS:"cbs",PREVIEW:"PREVIEW"};a.XML_TYPE={VAST:"VAST",VMAP:"vmap:VMAP",YAHOO:"adResults"};a.MME_AT_CONSTANT="flv_as3%3Bxml_ver_2.0%3Bxml_ver_2.0vast";a.FW_TEMPLATE='<VAST version="2.0"> <Ad id="840902551"> <Wrapper> <AdSystem>Yahoo</AdSystem> <VASTAdTagURI> <![CDATA[${vid_ap_fw_server_url}?nw=${vid_ap_fwnw}&metr=${vid_ap_fwmetr}&resp=${vid_ap_fwresp}&sfid=${vid_ap_fwsfid}&ssnw=${vid_ap_fwssnw}&pvrn=${vid_ap_fwpvrn}&caid=${vid_cl_fwcaid}&csid=${vid_cl_fwcsid}&crtp=${vid_ap_fwcrtp}&vprn=${vid_ap_fwvprn}&afid=${vid_ap_fwafid}&flag=${vid_ap_fwflag}&asnw=${vid_ap_fwasnw}&prof=${vid_ap_fwprof};;tpcl=${vid_ap_fwtpcl}&slau=${vid_ap_fwslau}&slid=${vid_ap_fwslid}&ptgt=${vid_ap_fwptgt}&tpos=${vid_ap_fwtpos}&flag=${vid_ap_fwflag1};slid=${vid_ap_fwslid2}&ptgt=${vid_ap_fwptgt2}&tpos=${vid_ap_fwtpos2}&flag=${vid_ap_fwflag2}&w=${vid_ap_fww2}&h=${vid_ap_fwh2};${vid_ap_addlslot}]]> </VASTAdTagURI> </Wrapper> </Ad> </VAST>';a.CBS_TEMPLATE='<VAST version="2.0"> <Ad id="840902551"> <Wrapper> <AdSystem>Yahoo</AdSystem> <VASTAdTagURI> <![CDATA[${vid_cl_cbsurl}]]> </VASTAdTagURI> </Wrapper> </Ad> </VAST>';a.MME_TEMPLATE="?pn=${vid_ap_mmepn}&f=${vid_cl_mmef}&p=${vid_cl_mmep}&c=${vid_cl_mmec}&l=${vid_cl_mmel}&at=${vid_cl_mmeat}vf=1&rs=${vid_cl_mmers}&rand=${vid_cl_mmerand}";a.DEFAULT_AD_REQUEST_TIMEOUT=2.9;b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.AbstractCommunicator=a;},"1.0.0",{requires:["node","UrlLoader","AdResponse","VASTParser","Constants","datatype-xml-parse","AdRequestManager","ParserManager","RequestGenerationUtils"]});YUI.add("Ad",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(){var w=b.com.yahoo.ads.common.Constants,y=b.com.yahoo.ads.communicator.AbstractCommunicator,x=b.com.yahoo.ads.communicator.Prefetcher,g=b.com.yahoo.ads.utils.Utils;var u={},n={},q="",C="",t=null,E=null,D=null,l="",p=false,A=w.AD_DISABLE_SKIP,F=5,f=false,r=false,c={},h=null,e=null,z=null,s=null,d="",k="",B=w.AD_PREFETCH_NONE,o=a.CACHE_STATUS_NOT_CACHED,m="",j=false,i=0,v=[];this.setAdId=function(G){if(typeof G===w.TYPE_OF_STRING){e=G;}};this.getAdId=function(){return e;};this.setVpaidId=function(G){if(typeof G===w.TYPE_OF_STRING){z=G;}};this.setCreativeAndBookingId=function(G){if(G){k=G[w.BOOKINGID]||"";d=G[w.CREATIVEID]||"";}};this.getVpaidId=function(){return z;};this.getCreativeId=function(){return d;};this.getBookingId=function(){return k;};this.setFallbackAd=function(G){if(G instanceof a){s=G;}};this.getFallbackAd=function(){return s;};this.isVast=function(){return h===a.FORMAT.VAST;};this.isVmap=function(){return h===a.FORMAT.VMAP;};this.isYahoo=function(){return h===a.FORMAT.YAHOO;};this.setAsCached=function(G){if(typeof(G)===w.TYPE_OF_BOOLEAN){f=G;}};this.isCached=function(){return f;};this.setAsFallback=function(G){if(typeof(G)===w.TYPE_OF_BOOLEAN){r=G;}};this.isFallback=function(){return r;};this.getSkip_directive_publisher=function(){return p;};this.setSkip_directive_publisher=function(G){if(typeof(G)===w.TYPE_OF_BOOLEAN){p=G;A=p?A:w.AD_DISABLE_SKIP;}};this.getSkip_directive=function(){return A;
};this.setSkip_directive=function(G){if(G===w.ADXML_DISABLE_SKIP_AD){A=w.AD_DISABLE_SKIP;}else{if(G===w.ADXML_ENABLE_SKIP_AD){A=w.AD_ENABLE_SKIP;}}};this.getSkip_countdown_timer=function(){return F;};this.setSkip_countdown_timer=function(G){if(!isNaN(G)&&G>0){F=G;}};this.getRedirectURL=function(){return l;};this.setRedirectURL=function(G){l=G;};this.getUrl=function(){return q;};this.setUrl=function(G){if(typeof G===w.TYPE_OF_STRING){q=G;}};this.getPrefetch=function(){return B;};this.setPrefetch=function(G){if(typeof G===w.TYPE_OF_STRING){B=G;}};this.getType=function(){return C;};this.setType=function(G){if(G===a.TYPE.NOAD||G===a.TYPE.OVERLAY||G===a.TYPE.REDIRECT||G===a.TYPE.VPAID){C=G;}};this.getPos=function(){return t;};this.setPos=function(G){if(G===a.POSITION.BUMPER||G===a.POSITION.CLICKABLE||G===a.POSITION.OVERLAY){t=G;}};this.getSpec=function(){return E;};this.setSpec=function(G){E=G;};this.getCommunicator=function(){return D;};this.setCommunicator=function(G){if(G instanceof y||G instanceof x){D=G;}};this.addBeacon=function(I,H){var G=u[I];if(typeof G===w.UNDEFINED||G===null){G=[];u[I]=G;}G.push(H);if(H.url.indexOf("csc.beap.bc.yahoo.com")>0){this.setCreativeAndBookingId(g.getCreativeAndBookingId(H.url));}};this.addBeaconsFromAd=function(K){var J=null,H,G,I;if(K instanceof a){H=K.getAllBeacons();for(J in H){G=K.getBeacons(J);for(I=0;I<G.length;I++){this.addBeacon(J,G[I]);}}}};this.addMediaFile=function(H,J,I){var G=c[J];if(!G){G={};c[J]=G;}if(!G[I]){G[I]=[];}G[I].push(H);};this.getBeacons=function(H){var G=u[H];if(!G){G=[];}return G;};this.getAllBeacons=function(){return u;};this.getMediaFiles=function(G){if(c[G]){return c[G];}return null;};this.getAllMediaFiles=function(G){return c;};this.getMediaUrl=function(H,G){var I=null;if(c[H]){I=c[H];if(I[G]){return I[G];}}return null;};this.getParams=function(){return n;};this.addParam=function(G,H){n[G]=H;};this.setParams=function(G){if(typeof G===w.TYPE_OF_OBJECT){n=G;}};this.getFormat=function(){return h;};this.setFormat=function(G){if(!h&&a.FORMAT.hasOwnProperty(G)){h=G;}};this.unsetFormat=function(){h=null;};this.getCacheStatus=function(){return o;};this.setCacheStatus=function(G){o=G;};this.getErrorState=function(){return m;};this.setErrorState=function(G){m=G;};this.getLocalStorage=function(){return j;};this.setLocalStorage=function(G){if(typeof G===w.TYPE_OF_BOOLEAN){j=G;}};this.getRedirectCount=function(){return i;};this.setRedirectCount=function(G){if(typeof G===w.TYPE_OF_NUMBER){i=G;}};this.getRedirectUrlList=function(){return v;};this.setRedirectUrlList=function(G){v=G;};this.getFirstRedirectUrl=function(){return v&&v.length>0?v[0]:"none";};this.onAdEvent=function(G){if(D){D.onAdEvent(G,this);}};this.getJson=function(){var G={},H;G.beacons=u;G.params=n;G.url=q;G.type=C;G.pos=t;if(E){H=(E.mActionParams&&E.mActionParams.placement)?E.mActionParams.placement.toUpperCase():"";G.spec={name:E.mName,basis:E.mBasis,duration:E._duration,placement:H};}else{G.spec={};}G.redirectURL=l;G.skip_directive_publisher=p;G.skip_directive=A;G.skip_countdown_timer=F;G.isCached=f;G.isFallback=r;G.mediaFiles=c;G.format=h;G.adId=e;G.vpaidId=z;G.fallbackAd=s;G.creativeId=d;G.bookingId=k;G.prefetch=B;G.cacheStatus=o;G.errorState=m;G.localStorage=j;G.redirectCount=i;G.redirectUrlList=v;return G;};this.getAdFromJson=function(G){var H;u=G.beacons;n=G.params;q=G.url;C=G.type;t=G.pos;H=G.spec;if(H){E={"mName":H.name,"mBasis":H.basis,"_duration":H.duration,"mActionParams":{"placement":H.placement}};}l=G.redirectURL;p=G.skip_directive_publisher;A=G.skip_directive;F=G.skip_countdown_timer;f=G.isCached;r=G.isFallback;c=G.mediaFiles;h=G.format;e=G.adId;z=G.vpaidId;s=G.fallbackAd;d=G.creativeId;k=G.bookingId;B=G.prefetch;o=G.cacheStatus;m=G.errorState;j=G.localStorage;i=G.redirectCount;v=G.redirectUrlList;};};a.TYPE={"REDIRECT":"redirect","NOAD":"noad","VPAID":"vpaid","OVERLAY":"overlay"};a.POSITION={"BUMPER":"BMPR","CLICKABLE":"VID","OVERLAY":"VIDO"};a.FORMAT={"VAST":"VAST","YAHOO":"YAHOO","VMAP":"VMAP"};a.MEDIA_TYPE_SUPPORT={"video/mp4":true,"video/m4v":true,"video/x-flv":true,"video/webm":true,"application/x-shockwave-flash":true};a.CACHE_STATUS_NOT_CACHED=1;a.CACHE_STATUS_CACHED_SPACEID=2;a.CACHE_STATUS_CACHED_BOOKINGID=3;a.CACHE_STATUS_CACHED_INCOMPLETE=4;b.com.yahoo.ads.communicator.Ad=a;},"1.0.0",{requires:["node","AbstractCommunicator","Utils"]});YUI.add("AdRequest",function(a){a.namespace("com.yahoo.ads.communicator");AdRequest=function(i,b){var h="";var g=b||{};var c=i||"";var j={};var f=true;var e=function(l,m){var k=/\$\{(\w)+\}/g;var n=function(p){var r=/(\w)+/g;var o=p.match(r);var q=o[0];if(typeof m[q]!=="undefined"){return m[q];}else{return"";}};l=l.replace(k,n);return l;};var d=function(l){var n=/(\w)+=&/g;while(l.match(n)){l=l.replace(n,"");}var m=/(\w)+=($|;|;;)/;while(l.match(m)){l=l.replace(m,"$2");}var k=/(;|;;|&)$/;while(l.match(k)){l=l.replace(k,"");}return l;};this.setaddParameters=function(k){f=k;};this.setParameter=function(k,l){if(k&&l){j[k]=l;}};this.buildQuery=function(){h=e(c,g);return d(h);};this.addParameters=function(k,l){g[k]=l;};};a.com.yahoo.ads.communicator.AdRequest=AdRequest;},"1.0.0",{requires:["node"]});YUI.add("AdRequestGeneratorFactory",function(d){d.namespace("com.yahoo.ads.communicator.adrequests");var c=function(){},a=d.com.yahoo.ads.common.Constants,b=d.com.yahoo.ads.utils.Utils;c.PREVIEW="PREVIEW";c.MME="MME";c.FREEWHEEL_VAST="FREEWHEEL_VAST";c.CBS="CBS";c.SSL_SUPPORT={};c.SSL_SUPPORT[c.MME]=true;c.SSL_SUPPORT[c.FREEWHEEL_VAST]=false;c.SSL_SUPPORT[c.CBS]=false;c.getRequestGenerator=function(g,j,i){var h,k=window.location.protocol,e="",f="class: AdRequestGeneratorFactory, method: getRequestGenerator";if(g.indexOf(c.PREVIEW)===0){h=new d.com.yahoo.ads.communicator.adrequests.impl.PreviewRequestGenerator();}else{if(g.indexOf(c.MME)===0){e=c.MME;h=new d.com.yahoo.ads.communicator.adrequests.impl.MMERequestGenerator(j);}else{if(g.indexOf(c.FREEWHEEL_VAST)===0){e=c.FREEWHEEL_VAST;h=new d.com.yahoo.ads.communicator.adrequests.impl.FreewheelRequestGenerator();
}else{if(g.indexOf(c.CBS)===0){e=c.CBS;h=new d.com.yahoo.ads.communicator.adrequests.impl.CBSRequestGenerator();}else{throw b.errorEvent("Unknown network name : "+g,f,a.ERR_REQ_GENERIC);}}}}if(a.SSL_ON&&k===a.LOCATION_PROTOCOL.HTTPS&&e&&!c.SSL_SUPPORT[e]&&!i){throw b.errorEvent("SSL Support missing for : "+g,f,a.ERR_SSL_UNSUPPORTED);}return h;};d.com.yahoo.ads.communicator.adrequests.AdRequestGeneratorFactory=c;},"1.0.0",{requires:["CBSRequestGenerator","FreewheelRequestGenerator","MMERequestGenerator","PreviewRequestGenerator","Constants","Utils"]});YUI.add("AdRequestManager",function(a){a.namespace("com.yahoo.ads.communicator.adrequests");a.com.yahoo.ads.communicator.adrequests.AdRequestManager=function(){var c="",b=a.com.yahoo.ads.common.Constants,d=a.com.yahoo.ads.utils.Utils;this.getRequest=function(g,f,h){var e="class: AdRequestManager, method: getRequest",i;if(!g){throw d.errorEvent("Config is undefined or null.",e,b.ERR_REQ_GENERIC);}if(!f){throw d.errorEvent("Network name is undefined or null.",e,b.ERR_REQ_GENERIC);}i=a.com.yahoo.ads.communicator.adrequests.AdRequestGeneratorFactory.getRequestGenerator(f,c,h);return i.generateRequest(g);};this.setRendererType=function(e){c=e;};};},"1.0.0",{requires:["AdRequestGeneratorFactory","Constants","Utils"]});YUI.add("CBSRequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.CBSRequestGenerator=function(){var c=a.com.yahoo.ads.common.Constants,d=a.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils,b="class: CBSRequestGenerator, method: populateCBSMacro",e=a.com.yahoo.ads.utils.Utils,f=function(l){var i={},h,g,j;try{h=d.getAdTargetingInfo(l.context);}catch(k){throw k;}if(h){g=h.getAttribute("id");j="";if(g==="ad_url"){j=h.getAttribute("value");if(j.indexOf("xml=vast")>=0){j+=";pos=1";}else{j+=";pos=1;xml=yahoo";}}else{throw e.errorEvent("Id is not 'ad_url' in adTargeting.",b,c.ERR_REQ_ADTGT);}i.vid_cl_cbsurl=j;}else{throw e.errorEvent("Missing adData tag in adTargeting.",b,c.ERR_REQ_ADTGT);}return i;};this.generateRequest=function(g){var h=f(g);return d.expandMacro(g.serverUrl,h);};};},"1.0.0",{requires:["RequestGenerationUtils","Constants","Utils"]});YUI.add("FreewheelRequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.FreewheelRequestGenerator=function(){var c=a.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils,b=a.com.yahoo.ads.common.Constants,d=function(j){var i={},e,h,g;try{e=c.getAdTargetingInfo(j.context);}catch(f){throw f;}if(e){h=e.getAttribute("id");g="";if(h==="TurnerVideoID"||h==="YahooPartnerVideoID"){g=e.getAttribute("value");}i.vid_cl_fwcaid=g;}else{throw a.com.yahoo.ads.utils.Utils.errorEvent("Missing adData tag in adTargeting.","class: FreewheelRequestGenerator, method: populateFWMacros",b.ERR_REQ_ADTGT);}i.vid_ap_fw_server_url=j.adComponentSettings.getSetting("AdServerUrl");i.vid_ap_fwnw=j.adComponentSettings.getSetting("YahooNetworkId");i.vid_ap_fwmetr=j.adComponentSettings.getSetting("CapabilitySupportFlags");i.vid_ap_fwsfid=j.adComponentSettings.getSetting("SiteSectionFallbackId");i.vid_ap_fwresp=j.adComponentSettings.getSetting("ResponseType");i.vid_ap_fwssnw=j.adComponentSettings.getSetting("SiteSectionNetworkId");if(j.adComponentSettings.getSetting("OverrideSAPI")==="true"){i.vid_cl_fwcsid=j.adComponentSettings.getSetting("SiteSectionMapping");}else{i.vid_cl_fwcsid=j.context.getCustomParameter("ad-extra:adTargetingCategory");}i.vid_ap_fwcrtp=j.adComponentSettings.getSetting("CustomResponseType");i.vid_ap_fwafid=j.adComponentSettings.getSetting("VideoAssetFallbackId");i.vid_ap_fwflag=j.adComponentSettings.getSetting("ImpressionFlags");i.vid_ap_fwasnw=j.adComponentSettings.getSetting("VideoAssetNetworkId");i.vid_ap_fwprof=j.adComponentSettings.getSetting("PlayerProfile");i.vid_ap_fwtpcl=j.adComponentSettings.getSetting("SlotTimePositionClass");i.vid_ap_fwslau=j.adComponentSettings.getSetting("CustomAdUnitName");i.vid_ap_fwslid=j.adComponentSettings.getSetting("SlotCustomId");i.vid_ap_fwptgt=j.adComponentSettings.getSetting("SlotType");i.vid_ap_fwflag1=j.adComponentSettings.getSetting("SlotFlags");i.vid_ap_fwh=j.adComponentSettings.getSetting("SlotHeight");i.vid_ap_fww=j.adComponentSettings.getSetting("SlotWidth");i.vid_ap_fwtpos=j.adComponentSettings.getSetting("SlotTimePosition");i.vid_ap_fwflag2=j.adComponentSettings.getSetting("SlotFlags2");i.vid_ap_fwh2=j.adComponentSettings.getSetting("SlotHeight2");i.vid_ap_fww2=j.adComponentSettings.getSetting("SlotWidth2");i.vid_ap_fwtpcl2=j.adComponentSettings.getSetting("SlotTimePositionClass2");i.vid_ap_fwslau2=j.adComponentSettings.getSetting("CustomAdUnitName2");i.vid_ap_fwslid2=j.adComponentSettings.getSetting("SlotCustomId2");i.vid_ap_fwptgt2=j.adComponentSettings.getSetting("SlotType2");i.vid_ap_fwtpos2=j.adComponentSettings.getSetting("SlotTimePosition2");i.vid_ap_addlslot=j.adComponentSettings.getSetting("AdditionalSlotParams");i.vid_ap_fwvprn=Math.round(Math.random()*100000000).toString();i.vid_ap_fwpvrn=Math.round(Math.random()*100000000).toString();return i;};this.generateRequest=function(e){var f=d(e);return c.expandMacro(e.serverUrl,f);};};},"1.0.0",{requires:["RequestGenerationUtils","Constants","Utils"]});YUI.add("MMERequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.MMERequestGenerator=function(n){var f="flv_as3%3Bxml_ver_2.0%3Bxml_ver_2.0vast",h="%3Bvpaidt_none%3Bvpaidt_swf%3Bvpaidv_v1%3Bfm_flv%3Bfm_mp4%3Bfm_webm",m="%3Bvpaidt_none%3Bfm_mp4%3Bfm_webm",i="?pn=${vid_ap_mmepn}&f=${vid_cl_mmef}&p=${vid_cl_mmep}&c=${vid_cl_mmec}&l=${vid_cl_mmel}&at=${vid_cl_mmeat}vf=1&rs=${vid_cl_mmers}&rand=${vid_cl_mmerand}",c=a.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils,p=1,j=a.com.yahoo.ads.common.Constants,k=a.com.yahoo.ads.utils.Utils,g="POS",q="class: MMERequestGenerator, method: getActionParam",d={"overlayC2V":"v4","overlayC2S":"v5","clickable":"v1%3Bv7%3Bv8","interactive":"v2","asq":"v6"},b={"bumper":"BMPR","overlayC2V":"VIDO","overlayC2S":"VIDO","clickable":"VID","interactive":"VID","asq":"VID"},o=function(u){var s={},r,t;
s.vid_ap_mmepn=u.adComponentSettings.getSetting(j.AD_PARAM.PARTNERID);s.vid_cl_mmef=u.context.getCustomParameter(j.AD_PARAM.SPACEID);s.vid_cl_mmep=u.context.getCustomParameter(j.AD_PARAM.PROPERTYID);s.vid_cl_mmec="x";s.vid_cl_mmerand=Math.round(Math.random()*10000000000000);r=u.adComponentSettings.getSetting("sendRsParam");if(r&&r==="true"){s.vid_cl_mmers=e(u.context);}t=l(u.adSpec,g);s.vid_cl_mmel=c.getPosition(t,p);s.vid_cl_mmeat="content%3D%22"+l(u.adSpec,"VERSION")+f;if(j.TECHNOTARGET_ON){if(n===j.HTML){s.vid_cl_mmeat+=m;}else{if(n===j.FLASH){s.vid_cl_mmeat+=h;}}}s.vid_cl_mmeat+="%22";return s;},l=function(w,v){var u=w.mActionParams,x=u.id.split(","),r="",s,t;if(u.id){if(v===g){return b[x[0]];}else{if(v==="VERSION"){for(s=0;s<x.length;s++){t=x[s];if(d[t]){r+=d[t]+"%3B";}}return r;}else{throw k.errorEvent("Unknown action param request : "+v,q,j.ERR_REQ_GENERIC);}}}else{throw k.errorEvent("Missing actionParams.id.",q,j.ERR_REQ_GENERIC);}},e=function(t){var r,s=t.getCustomParameter(j.AD_PARAM.LICENSEID);if(s){r="lmsid:"+s;}return r;};this.generateRequest=function(s){if(s.serverUrl){s.serverUrl=c.updateProtocol(s.serverUrl);return s.serverUrl;}var t=o(s),r=c.getFinalAdServerUrl(s.adComponentSettings);return c.expandMacro(r+i,t);};};},"1.0.0",{requires:["RequestGenerationUtils","Constants","Utils"]});YUI.add("PreviewRequestGenerator",function(a){a.namespace("com.yahoo.ads.communicator.adrequests.impl");a.com.yahoo.ads.communicator.adrequests.impl.PreviewRequestGenerator=function(){this.generateRequest=function(b){return b.serverUrl;};};},"1.0.0",{requires:[]});YUI.add("RequestGenerationUtils",function(c){c.namespace("com.yahoo.ads.communicator.adrequests");var a=c.com.yahoo.ads.common.Constants,b={};b.ADSERVER=".adserver.yahoo.com/a";b.getFinalAdServerUrl=function(f){var e=f.getSetting("adBaseUrl"),d=(e&&e.length>0)?e:"us";return a.HTTP+d+b.ADSERVER;};b.getAdTargetingInfo=function(f){var h=f.getCustomParameter("ad-extra:adTargeting"),e=c.DataType.XML.parse(h),d=c.com.yahoo.ads.utils.Utils.errorEvent("[RequestGenerationError] missing adTargeting in configuration.","class: RequestGenerationUtils, method: getAdTargetingInfo",a.ERR_REQ_ADTGT);if(!e){try{e=new ActiveXObject(a.MS_XMLDOM);e.async=false;e.loadXML(h);}catch(g){throw d;}}if(!e){throw d;}return e.getElementsByTagName("adData")[0];};b.expandMacro=function(e,f){var d=/\$\{(\w)+\}/g,g=function(i){var k=/(\w)+/g,h=i.match(k),j=h[0];return f[j]?f[j]:"";};e=e.replace(d,g);e=b.cleanUpUrl(e);return this.updateProtocol(e);};b.cleanUpUrl=function(e){var g=/(\w)+=&/g,f,d;while(e.match(g)){e=e.replace(g,"");}f=/(\w)+=($|;|;;)/;while(e.match(f)){e=e.replace(f,"$2");}d=/(;|;;|&)$/;while(e.match(d)){e=e.replace(d,"");}return e;};b.getPosition=function(e,d){if(d&&d>1){return"n"+d+e;}return e;};b.updateProtocol=function(d){var e=window.location.protocol;if(a.SSL_ON&&e===a.SSL){d=d.replace(a.HTTP,a.HTTPS);}return d;};c.com.yahoo.ads.communicator.adrequests.RequestGenerationUtils=b;},"1.0.0",{requires:["datatype-xml-parse","Constants","Utils"]});YUI.add("AdResponse",function(a){a.namespace("com.yahoo.ads.communicator");function b(i,h,e){var g=i,f=h,c=e,j=false,d=a.com.yahoo.ads.common.Constants;return{getPayload:function(){return g;},getRequest:function(){return f;},getSpec:function(){return c;},getIsTemplate:function(){return j;},setIsTemplate:function(k){if(typeof k===d.TYPE_OF_BOOLEAN){j=k;}},toString:function(){return"[AdResponse(request:"+f+")(payload: "+g+")]";}};}a.com.yahoo.ads.communicator.AdResponse=b;},"1.0.0",{requires:["node","Constants"]});YUI.add("AllocationManager",function(a){a.namespace("com.yahoo.ads.communicator");AllocationManager=function(c,b,d){_CONSTANTS=a.com.yahoo.ads.common.Constants;communicators=[];_eventBus=c;_cacheManager=b;this._allocation=null;this.communicator=null;this.timeout=d;_propertyId=null;_allocationReady=false;this._playerContext=null;this._algorithm=null;this.communicatorsReady=function(){return(typeof this.communicator!=="undefined");};};a.augment(AllocationManager,a.EventTarget);AllocationManager.prototype.updateContext=function(c){try{this.communicator.init(c);}catch(b){}};AllocationManager.prototype.getPropertyId=function(){return _propertyId;};AllocationManager.prototype.ready=function(){return _allocationReady&&this.communicatorsReady();};AllocationManager.prototype.getManagedConfigLoadedEvent=function(){return _CONSTANTS.MANAGED_CONFIG_LOADED_EVENT;};AllocationManager.prototype.getComponentLoadedEvent=function(){return _CONSTANTS.COMPONENT_LOADED_EVENT;};AllocationManager.prototype.getLoadErrorEvent=function(){return _CONSTANTS.LOAD_ERROR_EVENT;};AllocationManager.prototype.getPropertyIdReadyEvent=function(){return _CONSTANTS.PROPERTY_ID_READY_EVENT;};AllocationManager.prototype.getFallbackCommunicatorLoadedEvent=function(){return _CONSTANTS.LOADED_FALLBACK_COMMUNICATOR;};AllocationManager.prototype.pickCommunicator=function(b){if(b){var f=this._algorithm.pickCommunicator(b);this.communicator.setNetworkModule(f);var e=this._allocation;var c=e.getSettings();var d=new a.com.yahoo.ads.man.AdComponentSettings();d.init(c,f.getId(),null);this.communicator.setNetworkSettings(d);}return this.communicator;};AllocationManager.prototype.updateAllocation=function(b){this._allocation=b;this.loadCommunicators();};AllocationManager.prototype.loadCommunicator=function(d,b){if(!this.communicator){this.communicator=new a.com.yahoo.ads.communicator.AbstractCommunicator(_eventBus,_cacheManager,this.timeout);}this.communicator.setNetworkModule(d);var c=new a.com.yahoo.ads.man.AdComponentSettings();c.init(b,d.getId(),null);this.communicator.setNetworkSettings(c);_allocationReady=true;};AllocationManager.prototype.notifyTimeout=function(){if(this.communicator){this.communicator.notifyTimeout();}};AllocationManager.prototype.loadCommunicators=function(){var f=this._allocation;var c=f.getSettings();var d=f.getAllocationModuleUri();if(d==="class:net.maven.plugin.allocation.PercentageAllocationManager"){this._algorithm=new a.com.yahoo.ads.communicator.allocation.PercentageAllocationAlgorithm();
this._algorithm.init(null,f,c);var g=this._algorithm.selectCommunicator();this.loadCommunicator(g,c);}else{this._algorithm=null;var b=f.getNetworkModules();for(var e in b){this.loadCommunicator(b[e],c);}}if(typeof this.communicator!=="undefined"){_propertyId=c["SYSTEM.PID"];if(typeof _propertyId==="undefined"||_propertyId===null){_propertyId="";}this.fire(this.getPropertyIdReadyEvent());this.notifyComponentLoaded();}else{this.notifyComponentLoadFailed();}};AllocationManager.prototype.isFallback=function(b){return this._algorithm.isFallback(b.communicatorId,b);};AllocationManager.prototype.pickFallbackCommunicator=function(b){var f=this._algorithm.pickFallbackCommunicator(b.communicatorId,b);if(typeof f!=="undefined"&&f!==null){this.communicator.setNetworkModule(f);var e=this._allocation;var c=e.getSettings();var d=new a.com.yahoo.ads.man.AdComponentSettings();d.init(c,f.getId(),null);this.communicator.setNetworkSettings(d);this.fire(this.getFallbackCommunicatorLoadedEvent(),{communicator:this.communicator,adSpec:b});return true;}return false;};AllocationManager.prototype.notifyComponentLoaded=function(){this.fire(this.getComponentLoadedEvent());};AllocationManager.prototype.notifyComponentLoadFailed=function(){this.fire(this.getLoadErrorEvent());};a.com.yahoo.ads.communicator.AllocationManager=AllocationManager;},"1.0.0",{requires:["node","ParseJSON","ScopeLogger","PercentageAllocationAlgorithm"]});YUI.add("PercentageAllocationAlgorithm",function(a){a.namespace("com.yahoo.ads.communicator.allocation");PercentageAllocationAlgorithm=function(){var e=null;var f=null;var d=null;var b=false;var c=null;this.init=function(l,n,m){d=n;f=[];e={};if(m["SELECTOR.1.disablePriorityFallback"]==="true"){b=true;}c=m["SELECTOR.ID"];var g=d.getNetworkModules();for(var k=0;k<g.length;k++){var j=g[k];var o=j.getId();var h=m["SELECTOR."+c+".NETWORK."+o+".priority"];if(typeof h!=="undefined"&&h!==null){f[h]=o;e[o]=parseInt(h,10);}else{}}};this.pickCommunicator=function(v){var w=null;var o=[];var s=0;var j=d.getNetworkModules();var n=d.getSettings();for(var q=0;q<j.length;q++){var h=j[q];var g=h.getId();var r=n["SELECTOR."+c+".NETWORK."+g];if(!a.com.yahoo.ads.communicator.AbstractCommunicator.canService(v,n,g)){continue;}var l={};l.nS=s;s+=parseInt(r,10);l.nE=s;l.id=g;l.module=j[q];o.push(l);}var t=Math.random()*s;var u=null;for(var p=0;p<o.length;p++){u=o[p];if(u.nS<=t&&u.nE>=t){break;}}if(typeof u!=="undefined"&&u!==null){w=u.module;return w;}return null;};this.selectCommunicator=function(){var v=null;var o=[];var s=0;var u=null;var j=d.getNetworkModules();var n=d.getSettings();for(var q=0;q<j.length;q++){var h=j[q];var g=h.getId();var r=n["SELECTOR."+c+".NETWORK."+g];var l={};l.nS=s;s+=parseInt(r,10);l.nE=s;l.module=j[q];o.push(l);}var t=Math.random()*s;for(var p=0;p<o.length;p++){u=o[p];if(u.nS<=t&&u.nE>=t){break;}}if(typeof u!=="undefined"&&u!==null){v=u.module;}return v;};this.pickFallbackCommunicator=function(v,w){var q=e[w.initialCommunicatorId];var u=e[v];if(typeof u==="undefined"||u===null){return null;}var g=u+1;var r=false;var o=0;var k=d.getNetworkModules();while(!r&&g<d.getNetworkModules().length){if(g!==q){var t=g;for(var m in k){if(k.hasOwnProperty(m)){var p=k[m];var s=e[p.getId()];if(s===t){o=m;r=true;}}}}g++;}var h=k[o];var n=h.getId();var l=d.getSettings();if(typeof e[n]!=="undefined"&&e[n]!==null){if(a.com.yahoo.ads.communicator.AbstractCommunicator.canService(w,l,n)){return h;}}return null;};this.isFallback=function(h,g){return !(b||g===null||h===null||g.retryCount>=d.getNetworkModules().length);};};a.com.yahoo.ads.communicator.allocation.PercentageAllocationAlgorithm=PercentageAllocationAlgorithm;},"1.0.0",{requires:["ManAllocation"]});YUI.add("CacheUpdater",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(g){var f=b.com.yahoo.ads.common.Constants,j=null,i=null,c=null,h=g,d=b.com.yahoo.ads.communicator.Ad,e=new b.com.yahoo.ads.communicator.ServerCacheUpdater();this.onAdRedirect=function(k){switch(k.type){case f.REDIRECT_RESOLVED:break;case f.ERR_RESP_GENERIC:break;case f.REDIRECT_TIMEDOUT:j=k.ad;if(j.getType()!==d.TYPE.NOAD&&j.XML){e.update(j,i);}break;default:break;}};this.setRedirect=function(k){c=new b.com.yahoo.ads.communicator.RedirectResolver(h,f.AD_PREFETCH_TIME,true);c.on(f.AD_REDIRECT_EVENT,this.onAdRedirect,this);c.resolve(j,k,0);};this.update=function(k,l){j=k;i=l;this.setRedirect(j.getRedirectURL());};};b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.CacheUpdater=a;},"1.0.0",{requires:["node","ScopeLogger","Utils","ServerCacheUpdater"]});YUI.add("ParserFactory",function(b){b.namespace("com.yahoo.ads.communicator.parser");var a=function(){};a.getParser=function(c){if(c==="VAST"){return new b.com.yahoo.ads.communicator.parser.VASTParser();}else{if(c==="adResults"){return new b.com.yahoo.ads.communicator.parser.YahooParser();}else{if(c==="vmap:VMAP"){return new b.com.yahoo.ads.communicator.parser.VMAP1Parser();}else{throw b.com.yahoo.ads.utils.Utils.errorEvent("Unknown response xml type","class: ParserFactory, method: getParser",b.com.yahoo.ads.common.Constants.ERROR_PARSING);}}}};b.com.yahoo.ads.communicator.parser.ParserFactory=a;},"1.0.0",{requires:["VMAP1Parser","YahooParser","VASTParser","Constants","Utils"]});YUI.add("ParserManager",function(c){c.namespace("com.yahoo.ads.communicator.parser");var b=c.com.yahoo.ads.common.Constants;var a=function(){this.parserFactory=null;this.parser=null;};a.prototype.parseAd=function(i,h){var g=null,f,d;if(typeof i!==b.UNDEFINED&&i!==null&&i.length>0){try{i=i.replace(/>\s+</g,"><");i=i.replace(/<\!--.*?-->/g,"");f=c.DataType.XML.parse(i);if(!f){f=new ActiveXObject(b.MS_XMLDOM);f.async=false;f.loadXML(i);}d=f.documentElement.nodeName;this.parserFactory=c.com.yahoo.ads.communicator.parser.ParserFactory;this.parser=this.parserFactory.getParser(d);g=this.parser.parseAd(f.documentElement,h);}catch(j){throw c.com.yahoo.ads.utils.Utils.errorEvent("Error in parsing response","class: ParserManager, method: parseAd",b.ERROR_PARSING);
}}return g;};c.augment(a,c.EventTarget);c.com.yahoo.ads.communicator.parser.ParserManager=a;},"1.0.0",{requires:["datatype-xml-parse","Ad","ParserFactory","Constants","Utils"]});YUI.add("VASTParser",function(b){b.namespace("com.yahoo.ads.communicator.parser");var a=function(){var H=b.com.yahoo.ads.common.Constants,z=b.com.yahoo.ads.communicator.Ad,e=b.com.yahoo.ads.logging.ScopeLogger,B=b.com.yahoo.ads.utils.Utils,L=window.location.protocol===H.SSL?H.HTTPS+"s":H.HTTP+"d";var G=null,q=false,r=false,o=false,l=false,M=false,f=false;var m=function(Q){var O,N,P="",T,S="";try{if(typeof Q!==H.UNDEFINED&&Q!==null){P=Q.getAttribute("apiFramework");O=P&&(P.toLowerCase()===z.TYPE.VPAID);T=Q.getElementsByTagName("StaticResource");if(T.length>0){S=T[0].getAttribute("creativeType");if(S){S=S.toLowerCase();}}N=(S==="application/x-shockwave-flash");o=(S==="image/jpeg"||S==="image/png"||S==="image/gif");r=O&&N;}}catch(R){}};var K=function(Z){var S=[],W=[],P=[],V,R,Q,O,Y,X,U,N;if(typeof Z===H.UNDEFINED||Z===null||Z.length===0){return"";}l=true;try{V='<rss version="2.0" xmlns="http://backend.userland.com/rss2" xmlns:media="http://search.yahoo.com/mrss/">'+"<channel><item><media:group>";for(R=0;R<Z.length;R++){X=Z[R];U=X.getAttribute("type").toLowerCase();if(!z.MEDIA_TYPE_SUPPORT[U]){continue;}O=B.getTextFromNode(X);if(O.substr(0,4)!=="http"){continue;}Y=X.getAttribute("bitrate")||"0";if(U==="application/x-shockwave-flash"){q=true;Y="0";}if(X.getAttribute("id")==="atlas"||O.toLowerCase().indexOf("atlas")!==-1){if(H.ATLAS_ON){S.push({"url":O,"type":U,"br":Y});}}else{W.push({"url":O,"type":U,"br":Y});}}P=S.length>0?S:W;for(Q=0;Q<P.length;Q++){N=P[Q];G.addMediaFile(N.url,N.type,N.br);if(N.type!=="video/webm"){V+='<media:content bitrate="'+N.br+'" duration="0" expression="full" fileSize="0" type="video/flv" url="'+N.url+'"/>';}}V+="<media:rating>nonadult</media:rating></media:group></item></channel></rss>";return V;}catch(T){return"";}};var k=function(T,U,Q){var S,R,N,P;if(typeof T===H.UNDEFINED||T===null||T.length===0){return;}for(var O=0;O<T.length;O++){R=T[O];N={};N.url=B.getTextFromNode(R);if(!U||!Q){S=R.getAttribute("event");if(typeof S===H.UNDEFINED||S===null){N.id="";N.type="";}else{S=S.toLowerCase();P=a.EVENT_TYPE[S];if(typeof P!==H.UNDEFINED&&P!==null){N.id=P.id;N.type=P.type;}else{N.id=S;N.type=a.INTERACTION;}}}else{N.id=U;N.type=Q;}N.tokenized=false;if(N.id.indexOf("playback")===0){F(N,N.url);N.tokenized=true;}G.addBeacon(N.id,N);}};var s=function(Q){var T,S,U,N,W,R,X,P,O;try{if(Q.childNodes&&Q.childNodes.length>0){T=Q.childNodes;P={"IFrameResource":function(Y,Z){G.addParam("companionBannerType"+Y,"IFRAME");G.addParam("companionBannerSrc"+Y,B.getTextFromNode(Z));},"HTMLResource":function(Y,Z){G.addParam("companionBannerType"+Y,"HTML");G.addParam("companionBannerSrc"+Y,B.getTextFromNode(Z));},"StaticResource":function(Y,Z){G.addParam("companionBannerType"+Y,"STATIC");G.addParam("companionMimeType"+Y,Z.getAttribute("creativeType"));G.addParam("companionBannerSrc"+Y,B.getTextFromNode(Z));},"TrackingEvents":function(Z,ab){var ac=ab.childNodes,Y,aa;if(ac.length&&ac.length>0){for(Y=0;Y<ac.length;Y++){aa=ac[Y];if(aa.nodeName==="Tracking"){if(aa.getAttribute("event")==="creativeView"){G.addParam("companionImpression"+Z,B.getTextFromNode(aa));}}}}},"CompanionClickThrough":function(Y,Z){G.addParam("companionClickThrough"+Y,B.getTextFromNode(Z));}};for(S=0;S<T.length;S++){U=T[S];if(U.nodeName!=="Companion"){continue;}N=null;N=parseInt(U.getAttribute("width"),10);if(isNaN(N)){continue;}G.addParam("companionWidth"+S,U.getAttribute("width"));G.addParam("companionHeight"+S,U.getAttribute("height"));try{W=U.childNodes;if(W){for(R=0;R<W.length;R++){O=W[R];X=P[O.nodeName];if(!X){}else{X.call(undefined,S,O);}}}}catch(V){}}}}catch(V){}};var h=function(Q){var O,P,N,R;if(typeof Q===H.UNDEFINED||Q===null){return;}for(O=0;O<Q.length;O++){P=Q[O];if(B.hasAttribute(P,"name")){N=P.getAttribute("name");if(N){G.addParam(N,B.getTextFromNode(P));}}else{if(B.hasAttribute(P,"id")){R=P.getAttribute("id");if(R==="interaction"){k([P],a.INTERACTION,a.INTERACTION);}else{if(R==="bitrate"){k([P],a.BITRATE,a.IMPRESSION);}}}}}};var C=function(R){if(typeof R===H.UNDEFINED||R===null){return;}try{var P=R.getElementsByTagName("Extension");for(var N=0;N<P.length;N++){var O=P[N];if(typeof O===H.UNDEFINED||O===null){continue;}if(B.hasAttribute(O,"type")){switch(O.getAttribute("type")){case a.EXTENSION_SKIP_AD:j(O);break;case a.EXTENSION_CPCV:E(O);break;case a.EXTENSION_CUSTOM_TRACKING:p(O);break;default:}}}}catch(Q){}};var p=function(O){var P=O.getElementsByTagName(a.EXTENSION_NOADIMPRESSION),N;for(N=0;N<P.length;N++){J(P[N]);}};var J=function(P){var O,N;if(typeof P!==H.UNDEFINED&&P!==null){N=B.getTextFromNode(P);O={};O.id=a.REDIRECT_NOAD;O.type=a.IMPRESSION;O.url=N;O.tokenized=false;G.addBeacon(O.id,O);}};var j=function(Q){var N=Q.childNodes;if(N.length===0){return;}for(var P=0;P<N.length;P++){var O=N[P];if(typeof O===H.UNDEFINED||O===null||O.nodeType!==1){continue;}switch(O.nodeName){case"SkipDirective":I(O);break;case"SkipBeacon":i(O);break;default:}}};var I=function(N){var O=parseInt(B.getTextFromNode(N),10);if(isNaN(O)){}else{G.setSkip_directive(O);}};var i=function(N){var O=B.getTextFromNode(N);if(G.getSkip_directive()!==H.AD_ENABLE_SKIP){return;}if(typeof O===H.UNDEFINED||O===null){return;}var P={};P.id="skip";P.type="skip";P.url=O;P.tokenized=false;G.addBeacon(P.id,P);};var E=function(Q){var N=Q.childNodes;if(N.length===0){return;}for(var P=0;P<N.length;P++){var S=N[P];if(S.nodeType!==1){continue;}switch(S.nodeName){case"Progress30SecBeacon":var O={};O.id="cpcv";O.type="cpcv";var R=B.getTextFromNode(S);F(O,R);O.tokenized=false;G.addBeacon(O.id,O);break;default:}}};var F=function(P,Q){if(Q.indexOf(a.BEAP_SERVER)>-1){var O=Q.lastIndexOf("))");if(O>=0){var N=Q.substring(0,O)+a.CPCV_SUFFIX;P.url=N;}else{P.url=Q;}}else{P.url=Q;}};var u=function(){try{M=M&&l;f=f&&l||!M;if(f){if(q===true){return z.TYPE.VPAID;}y();return"ybt";}else{if(M){t();return"yct";
}}}catch(N){}return"";};var g=function(T){var Z=T.childNodes,Y="",W="",V=null,X=null,R=null,Q=null,P=null,O,S,N,aa;O={"VideoClicks":function(ac){var ab,ad,ae;ad=ac.childNodes;for(ab=0;ab<ad.length;ab++){ae=ad[ab];if(ae.nodeName==="ClickThrough"){V=B.getTextFromNode(ae);}else{if(ae.nodeName==="ClickTracking"){k([ae],a.CLICKTHROUGH,a.CLICKTHROUGH);}}}},"TrackingEvents":function(ab){k(ab.childNodes,null,null);},"Duration":function(ab){P=B.getTextFromNode(ab);X=P.split(":")[2];},"MediaFiles":function(ab){if(ab.childNodes){l=ab.childNodes.length>0;W=K(ab.childNodes);G.setType(z.TYPE.OVERLAY);}},"AdParameters":function(ac){var ae=ac.childNodes,ab,ad;if(ae.length>0){ab=ae[0].nodeType;if(ab===H.CDATA_SECTION_NODE||ab===H.TEXT_NODE){ad=B.getTextFromNode(ac);if(ad){G.addParam("params",ad);}}}R=ac.getElementsByTagName("yahoo_video_ad_item");M=R.length>0;f=R.length===0;Q=ac.getElementsByTagName("yahoo_video_ad_beacon");}};for(S=0;S<Z.length;S++){N=Z[S];aa=O[N.nodeName];if(!aa){}else{aa.call(undefined,N);}}Y=u();if(Y===z.TYPE.VPAID){G.setType(z.TYPE.VPAID);d();}else{if(Y!==""){try{G.addParam(Y+"_video",W);if(!isNaN(parseInt(X,10))){G.addParam(Y+"_duration",X);}if(V){G.addParam(Y+"_click_url",V);}if(R){h(R);}if(Q){h(Q);}}catch(U){}}}};var w=function(N){m(N);if(r===true){G.setType(z.TYPE.VPAID);c(N);}else{if(o===true){G.setType(z.TYPE.OVERLAY);v(N);}}};var A=function(R){var N,O,S,P,Q;N={"NonLinear":w,"NonLinearClickThrough":function(T){var U=B.getTextFromNode(T);G.addParam("yocts_click_url",U);},"TrackingEvents":function(T){k(T.childNodes,null,null);}};S=R.childNodes;for(O=0;O<S.length;O++){P=S[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}};var y=function(){G.addParam("ybt_video","");G.addParam("ybt_asset_type","VIDEO");G.addParam("ybt_asset_url","");G.addParam("ybt_duration","120");G.addParam("ybt_click_url","");G.setPos(z.POSITION.BUMPER);G.setUrl(L+H.BUMPER_TEMPLATE_SUFFIX);};var t=function(){G.addParam("yct_video","");G.addParam("yct_product_message","");G.addParam("yct_product_message_type","");G.addParam("yct_invitation_message","");G.addParam("yct_duration","120");G.addParam("ybt_click_url","");G.setPos(z.POSITION.CLICKABLE);G.setUrl(L+H.CLICKABLE_TEMPLATE_SUFFIX);};var d=function(){var N=G.getMediaUrl("application/x-shockwave-flash","0");G.setUrl(N[0]);};var v=function(S){var R,U,T=S.childNodes,N,O,P,Q;G.addParam("yocts_tooltip_text","AD");G.addParam("yocts_adslug_text","AD");G.addParam("yocts_act1_asset_type","");G.addParam("yocts_act1_text","");G.addParam("yocts_act1_asset_url","");G.addParam("yocts_act2_asset_type","EXTERNAL");G.addParam("yocts_act2_title_text","");G.addParam("yocts_act2_description_text","");G.setPos(z.POSITION.OVERLAY);G.setUrl(L+H.OVERLAY_TEMPLATE_SUFFIX);if(T.length===0){return;}N={"AdParameters":function(V){R=V.getElementsByTagName("yahoo_video_ad_item");h(R);},"StaticResource":function(V){G.addParam("yocts_act2_asset_url",B.getTextFromNode(V));},"NonLinearClickThrough":function(V){U=B.getTextFromNode(V);G.addParam("yocts_click_url",U);}};for(O=0;O<T.length;O++){P=T[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}};var c=function(O){var N;G.setUrl(B.getTextFromNode(O.getElementsByTagName("StaticResource")[0]));try{N=O.getElementsByTagName("AdParameters");if(N.length>0){G.addParam("params",B.getTextFromNode(N[0]));}}catch(P){}};var D=function(R){var N,O,P,Q;N={"Linear":g,"NonLinearAds":A,"CompanionAds":s};for(O=0;O<R.length;O++){P=R[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}};var x=function(Q){var R,O,P,S,N=false;R=Q.childNodes;if(R&&R.length>0){for(O=0;O<R.length;O++){P=R[O];if(P.nodeName==="Creative"){S=P.childNodes;if(S.length>0){N=true;D(S);}}}if(!N){G.setType(z.TYPE.NOAD);}}else{G.setType(z.TYPE.NOAD);}};var n=function(R){var N,T,O,P,Q;N={"VASTAdTagURI":function(U){G.setRedirectURL(B.getTextFromNode(U));G.setType(z.TYPE.REDIRECT);},"Impression":function(U){k([U],a.IMPRESSION,a.IMPRESSION);},"Creatives":x,"Extensions":C};try{T=R.childNodes;if(T&&T.length>0){for(O=0;O<T.length;O++){P=T[O];Q=N[P.nodeName];if(!Q){}else{Q.call(undefined,P);}}}}catch(S){}};this.parseAd=function(S,aa){var T=0,ab,Y=[],O,N,Z,Q=0,V={},X,R,W,P,ac;if(typeof S===H.UNDEFINED||S===null||S.nodeName!=="VAST"){return Y;}try{G=new z();G.setType(z.TYPE.NOAD);O=S.getElementsByTagName("Ad");P={"Wrapper":n,"InLine":n};do{ab=O[T];try{X=ab.getAttribute("id");if(typeof X!==H.UNDEFINED&&X!==null){G.setAdId(X);V[X]=G;}R=ab.getAttribute("fallbackfor");if(typeof R!==H.UNDEFINED&&R!==null){W=V[R];if(typeof W!==H.UNDEFINED&&W!==null){W.setFallbackAd(G);}}Z=ab.childNodes;if(Z.length===0){G.setType(z.TYPE.NOAD);}for(Q=0;Q<Z.length;Q++){N=Z[Q];ac=P[N.nodeName];if(!ac){}else{ac.call(undefined,N);}}}catch(U){G.setType(z.TYPE.NOAD);}finally{G.setFormat(z.FORMAT.VAST);if(typeof aa!==H.UNDEFINED&&aa!==null){G.addBeaconsFromAd(aa);G.setAdId(aa.getAdId());G.setAsCached(aa.isCached());G.setRedirectCount(aa.getRedirectCount());G.setRedirectUrlList(aa.getRedirectUrlList());}}Y.push(G);G=new z();T++;}while(T<O.length);}catch(U){}return Y;};};a.VID="VID";a.IMPRESSION="impression";a.ERROR="error";a.CLICKTHROUGH="clickthrough";a.INTERACTION="interaction";a.BITRATE="bitrate";a.INLINE="InLine";a.WRAPPER="Wrapper";a.EXTENSION_SKIP_AD="SkipAd";a.EXTENSION_CPCV="CPCV";a.EXTENSION_NOADIMPRESSION="NoAdImpression";a.EXTENSION_CUSTOM_TRACKING="CustomTracking";a.REDIRECT_NOAD="redirectNoAd";a.CPCV_SUFFIX=",ad_dur${ad_duration_value},s${skippable_value},vid${clip_id}))";a.BEAP_SERVER="ci.beap.ad.yieldmanager.net/reg_ci";a.EVENT_TYPE={"start":{id:"playback0",type:a.IMPRESSION},"firstquartile":{id:"playback25",type:a.IMPRESSION},"thirdquartile":{id:"playback75",type:a.IMPRESSION},"midpoint":{id:"playback50",type:a.IMPRESSION},"complete":{id:"playback100",type:a.IMPRESSION},"acceptinvitation":{id:a.CLICKTHROUGH,type:a.CLICKTHROUGH},"creativeview":{id:a.IMPRESSION,type:a.IMPRESSION}};b.com.yahoo.ads.communicator.parser.VASTParser=a;},"1.0.0",{requires:["node","Ad","ScopeLogger","datatype-xml-parse","Utils"]});YUI.add("VMAP1Object",function(e){e.namespace("com.yahoo.ads.communicator.parser");
VMAP1Object=function(){var i=[];var h="";this.getAdBreaks=function(){return i;};this.getVersion=function(){return h;};this.setVersion=function(j){h=j;};};var d=function(){var n=null;var i=null;var h="";var m=[];var l="";var k="";var j=null;this.getAdSource=function(){return n;};this.setAdSource=function(o){n=o;};this.getTrackingEvents=function(){return i;};this.setTrackingEvents=function(o){i=o;};this.getTimeOffset=function(){return h;};this.setTimeOffset=function(o){h=o;};this.getBreakType=function(){return m;};this.getBreakId=function(){return l;};this.setBreakId=function(o){l=o;};this.getRepeatAfter=function(){return k;};this.setRepeatAfter=function(o){k=o;};this.getExtensions=function(){return j;};this.setExtensions=function(o){j=o;};};var a=function(){var m="";var j=0;var l=0;var i="";var h="";var k="";this.getId=function(){return m;};this.setId=function(n){m=n;};this.getAllowMultipleAds=function(){return j;};this.setAllowMultipleAds=function(n){j=n;};this.getFollowRedirects=function(){return l;};this.setFollowRedirects=function(n){l=n;};this.getAdTagURI=function(){return i;};this.setAdTagURI=function(n){i=n;};this.getCustomAdData=function(){return h;};this.setCustomAdData=function(n){h=n;};this.getVastAdData=function(){return k;};this.setVastAdData=function(n){k=n;};};var c=function(){var h=[];this.getTrackings=function(){return h;};};var g=function(){var i="";var h="";this.getEvent=function(){return i;};this.setEvent=function(j){i=j;};this.getUrl=function(){return h;};this.setUrl=function(j){h=j;};};var b=function(){var h=[];this.getExtensions=function(){return h;};};var f=function(){var h="";var i="";this.getXml=function(){return h;};this.setXml=function(j){h=j;};this.getType=function(){return i;};this.setType=function(j){i=j;};};e.com.yahoo.ads.communicator.parser.VMAP1Object=VMAP1Object;e.com.yahoo.ads.communicator.parser.AdBreak=d;e.com.yahoo.ads.communicator.parser.AdSource=a;e.com.yahoo.ads.communicator.parser.TrackingEvents=c;e.com.yahoo.ads.communicator.parser.Tracking=g;e.com.yahoo.ads.communicator.parser.Extensions=b;e.com.yahoo.ads.communicator.parser.Extension=f;},"1.0.0",{});YUI.add("VMAP1Parser",function(a){a.namespace("com.yahoo.ads.communicator.parser");VMAP1Parser=function(){var g=a.com.yahoo.ads.utils.Utils,e=a.com.yahoo.ads.common.Constants,b=a.com.yahoo.ads.communicator.Ad,h=a.com.yahoo.ads.logging.ScopeLogger;var d="http://www.iab.net/vmap-1.0";this.parseAd=function(p,x){var m=new a.com.yahoo.ads.communicator.parser.VMAP1Object(),l=null,s=[],v=null,o,u=e.VMAP_BREAK_START_EVENT;var w=p;var r=w.getAttribute("version");if(r){m.setVersion(r);}else{}var q=g.getElementsByTagNameNS(p,d,"AdBreak",VMAP1Parser.NS);for(o=0;o<q.length;o++){m.getAdBreaks().push(f(q[o]));}if(q.length===0){throw"[VMAPParseError]: VMAP should have 1 or more AdBreaks.";}var n=m.getAdBreaks()[0];l=n.getAdSource().getVastAdData();if(l){v=x?x:new b();v.setFormat(b.FORMAT.VMAP);if(n.getTrackingEvents()){var t=n.getTrackingEvents().getTrackings();for(o=0;o<t.length;o++){if(t[o].getEvent()==="breakStart"){v.addBeacon(u,{"id":u,"type":u,"url":t[o].getUrl(),"tokenized":false});}}}else{}s=a.com.yahoo.ads.communicator.parser.ParserFactory.getParser("VAST").parseAd(l,v);}return s;};var f=function(m){var n=new a.com.yahoo.ads.communicator.parser.AdBreak();n.setBreakId(m.getAttribute("breakId"));var t=m.getAttribute("breakType");var s=t.split(",");for(var o=0;o<s.length;o++){n.getBreakType().push(s[o]);}if(n.getBreakType().length===0){}var q=m.getAttribute("timeOffset");if(q){n.setTimeOffset(q);}else{}n.setRepeatAfter(m.getAttribute("repeatAfter"));var p=g.getElementsByTagNameNS(m,d,"TrackingEvents",VMAP1Parser.NS);var l=g.getElementsByTagNameNS(m,d,"AdSource",VMAP1Parser.NS);var r=g.getElementsByTagNameNS(m,d,"Extensions",VMAP1Parser.NS);if(p[0]){n.setTrackingEvents(i(p[0]));}if(l[0]){n.setAdSource(k(l[0]));}if(r[0]){n.setExtensions(j(r[0]));}return n;};var i=function(l){var o=new a.com.yahoo.ads.communicator.parser.TrackingEvents();var n=g.getElementsByTagNameNS(l,d,"Tracking",VMAP1Parser.NS);for(var m=0;m<n.length;m++){o.getTrackings().push(c(n[m]));}return o;};var c=function(m){var n=new a.com.yahoo.ads.communicator.parser.Tracking();var l=m.getAttribute("event");if(l){n.setEvent(l);}else{throw"[VMAPParseError]: Tracking event type is required in Tracking.";}n.setUrl(g.getTextFromNode(m));return n;};var k=function(l){var m=new a.com.yahoo.ads.communicator.parser.AdSource();m.setId(l.getAttribute("id"));m.setAllowMultipleAds((l.getAttribute("allowMultipleAds")==="true")?1:0);m.setFollowRedirects((l.getAttribute("followRedirects")==="true")?1:0);if(g.getElementsByTagNameNS(l,d,"VASTAdData",VMAP1Parser.NS)[0]){m.setVastAdData(g.getElementsByTagNameNS(l,d,"VASTAdData",VMAP1Parser.NS)[0].childNodes[0]);}else{if(g.getElementsByTagNameNS(l,d,"AdTagURI",VMAP1Parser.NS)[0]){m.setAdTagURI(g.getElementsByTagNameNS(l,d,"AdTagURI",VMAP1Parser.NS)[0].childNodes[0]);}else{if(g.getElementsByTagNameNS(l,d,"CustomAdData",VMAP1Parser.NS)[0]){m.setCustomAdData(g.getElementsByTagNameNS(l,d,"CustomAdData",VMAP1Parser.NS)[0].childNodes[0]);}else{throw"[VMAPParseError]: No valid AdSource found.";}}}return m;};var j=function(p){var n=new a.com.yahoo.ads.communicator.parser.Extensions();var o=g.getElementsByTagNameNS(p,d,"Extension",VMAP1Parser.NS);for(var m=0;m<o.length;m++){var l=new a.com.yahoo.ads.communicator.parser.Extension();l.setType(o[m].getAttribute("type"));l.setXml(g.getTextFromNode(o[m]));n.getExtensions().push(l);}return n;};};VMAP1Parser.NS="vmap";a.com.yahoo.ads.communicator.parser.VMAP1Parser=VMAP1Parser;},"1.0.0",{requires:["datatype-xml","VMAP1Object","Utils","ScopeLogger"]});YUI.add("YahooParser",function(a){a.namespace("com.yahoo.ads.communicator.parser");YahooParser=function(){var f=a.com.yahoo.ads.common.Constants,b=a.com.yahoo.ads.communicator.Ad,j=a.com.yahoo.ads.utils.Utils;var k=null;var l=this;var i=function(q){for(var o=0;o<q.length;o++){var p=q[o];var n={};n.url=p.getAttribute("url");n.url=n.url.replace(/&(?=amp;)/g,"&");
n.id=p.getAttribute("bid");n.type=p.getAttribute("type").toLowerCase();n.tokenized=p.getAttribute("tokenized");k.addBeacon(n.id,n);}};var g=function(q){for(var o=0;o<q.length;o++){var p=q[o];if(j.hasAttribute(p,"name")){var n=p.getAttribute("name");k.addParam(n,j.getTextFromNode(p));}}};var h=function(n,p){try{var o=j.getElementsByTagNameNS(n,p,"beacons",YahooParser.NS)[0];var r=j.getElementsByTagNameNS(o,p,"beacon",YahooParser.NS);i(r);}catch(q){}};var m=function(o){try{var n={};n.url=o.getAttribute("csc");n.id=YahooParser.IMPRESSION;n.type=YahooParser.IMPRESSION;n.tokenized=true;k.addBeacon(n.id,n);}catch(p){}};var e=function(n,p){var o,q;k.setType(b.TYPE.REDIRECT);k.setPos(b.POSITION.CLICKABLE);o=j.getElementsByTagNameNS(n,p,"adtag",YahooParser.NS);q="";if(o&&o.length>0){q=j.getTextFromNode(o[0]);}k.setRedirectURL(q);h(n,p);};var d=function(n){k.setType(b.TYPE.NOAD);k.setPos(b.POSITION.CLICKABLE);};var c=function(n,r){var q,p,o,t;k.setType(b.TYPE.OVERLAY);k.setPos(b.POSITION.OVERLAY);h(n,r);try{q=j.getElementsByTagNameNS(n,r,"creatives",YahooParser.NS)[0];p=j.getElementsByTagNameNS(q,r,"creative",YahooParser.NS)[0].getAttribute("url");k.setUrl(p);}catch(s){}try{o=j.getElementsByTagNameNS(n,r,"creativeData",YahooParser.NS)[0];t=j.getElementsByTagNameNS(o,r,"item",YahooParser.NS);g(t);}catch(s){}};this.parseAd=function(u,p){var v=0,z,x=[],s,t,n,q,y,r,A,o;if(typeof u===f.UNDEFINED||u===null){return x;}k=new b();s=u.getElementsByTagName("position");t=(typeof s!=="undefined"&&s!==null)?s[0]:null;n=(typeof t!=="undefined"&&t!==null)?t.getElementsByTagName("addata"):null;if(!n||n.length<1){return;}do{z=n[v];try{m(z);q=z.getElementsByTagName("ads");if(q&&q.length>0){o=q[0].getAttribute("xmlns:video-ad");A=q[0].getElementsByTagName("ad");y=(typeof A!=="undefined"&&A!==null)?A[0]:null;r=(typeof y!=="undefined"&&y!==null)?j.getElementsByTagNameNS(y,o,"adtag",YahooParser.NS):null;if(r&&r.length>0){e(y,o);}else{c(y,o);}}else{d();}}catch(w){d();}finally{k.setFormat(b.FORMAT.YAHOO);if(typeof p!==f.UNDEFINED&&p!==null){k.addBeaconsFromAd(p);}}x.push(k);v++;k=new b();}while(v<n.length);return x;};};YahooParser.NS="video-ad";YahooParser.IMPRESSION="impression";a.com.yahoo.ads.communicator.parser.YahooParser=YahooParser;},"1.0.0",{requires:["node","Ad","ScopeLogger","datatype-xml-parse","Utils"]});YUI.add("Prefetcher",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(q,p){var l=b.com.yahoo.ads.common.Constants,c=b.com.yahoo.ads.communicator.Ad,n=null,e=null,k=null,d=null,f=null,i=null,j=null,m=null,r=q,h=null,g=null,o=function(t){d=t;var s=null;if(typeof r!==l.UNDEFINED&&r!==null){s=r.getRendererType();}j=new b.com.yahoo.ads.communicator.RedirectResolver(s,l.AD_PREFETCH_TIME);k=new b.com.yahoo.ads.communicator.parser.ParserManager();m=new b.com.yahoo.ads.communicator.adrequests.AdRequestManager();m.setRendererType(s);h=new b.com.yahoo.ads.communicator.CacheUpdater(s);g=0;};this.setNetworkModule=function(s){f=s;};this.setNetworkSettings=function(s){i=s;};this.init=function(s){o(s);};this.onAdRedirect=function(s){switch(s.type){case l.REDIRECT_RESOLVED:n=s.ad;n.setCommunicator(this);this.notifyPrefetch(n);break;case l.ERR_RESP_GENERIC:this.notifyError(l.ERR_RESP_GENERIC);break;case l.REDIRECT_TIMEDOUT:n.setPrefetch(l.AD_PREFETCH_TIMEOUT);this._notifyPrefetch(n);break;default:this.notifyError(s.type);break;}};this.setRedirect=function(v){var s,t,u;t={"adComponentSettings":i,"context":d,"serverUrl":v,"adSpec":null};u=i.getSetting("EnableSSL")===l.TRUE;try{s=m.getRequest(t,f.getName(),u);}catch(w){if(!w.type){w.type=l.ERR_REQ_GENERIC;}this.notifyError(w.type);return;}j=new b.com.yahoo.ads.communicator.RedirectResolver();j.on(l.AD_REDIRECT_EVENT,this.onAdRedirect,this);j.resolve(n,s,g);};this.processAd=function(x){var t=0,u,s,w;w=x.getPayload();if(w.indexOf("adResults")>-1){w=w.replace(/&(?!amp;)/g,"&amp;");}try{u=k.parseAd(w,n);}catch(v){if(!v.type){v.type=l.ERR_RESP_GENERIC;}this.notifyError(v.type);return;}if(u instanceof Array){for(t=0;t<u.length;t++){s=u[t];if(x.getIsTemplate()){s.unsetFormat();}}this.processAdList(u);}else{this.notifyError(l.ERR_RESP_GENERIC);}};this.processAdList=function(s){n=s[0];if(typeof n!==l.UNDEFINED&&n!==null){if(n.getFallbackAd()){e=n;n=n.getFallbackAd();}else{if(s&&s[1]&&s[1].getType()===c.TYPE.REDIRECT){e=s[1];}}this.handleAd();this.processCacheUpdate();}else{this.notifyError(l.ERR_RESP_GENERI);return;}};this.handleAd=function(){var s=n.getRedirectURL();if(n.getType()===c.TYPE.REDIRECT){n.setPrefetch(l.AD_PREFETCH_INPROGRESS);n.setCommunicator(this);this.notifyPrefetch(n);this.setRedirect(s);}else{n.setPrefetch(l.AD_PREFETCH_COMPLETE);n.setCommunicator(this);this.notifyPrefetch(n);}};this.processCacheUpdate=function(){if(!e){return;}h.update(e,this.revShare);};this.notifyPrefetch=function(s){var t=s.isCached();this.fire(l.AD_PREFETCH_EVENT,{adObject:s,update:t});};this.notifyError=function(s){if(n){n.setPrefetch(l.AD_PREFETCH_ERROR);n.setErrorState(s);}};this.prefetchAd=function(t){var s=null;n=null;if(t){s=new b.com.yahoo.ads.communicator.AdResponse(t,null);if(t.match(/CDATA\[\$\{\w+\}/)){s.setIsTemplate(true);g=-1;}this.processAd(s);}};};b.com.yahoo.ads.communicator.Prefetcher=a;b.augment(a,b.EventTarget);},"1.0.0",{requires:["node","AdResponse","Constants","AdRequestManager","ParserManager","CacheUpdater"]});YUI.add("RedirectResolver",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(l,p,r){var t=b.com.yahoo.ads.common.Constants,j=b.com.yahoo.ads.communicator.Ad,x=b.com.yahoo.ads.communicator.UrlLoader,c=b.com.yahoo.ads.utils.Utils,m=new b.com.yahoo.ads.communicator.parser.ParserManager(),B=new b.com.yahoo.ads.communicator.UrlLoader(l),q=null,i=0,s=[],z=p?p:t.AD_PREFETCH_TIME,d=null,h=this,C=false,A=r,n=function(){C=true;d.reset();if(!A){B.abort();}},o=function(E,F){C=false;if(!d){d=new b.com.yahoo.ads.plugin.Timer(E*1000,0);}else{d.reset();}d.addFunctionOnComplete(h,n,F);d.start();},u=function(E){var F={"type":E,"ad":q};h.fire(t.AD_REDIRECT_EVENT,F);
},D=function(E){f();y(E);},w=function(E){f();u(E);},g=function(){f();B.abort();u(t.REDIRECT_TIMEDOUT);},f=function(){B.detach(x.AD_RESPONSE,D,this);B.detach(x.ADCALL_ERROR,w,this);B.detach(x.ADCALL_TIMEOUT,g,this);},e=function(){B.on(x.AD_RESPONSE,D,this);B.on(x.ADCALL_ERROR,w,this);B.on(x.ADCALL_TIMEOUT,g,this);},v=function(E){var F=c.getDomain(E);s.push(F);i+=1;e();B.query(E);},k=function(){var E=q.getRedirectURL();if(q.getType()===j.TYPE.REDIRECT){v(E);}else{q.setRedirectUrlList(s);q.setRedirectCount(i);q.setPrefetch(t.AD_PREFETCH_COMPLETE);if(!C){u(t.REDIRECT_RESOLVED);}else{u(t.REDIRECT_TIMEDOUT);}}},y=function(J){var F,G=null,E=null,I=J.getPayload();if(I.indexOf("adResults")>-1){I=I.replace(/&(?!amp;)/g,"&amp;");}try{G=m.parseAd(I,q);}catch(H){}if(G instanceof Array){for(F=0;F<G.length&&F<1;F++){E=G[F];if(J.getIsTemplate()){E.unsetFormat();}}q=G[0];if(typeof q!==t.UNDEFINED&&q!==null){q.XML=I;k();}else{u(t.ERR_RESP_GENERIC);}}else{u(t.ERR_RESP_GENERIC);}};this.resolve=function(F,E,G){o(z);q=F;i=G;s=[];v(E);};};b.com.yahoo.ads.communicator.RedirectResolver=a;b.augment(a,b.EventTarget);},"1.0.0",{requires:["Constants","Utils"]});YUI.add("ServerCacheUpdater",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(e){var c=b.com.yahoo.ads.common.Constants,d=e===c.HTML,g=b.com.yahoo.ads.utils.Utils,f=new b.com.yahoo.ads.communicator.VASTCreator();this.update=function(p,j){var i=c.CACHEUPDATE_URL,o,n,h,l,k=function(s,r,q){},m=function(s,r,q){};l=f.createXML(p.XML,p);if(!l){return;}i=g.updateProtocol(i);h={"ref_share":j,"SlotsList":[{"booking_id":p.getBookingId(),"crtv_id":p.getCreativeId(),"crtv":l}]};n={method:"POST",data:b.JSON.stringify(h),xdr:{use:"native",credentials:true},on:{success:k,failure:m},sync:d};b.io.header("X-Requested-With");o=b.io(i,n);};};b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.ServerCacheUpdater=a;},"1.0.0",{requires:["node","ScopeLogger","Utils","VASTCreator"]});YUI.add("UrlLoader",function(a){a.namespace("com.yahoo.ads.communicator");UrlLoader=function(f){var b=a.com.yahoo.ads.common.Constants;var i=this;var d=f===b.HTML;var h=false;var e=null;var g=function(j){if(!j){return"";}var k=j.match(i.domainRegex),l=k&&k[0]||"";return l;};var c=function(j){if(!j){return false;}var k=i.whiteList[j];return typeof k!==b.UNDEFINED?k:false;};this.abort=function(){h=true;};this.query=function(m){a.CurrentCommClientInstance=this;var j=m,l,t=false,s,p;var o=this,r="ERR_RESP_EMPTY";var k=function(x,w,u){if(h===true){return;}var v=w.responseText;if(typeof v!=="undefined"&&v!==null&&v.length>0){v=v.replace(/>\s+</g,"><");o.onAdServerResponse(v,m);}else{o.onAdCallError();}};var n=function(x,w,u){var v=w.statusText;if(v==="timeout"){if(h===true){return;}o.onAdCallTimeout();}else{if(v===""){o.onAdCallError(r);}else{o.onAdCallError(b.ERR_RESP_GENERIC);}}};l=g(j);t=(l==="yahoo.com");s=c(l);p={method:"GET",xdr:{use:"native",credentials:s},on:{success:k,failure:n},sync:d};a.io.header("X-Requested-With");h=false;try{e=a.io(j,p);}catch(q){n(null,{"statusText":"exception"},null);}};this.onAdServerResponse=function(k,l){var j=new a.com.yahoo.ads.communicator.AdResponse(k,l);this.fire(UrlLoader.AD_RESPONSE,j);};this.onAdCallTimeout=function(){this.fire(UrlLoader.ADCALL_TIMEOUT,null);};this.onAdCallError=function(j){this.fire(UrlLoader.ADCALL_ERROR,j);};};UrlLoader.prototype.whiteList={"amgdgt.com":true,"adap.tv":true,"videohub.tv":true,"doubleclick.net":true,"undertone.com":true,"jivox.com":true,"adform.net":true,"flashtalking.com":true,"telemetryverification.net":true,"fwmrm.net":true,"eyereturn.com":true,"zedo.com":true,"tubemogul.com":true,"tidaltv.com":true,"yahoo.com":true,"cbs.com":true,"innovid.com":true,"moatads.com":true};UrlLoader.prototype.domainRegex=/[\w-]+\.(?:com|net|tv)/;UrlLoader.AD_RESPONSE="AD_RESPONSE";UrlLoader.ADCALL_TIMEOUT="ADCALL_TIMEOUT";UrlLoader.ADCALL_ERROR="ADCALL_ERROR";a.augment(UrlLoader,a.EventTarget);a.com.yahoo.ads.communicator.UrlLoader=UrlLoader;},"1.0.0",{requires:["node","jsonp","ScopeLogger","AdResponse","Utils"]});YUI.add("VASTCreator",function(b){b.namespace("com.yahoo.ads.communicator");var a=function(l){var g=b.com.yahoo.ads.common.Constants,k=b.com.yahoo.ads.utils.Utils,h=null,e=new b.com.yahoo.ads.communicator.parser.ParserManager(),j=function(o,p){var r=false,s,q;if(o){for(q=0;q<o.length;q++){s=o[q].url;if(s===p){r=true;break;}}}return r;},c=function(r,p,o){var q=k.createNode(h,o,r);p.appendChild(q);},m=function(r,p,o){var q=k.createNode(h,"Tracking",r);q.setAttribute("event",a.BEACON[o]);p.appendChild(q);},i=function(t,q,o){var s=h.createElement("Extension"),r=a.EXTENSION[o],p=k.createNode(h,r.id,t);s.setAttribute("type",r.type);s.appendChild(p);q.appendChild(s);},d=function(r,q,o){var p,s;for(p=0;p<r.length;p++){s=r[p].url;if(s&&!j(o,s)){c(s,q,"Impression");}}},n=function(s,r,q,o){var p,t;if(!r){return;}for(p=0;p<s.length;p++){t=s[p].url;if(t&&!j(o,t)){switch(q){case g.REDIRECT_NOAD:case g.CPCV:case g.SKIP:i(t,r,q);break;case g.CLICKTHROUGH:c(t,r,"ClickTracking");break;default:m(t,r,q);break;}}}},f=function(q,G,C){var J,w,F,p=G.getAllBeacons(),r=C?C.getAllBeacons():[],t=q.getElementsByTagName("InLine"),x=t&&t[0]?t[0]:null,v=x&&x.getElementsByTagName("Creatives")?x.getElementsByTagName("Creatives"):null,y=v&&v[0]?v[0]:null,A=y&&y.getElementsByTagName("Creative")?y.getElementsByTagName("Creative"):null,z=A&&A[0]?A[0]:null,E=z&&z.getElementsByTagName("Linear")?z.getElementsByTagName("Linear"):null,o=E&&E[0]?E[0]:null,I=o&&o.getElementsByTagName("VideoClicks")?o.getElementsByTagName("VideoClicks"):null,s=I&&I[0]?I[0]:null,u=o&&o.getElementsByTagName("TrackingEvents")?o.getElementsByTagName("TrackingEvents"):null,B=u&&u[0]?u[0]:null,H=x&&x.getElementsByTagName("Extensions")?x.getElementsByTagName("Extensions"):null,D=H&&H[0]?H[0]:null;if(x&&(!H||H.length===0)){D=k.createNode(h,"Extensions");x.appendChild(D);}if(o&&(!I||I.length===0)){s=k.createNode(h,"VideoClicks");o.appendChild(s);}if(o&&(!u||u.length===0)){B=k.createNode(h,"TrackingEvents");
o.appendChild(B);}for(J in p){w=p[J];F=r[J];switch(J){case g.IMPRESSION:d(w,x,F);break;case g.REDIRECT_NOAD:case g.CPCV:case g.SKIP:n(w,D,J,F);break;case g.CLICKTHROUGH:n(w,s,J,F);break;default:n(w,B,J,F);break;}}};this.createXML=function(s,r){var o="",p,u=null,q;if(typeof s!==g.UNDEFINED&&s!==null&&s.length>0){try{s=s.replace(/>\s+</g,"><");s=s.replace(/<\!--.*?-->/g,"");q=e.parseAd(s,null);if(q instanceof Array&&q.length>0){u=q[0];}h=k.createDocumentNode(s);p=h.getElementsByTagName("Ad");if(p&&p.length>0){p[0].setAttribute("fallbackfor",r.getAdId());f(p[0],r,u);}}catch(t){throw k.errorEvent("Error in creating Vast XML","class: VASTCreator, method: createXML",g.ERR_REQ_GENERIC);}}o=k.formatDocumentNode(h);return o;};};a.BEACON={"playback0":"start","playback25":"firstquartile","playback75":"thirdquartile","playback50":"midpoint","playback100":"complete","close":"close"};a.EXTENSION={"skip":{id:"SkipBeacon",type:"SkipAd"},"cpcv":{id:"Progress30SecBeacon",type:"CPCV"},"redirectNoAd":{id:"NoAdImpression",type:"CustomTracking"}};b.augment(a,b.EventTarget);b.com.yahoo.ads.communicator.VASTCreator=a;},"1.0.0",{requires:["node","ScopeLogger","Utils"]});YUI.add("ActionEventResolver",function(a){a.namespace("com.yahoo.ads.engine");ActionEventResolver=function(){var b=a.com.yahoo.ads.common.Constants;function c(e){var d=false;if(!e){return d;}if(e.type===b.TRIGGER_CLIP_PREROLL||e.type===b.TRIGGER_CLIP_POSTROLL||e.type===b.TRIGGER_CLIP_GATEWAY){d=true;}return d;}return{resolveBlockingEvent:function(l,k){var f=Array();var e=false;for(var g=0;g<l.length;g++){var h=l[g];if(this.isCountableAction(h)){if(!e){if(h.getEventId()!=="no-op"){if(h.getEventId()==="skip-ad"){h.setEventId("no-op");}e=true;f.push(h);}}}else{f.push(h);}}if(!e&&this.isBlockingAction(k)){var d=new a.com.yahoo.ads.rules.ActionRule();d.setType(k.type);var j=new a.com.yahoo.ads.engine.EngineActionEvent(a.com.yahoo.ads.engine.EngineActionEvent.NOOP_EVENT,d);f.push(j);}return f;},needToFireFor:function(f,e){var d=true;var g=c(e);if(!g&&f.getEventId()==="no-op"){d=false;}return d;},isBlockingAction:function(d){return c(d);},isCountableAction:function(e){var d=true;if(e.getEventId()==="skin-op"){d=false;}return d;}};};a.com.yahoo.ads.engine.ActionEventResolver=ActionEventResolver;},"1.0.0",{requires:["node","EngineActionEvent","ScopeLogger"]});YUI.add("AdEngine",function(a){a.namespace("com.yahoo.ads.engine");AdEngine=function(){_CONSTANTS=a.com.yahoo.ads.common.Constants;_MODE_XML=0;STATE_RAW=0;STATE_READY=1;STATE_RUNNING=2;STATE_LOADING_CONFIG=3;DEFAULT_EVAL_INTERVAL=100;TRIGGER_BASIS_ID="triggers";SESSION_BASIS_ID="session";VIDEO_TIMELINE_BASIS_ID="videoTimeline";_defaultGroup=null;_mRuleGroupsMap=null;_lastSetId=null;_mActiveGroupId=null;this.evalInterval=null;this.timersMap=null;this.mLastSecondExecuted=0;this._mState=null;_actionEventResolver=new a.com.yahoo.ads.engine.ActionEventResolver();_adsInClipCount=0;_clipCount=0;_categoryCount=0;_adLength=0;_vidLength=0;_rcvidLength=0;_rcclipCount=0;_adCount=0;_clipDuration=0;this.setClipData=function(b,c){_clipCount=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_CLIP_COUNT),10);_adLength=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_AD_LENGTH),10);_vidLength=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_VIDEO_LENGTH),10);_rcvidLength=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_REC_VIDEO_LENGTH),10);_rcclipCount=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_REC_CLIP_COUNT),10);_adCount=parseInt(b.getCookieParam(_CONSTANTS.COOKIE_AD_COUNT),10);_clipDuration=parseInt(c,10);};this.setState=function(b){if(((typeof this._mState==="undefined"||this._mState===null)&&b===STATE_RAW)||(this._mState===STATE_RAW&&b===STATE_READY)||(this._mState===STATE_READY&&b===STATE_LOADING_CONFIG)||(this._mState===STATE_LOADING_CONFIG&&b===STATE_READY)||(this._mState===STATE_RUNNING&&b===STATE_LOADING_CONFIG)||(this._mState===STATE_LOADING_CONFIG&&b===STATE_RUNNING)||(this._mState===STATE_READY&&b===STATE_RUNNING)){this._mState=b;if(this._mState===STATE_READY){this._fireAdEngineReadyEvent();}}};this.compileRules=function(c){for(var d in c){var b=c[d];if(typeof _defaultGroup==="undefined"||_defaultGroup===null){_defaultGroup=b;}_mRuleGroupsMap[b.getid()]=b;if(b.getisDefault()){_defaultGroup=b;_lastSetId=_mActiveGroupId=_defaultGroup.getid();}}this.setState(STATE_READY);};this._invalidateConfig=function(){this.setState(STATE_LOADING_CONFIG);this.mContextDataMap={};};this.buildEngineRuntime=function(){return new a.com.yahoo.ads.engine.RuleRuntime(this.getRuntimeParam);};this.getRuntimeParam=function(b){if(b==="userSession"){return getUserSession();}else{if(b==="videoDuration"){var d=0;try{d=Number(mContextDataMap["tech:duration"]);}catch(c){alert("got an exception"+c);}if(d===0){try{d=this.timersMap[VIDEO_TIMELINE_BASIS_ID].totalTime;}catch(c){alert("got an exception"+c);}}return d;}else{if(b==="videoAveragePlaytime"){return mContextDataMap["extra-biz:averagePlaytime"];}else{return mContextDataMap[b];}}}};this._fireAdEngineReadyEvent=function(){this.fire(_CONSTANTS.AD_ENGINE_READY_EVENT);};this._fireAdEngineErrorEvent=function(){this.fire(_CONSTANTS.AD_ENGINE_ERROR_EVENT);};this._fireAdEngineAdEvent=function(){this.fire(_CONSTANTS.AD_ENGINE_AD_EVENT);};this.evaluateRuleByPosition=function(b,c){};this.evaluateRuleGroup=function(d,b){var c;if(d==="-1"){return;}c=_mRuleGroupsMap[d];if(!c){c=_defaultGroup;}if(c){c.evaluate(b);}};this.executionTimerCallbackAttached=function(e){if(!(this.timelineRulesPresent(_mActiveGroupId))&&this._mState!==STATE_RUNNING){return;}var c=this.timersMap[VIDEO_TIMELINE_BASIS_ID].getElapsed();var g=this.buildEngineRuntime();g.addBasis(new TimerEventBasis(VIDEO_TIMELINE_BASIS_ID,this.timersMap[VIDEO_TIMELINE_BASIS_ID],_clipCount));var h=Math.abs(c-this.mLastSecondExecuted);if(h>=2){this.fire(a.com.yahoo.ads.engine.EngineActionEvent.RESET_EVENT);this.mLastSecondExecuted=c;return;}this.mLastSecondExecuted=c;this.qCount=0;this.evaluateRuleGroup(_mActiveGroupId,g);var b=[];b=_actionEventResolver.resolveBlockingEvent(g.getActions(),null);
for(var d=0;d<b.length;d++){var f=new a.com.yahoo.ads.engine.EngineActionEvent();f=b[d];if(f.getAction()){f.getAction().mActionParams.AdPosition=_adsInClipCount++;}this.fire(f.EVENT_NAME,f);}};this.timelineRulesPresent=function(b){var c=_mRuleGroupsMap[b];if(typeof c==="undefined"||c===null){c=_defaultGroup;return false;}else{return c.getisTimelineDriven();}};};a.augment(AdEngine,a.EventTarget);AdEngine.prototype.getAdEngineReadyEvent=function(){return _CONSTANTS.AD_ENGINE_READY_EVENT;};AdEngine.prototype.getAdEngineErrorEvent=function(){return _CONSTANTS.AD_ENGINE_ERROR_EVENT;};AdEngine.prototype.getAdEngineAdEvent=function(){return _CONSTANTS.AD_ENGINE_AD_EVENT;};AdEngine.prototype.fireAdEngineReadyEvent=function(){this._fireAdEngineReadyEvent();};AdEngine.prototype.fireAdEngineErrorEvent=function(){this._fireAdEngineErrorEvent();};AdEngine.prototype.fireAdEngineAdEvent=function(){this._fireAdEngineAdEvent();};AdEngine.prototype.runEngine=function(){if(this._mState===STATE_READY){this.setState(STATE_RUNNING);this.timersMap[VIDEO_TIMELINE_BASIS_ID].on("advanced",this.executionTimerCallbackAttached,this);}};AdEngine.prototype.invalidateConfig=function(){this._invalidateConfig();};AdEngine.prototype.ready=function(){return(this._mState===STATE_READY||this._mState===STATE_RUNNING);};AdEngine.prototype.init=function(){var b=""+Math.round(Math.random()*100000);this.setState(STATE_RAW);this.evalInterval=DEFAULT_EVAL_INTERVAL;this.timersMap={};_mRuleGroupsMap={};this.mContextDataMap={};};AdEngine.prototype.updateRules=function(b){this.compileRules(b.getData());};AdEngine.prototype.addTimer=function(c){var b=c.getId();this.timersMap[b]=c;};AdEngine.prototype.setActiveGroupId=function(c){if(typeof c==="undefined"||c===null){c=_lastSetId;}_lastSetId=c;try{if(_mRuleGroupsMap[c]||Number(c)===-1){_mActiveGroupId=c;}else{_mActiveGroupId=_defaultGroup.id;}}catch(b){}};AdEngine.prototype.getActiveGroupId=function(){return _mActiveGroupId;};AdEngine.prototype.addContextParam=function(b,c){if(b==="videoAveragePlaytime"){c=Math.round(c/1000);}this.mContextDataMap[b]=c;};AdEngine.prototype.resetClipRules=function(){var b,c;for(b in _mRuleGroupsMap){if(_mRuleGroupsMap.hasOwnProperty(b)){c=_mRuleGroupsMap[b];if(typeof c!=="undefined"&&c!==null){c.resetClipRules();}}}};AdEngine.prototype.onAdEvent=function(d){var g=d.action;var h=new a.com.yahoo.ads.engine.TriggerEventBasis(TRIGGER_BASIS_ID,g.type,d.action);if(g.type===_CONSTANTS.NOTIFICATION_CLIP_CHANGE){_adsInClipCount=0;this.resetClipRules();return;}else{h.setCount(_clipCount);h.setAdLength(_adLength);h.setVidLength(_vidLength);h.setRecentVidLength(_rcvidLength);h.setRecentClipCount(_rcclipCount);h.setAdCount(_adCount);h.setClipDuration(_clipDuration);}var f=this.buildEngineRuntime();f.addBasis(h);var b=[];this.evaluateRuleGroup(_mActiveGroupId,f);b=_actionEventResolver.resolveBlockingEvent(f.getActions(),g);for(var c=0;c<b.length;c++){var e=new a.com.yahoo.ads.engine.EngineActionEvent();e=b[c];if(_actionEventResolver.needToFireFor(e,g)){if(e.action&&_actionEventResolver.isCountableAction(e)){e.action.actionParams.AdPosition=_adsInClipCount++;}this.fire(e.EVENT_NAME,e);}else{}}};a.com.yahoo.ads.engine.AdEngine=AdEngine;},"1.0.0",{requires:["node","event-custom","TriggerEventBasis","ActionEventResolver","RuleRuntime","event-custom-complex","ScopeLogger","Constants"]});YUI.add("EngineActionEvent",function(b){b.namespace("com.yahoo.ads.engine");function a(f,g){var d;var c;var e=b.com.yahoo.ads.common.Constants;if(!f){d="no-op";}else{d=f;c=g;}return{EVENT_NAME:e.AD_ENGINE_AD_EVENT,setEventId:function(h){d=h;},getEventId:function(){return d;},setAction:function(h){c=h;},getAction:function(){return c;},toString:function(){return"[EngineActionEvent(eventId:"+d+")(action:"+c+")]";}};}a.RESET_EVENT="reset";a.NOOP_EVENT="no-op";a.SKIP_EVENT="skip-ad";b.com.yahoo.ads.engine.EngineActionEvent=a;},"1.0.0",{requires:["node"]});YUI.add("RuleRuntime",function(a){a.namespace("com.yahoo.ads.engine");RuleRuntime=function(){var b=a.com.yahoo.ads.logging.ScopeLogger("RuleRuntime");var c=function(){};var e={};var d=[];function f(g){c=g;e={};d=[];}return{addBasis:function(g){e[g.getName()]=g;},getParam:function(g){return c(g);},getBasis:function(g){return e[g];},propagateActionEvent:function(g){d.push(g);},getActions:function(){return d;}};};a.com.yahoo.ads.engine.RuleRuntime=RuleRuntime;},"1.0.0",{requires:["node","ScopeLogger"]});YUI.add("TimerEventBasis",function(a){a.namespace("com.yahoo.ads.engine");TimerEventBasis=function(e,g,d){var f=g;var c=d;var b=e;return{getName:function(){return b;},getTimer:function(){return f;},getClipCount:function(){return c;},getType:function(){return TimerEventBasis.TIMER_BASIS;}};};TimerEventBasis.TIMER_BASIS="timer";a.com.yahoo.ads.engine.TimerEventBasis=TimerEventBasis;},"1.0.0",{requires:["node"]});YUI.add("TriggerEventBasis",function(a){a.namespace("com.yahoo.ads.engine");TriggerEventBasis=function(c,i,e){var j=0;var n=0;var d=0;var k=0;var h=0;var b=0;var f=0;var l=c;var m=i;var g=e;return{getCount:function(){return j;},setCount:function(o){j=o;},getClipDuration:function(){return n;},setClipDuration:function(o){n=o;},getAdLength:function(){return d;},setAdLength:function(o){d=o;},getVidLength:function(){return k;},setVidLength:function(o){k=o;},getRecentVidLength:function(){return h;},setRecentVidLength:function(o){h=o;},getRecentClipCount:function(){return b;},setRecentClipCount:function(o){b=o;},getAdCount:function(){return f;},setAdCount:function(o){f=o;},getName:function(){return l;},getTriggerName:function(){return m;},getTrigger:function(){return g;},getType:function(){return TriggerEventBasis.TRIGGER_BASIS;}};};TriggerEventBasis.TRIGGER_BASIS="trigger";a.com.yahoo.ads.engine.TriggerEventBasis=TriggerEventBasis;},"1.0.0",{requires:["node"]});YUI.add("AdEvents",function(a){a.namespace("com.yahoo.ads.event");AdEvents=function(){};AdEvents.AdLoaded="AdLoaded";AdEvents.AdStarted="AdStarted";AdEvents.AdStopped="AdStopped";AdEvents.AdLinearChange="AdLinearChange";
AdEvents.AdExpandedChange="AdExpandedChange";AdEvents.AdRemainingTimeChange="AdRemainingTimeChange";AdEvents.AdVolumeChange="AdVolumeChange";AdEvents.AdImpression="AdImpression";AdEvents.AdClickThru="AdClickThru";AdEvents.AdClick="AdClick";AdEvents.AdMouseOver="AdMouseOver";AdEvents.AdMouseOut="AdMouseOut";AdEvents.AdVideoStart="AdVideoStart";AdEvents.AdVideoFirstQuartile="AdVideoFirstQuartile";AdEvents.AdVideoMidpoint="AdVideoMidpoint";AdEvents.AdVideoThirdQuartile="AdVideoThirdQuartile";AdEvents.AdVideoComplete="AdVideoComplete";AdEvents.AdUserAcceptInvitation="AdUserAcceptInvitation";AdEvents.AdUserMinimize="AdUserMinimize";AdEvents.AdUserClose="AdUserClose";AdEvents.AdPaused="AdPaused";AdEvents.AdPlaying="AdPlaying";AdEvents.AdError="AdError";AdEvents.AdLog="AdLog";AdEvents.AdProgress="AdProgress";AdEvents.AdPlayback="AdPlayback";AdEvents.AdMediaFirstByte="AdMediaFirstByte";AdEvents.AdMediaPlaybackError="AdMediaPlaybackError";a.com.yahoo.ads.event.AdEvents=AdEvents;},"1.0.0",{requires:["node"]});YUI.add("AdMetricsEvent",function(a){a.namespace("com.yahoo.ads.event");AdMetricsEvent=function(b,k,c,d,m){var n=b;var j=k;var h=null;var g=c;var e=null;var l=null;var i=d;var f=m;this.getEventId=function(){return n;};this.setEventId=function(o){n=o;};this.getEventData=function(){return j;};this.setEventData=function(o){j=o;};this.getAdType=function(){return h;};this.setAdType=function(o){h=o;};this.getCreativeId=function(){return g;};this.setCreativeId=function(o){g=o;};this.getAdPos=function(){return e;};this.setAdPos=function(o){e=o;};this.getRuleName=function(){return l;};this.setRuleName=function(o){l=o;};this.getParams=function(){return i;};this.setParams=function(o){i=o;};this.getAd=function(){return f;};this.setAd=function(o){f=o;};};AdMetricsEvent.prototype.EVENT_NAME="AdCommunicatorMetrics";a.com.yahoo.ads.event.AdMetricsEvent=AdMetricsEvent;},"1.0.0",{requires:["node"]});YUI.add("AdPluginMetricsEvent",function(b){b.namespace("com.yahoo.ads.event");function a(c,d,e){this._eventId=null;this._eventData=null;this._creativeId=null;this._adType=null;this._adPos=null;this._ruleName=null;this._params=null;this._eventId=c;this._eventData=d;this._creativeId=e;}a.prototype.getParams=function(){return this._params;};a.prototype.setParams=function(c){this._params=c;};a.prototype.setEventId=function(c){this._eventId=c;};a.prototype.getEventId=function(){return this._eventId;};a.prototype.setData=function(c){this._eventData=c;};a.prototype.getData=function(){return this._eventData;};a.prototype.setCreativeId=function(c){this._creativeId=c;};a.prototype.getCreativeId=function(){return this._creativeId;};a.prototype.setCreativeType=function(c){this._adType=c;};a.prototype.getCreativeType=function(){return this._adType;};a.prototype.setCreativePos=function(c){this._adPos=c;};a.prototype.getCreativePos=function(){return this._adPos;};a.prototype.setRuleName=function(c){this._ruleName=c;};a.prototype.getRuleName=function(){return this._ruleName;};a.prototype.toString=function(){return"[EVENT (type: EventMetrics)("+"id:"+this._eventId+")("+"data:"+this._eventData+")("+"cid:"+this._creativeId+")("+"type:"+this._adType+")("+"pos:"+this._adPos+")("+"rule:"+this._ruleName+")]";};b.com.yahoo.ads.event.AdPluginMetricsEvent=a;},"1.0.0",{requires:["node"]});YUI.add("BeaconEventData",function(b){b.namespace("com.yahoo.ads.event");function a(){this._clickCount=0;this._mouseOverCount=0;this._mouseOutCount=0;this._closeCount=0;this._idleExpDuration=0;this._idleStartTime=0;this._act3ReportedDuration=null;this._adLoadTime=null;this._act1StartTime=null;this._act2StartTime=null;this._act3StartTime=null;this._bumperStartTime=null;this._rollInTime=null;}a.PLAYBACK="playback";a.PLAYBACK0="playback0";a.PLAYBACK25="playback25";a.PLAYBACK50="playback50";a.PLAYBACK75="playback75";a.PLAYBACK100="playback100";a.MOUSE_OVER="mouseover";a.MOUSE_OUT="mouseout";a.CLICK="click";a.SKIP="skip";a.CPCV="cpcv";a.BITRATE="bitrate";a.IMPRESSION="impression";a.INTERACTION="interaction";a.CLICKTHROUGH="clickthrough";a.OVERLAY="OVERLAY";a.CLOSE="close";a.availableBitrate=null;a.prototype.setBaseData=function(d){var c=new Date();switch(d){case"AdLoadTime":this._adLoadTime=c.valueOf();break;case"Act1StartTime":this._act1StartTime=c.valueOf();break;case"Act2StartTime":this._act2StartTime=c.valueOf();break;case"Act3StartTime":this._act3StartTime=c.valueOf();break;case"BumperStartTime":this._bumperStartTime=c.valueOf();break;case"RollInTime":this._rollInTime=c.valueOf();break;case"IdleTimeStart":this._idleStartTime=c.valueOf();break;case"IdleEndTime":this._idleExpDuration+=(c.valueOf()-this._idleStartTime);break;}};a.prototype.getBaseData=function(c){var d;switch(c){case"AdLoadTime":d=this._adLoadTime;break;case"Act1StartTime":d=this._act1StartTime;break;case"Act2StartTime":d=this._act2StartTime;break;case"Act3StartTime":d=this._act3StartTime;break;case"BumperStartTime":d=this._bumperStartTime;break;case"RollInTime":d=this._rollInTime;break;}return d;};a.prototype.elapsedTimeFromLastAction=function(d){var c=new Date();return c.valueOf()-getBaseData(d);};a.prototype.setAct3ReportedDuration=function(c){this._act3ReportedDuration=c*1000;};a.prototype.generateEventData=function(e){var d=new Date();var c;switch(e){case"t:ct_OVERLAY":case"t:ir_OVERLAY":case"t:ro_OVERLAY":case"t:ac":case"t:ct_ACT_1":case"t:ct_ACT_3":c=e+":"+(d.valueOf()-this._adLoadTime);break;case"t:ir_ACT_1":c=e+":"+(d.valueOf()-this._act1StartTime);break;case"t:ir_ACT_2":c=e+":"+(d.valueOf()-this._act2StartTime);break;case"t:ir_ACT_3":case"t:et_ACT_3":c=e+":"+(d.valueOf()-this._act3StartTime);break;case"t:et_ACT_1":c=e+":"+(d.valueOf()-this._bumperStartTime);break;case"t:et_ACT_2":c=e+":"+(d.valueOf()-this._rollInTime);break;case"t:ed_ACT_3;0":case"t:ed_ACT_3;100":case"t:ed_ACT_3;50":c=e+";"+this._act3ReportedDuration+":"+this._act3ReportedDuration;break;case"RollInTime":this._rollInTime=d.valueOf();break;}return c;};a.prototype.getUpdatedClickCount=function(){this._clickCount++;return this._clickCount;
};a.prototype.getUpdatedMouseOverCount=function(){this._mouseOverCount++;return this._mouseOverCount;};a.prototype.getUpdatedMouseOutCount=function(){this._mouseOutCount++;return this._mouseOutCount;};a.prototype.getUpdatedCloseCount=function(){this._closeCount++;return this._closeCount;};a.prototype.getElapsedTimeFromAdLoad=function(){var d=new Date();var c=d.valueOf()-this._adLoadTime;return c;};a.prototype.getActualExperienceDuration=function(){return(getElapsedTimeFromAdLoad()-this._idleExpDuration);};b.com.yahoo.ads.event.BeaconEventData=a;},"1.0.0",{requires:["node"]});YUI.add("FlashRenderManager",function(a){a.namespace("com.yahoo.ads.flash");FlashRenderManager=function(b){this._eventBus=b;this.renderer=null;this.nullRenderer=null;this._ad=null;_CONSTANTS=a.com.yahoo.ads.common.Constants;window.SWF=a.SWF;var c=this;this.subscribeEvents=function(){if(!this.renderer){return;}this.renderer.on(_CONSTANTS.EVENT_VIDEO_AD_END,function(d){c._ad=null;c._eventBus.notifyVideoAdEnd();});this.renderer.on(_CONSTANTS.EVENT_VIDEO_AD_START,function(d){c._eventBus.notifyVideoAdStart(d.capabilities);});this.renderer.on(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK,function(d){c._eventBus.notifyAdPlayback(d.capabilities);});this.renderer.on(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE,function(d){c._eventBus.notifyAdMediaFirstByte(d);});this.renderer.on(_CONSTANTS.EVENT_NOAD,function(d){});this.renderer.on(_CONSTANTS.EVENT_AD_PROGRESS,function(d){c._eventBus.notifyAdProgress(d);});this.renderer.on(_CONSTANTS.EVENT_PROFILER,function(d){});this.renderer.on(_CONSTANTS.EVENT_METRIC,function(d){c._eventBus.notifyMetricsEvent(d);});this.renderer.on(_CONSTANTS.EVENT_AD_METRICS,function(g){var f=g.data;var d=new a.com.yahoo.ads.event.AdMetricsEvent(f.eventId,f.data,f.creativeId,f.params,f.ad);if(this._ad){this._ad.onAdEvent(d);}else{c._eventBus.notifyAdMetricsEvent(d);}});this.renderer.on(_CONSTANTS.AD_DELIVERY_ERROR,function(d){c._eventBus.notifyAdDeliveryError(d);});this.renderer.on(_CONSTANTS.AD_START_ERROR,function(d){c._eventBus.notifyAdStartError(d);});};};FlashRenderManager.prototype.cancelAds=function(){if(!this.renderer){return;}this.renderer.callSWF("cancelAllAds");};FlashRenderManager.prototype.setRenderer=function(b){this.renderer=b;this.subscribeEvents();};FlashRenderManager.prototype.getRenderer=function(){return this.renderer;};FlashRenderManager.prototype.renderAd=function(c,f,e){this._ad=c;if(c){var b=c.getJson();try{if(!this.renderer){return;}this.renderer.callSWF("renderAd",[b,f,e]);}catch(d){console.log(d);}}else{this.nullRenderer=new a.com.yahoo.ads.renderer.NullRenderer();this.nullRenderer.setEventBus(this._eventBus);this.nullRenderer.render(c,f,e);}};FlashRenderManager.prototype.addVPAIDAdToCache=function(c,f,e){this._ad=c;if(c){var b=c.getJson();try{if(!this.renderer){return;}this.renderer.callSWF("addVPAIDAdToCache",[b,f,e]);}catch(d){console.log(d);}}};FlashRenderManager.prototype.removeVPAIDAdFromCache=function(b){try{if(!this.renderer){return;}this.renderer.callSWF("removeVPAIDAdFromCache",[b]);}catch(c){console.log(c);}};FlashRenderManager.prototype.resizeAd=function(c,g,e,b,d){if(!this.renderer){return;}try{this.renderer.callSWF("onContentVideoResized",[c,g,e,b,d]);this.renderer.callSWF("onControlTween",[c,g,e,b]);}catch(f){}};FlashRenderManager.prototype.setVolume=function(b){if(!this.renderer){return;}this.renderer.callSWF("setVolume",[b]);};a.com.yahoo.ads.flash.FlashRenderManager=FlashRenderManager;},"1.0.0",{requires:["node","ScopeLogger","AdMetricsEvent"]});YUI.add("ScopeLogger",function(a){a.namespace("com.yahoo.ads.logging");ScopeLogger=function(c){var b=c;var d=function(){};return{trace:function(e){},message:function(e){a.message(b+"::"+e,"info","VideoAdPlugin");},warning:function(e){},error:function(e){}};};a.com.yahoo.ads.logging.ScopeLogger=ScopeLogger;},"1.0.0",{requires:["node"]});YUI.add("AdComponentSettings",function(a){a.namespace("com.yahoo.ads.man");AdComponentSettings=function(){var c;var d="";var b;return{initFromArray:function(i,e){var h=[];var g="NETWORK."+e+".";var k=g.length;for(var f in i){if(f.indexOf(g)===0){var j=f.substr(k);h[j]=i[f];}}return h;},init:function(g,f,e){if(g){c=this.initFromArray(g,f);}d=f;b=e;},getComponentSettings:function(e){return new AdComponentSettings(null,e,this);},storeSetting:function(e,f){if(b){b.storeSetting(d+"."+e,f);}else{c[e]=f;}},getSetting:function(e){if(b){return b.getSetting("NETWORK."+d+"."+e);}else{return c[e];}},toString:function(){var g="";var f=0;var e;for(e in c){if(c[e].length>0){if(f>0){g+=";"+e+"="+c[e];}else{g+=e+"="+c[e];}}f++;}return g;}};};a.com.yahoo.ads.man.AdComponentSettings=AdComponentSettings;},"1.0.0",{requires:["node","ScopeLogger"]});YUI.add("ManagedConfig",function(a){a.namespace("com.yahoo.ads.man");ManagedConfig=function(){var b;return{getIsRuleGroup:function(){return true;},setData:function(c){b=c;},getData:function(){return b;}};};a.com.yahoo.ads.man.ManagedConfig=ManagedConfig;},"1.0.0",{requires:["node"]});YUI.add("ManAllocation",function(a){a.namespace("com.yahoo.ads.man");ManAllocation=function(){var b=[],d=null,c=null;return{init:function(h){var g,e,f;this.parseNetworkModules(h.NetworkModules);this.parseSettings(h.Settings);g=d["SELECTOR.ID"];e=h.AllocationModule;for(f=0;f<e.length;f++){if(e[f]["@id"]===g){c=e[f]["@uri"];}}},parseNetworkModules:function(e){var g,f;if(e instanceof Array){for(f=0;f<e.length;f++){g=new a.com.yahoo.ads.man.NetworkModule();g.init(e[f]);b.push(g);}}else{if(typeof e!=="undefined"&&e!==null){g=new a.com.yahoo.ads.man.NetworkModule();g.init(e.NetworkModule);b.push(g);}}},parseSettings:function(f){d={};for(var e in f){d[f[e]["@name"]]=f[e]["@value"];}},getNetworkModules:function(){return b;},getSettings:function(){return d;},getIsManagedConfig:function(){return false;},getIsServable:function(){return true;},getId:function(){return"";},getIsSelector:function(){return false;},getAllocationModuleUri:function(){return c;},toString1:function(){return"[ManAllocation("+c+")]";}};};
a.com.yahoo.ads.man.ManAllocation=ManAllocation;},"1.0.0",{requires:["node","NetworkModule"]});YUI.add("NetworkModule",function(a){a.namespace("com.yahoo.ads.man");NetworkModule=function(){var d=null;var e=null;var c=null;var b=null;return{init:function(f){d=f;e=d["@id"];c=d["@name"];b=d["@as3uri"];},getId:function(){return e;},getName:function(){return c;},getAS3Uri:function(){return b;},toString:function(){return"NetworkModule:: id: "+e+", name: "+c+", AS3Uri: "+b;}};};a.com.yahoo.ads.man.NetworkModule=NetworkModule;},"1.0.0",{requires:["node"]});YUI.add("ParseJSON",function(a){a.namespace("com.yahoo.ads.man");ParseJSON=function(){var c=null;var b=null;return{init:function(){},getRules:function(){return b;},getAllocation:function(){return c;},parseItems:function(e){var d=e.allocation;if(typeof d!=="undefined"&&d!==null){this.parseAllocationItem(d);}var f=e.ruleGroup;if(typeof f!=="undefined"&&f!==null){this.parseRuleGroup(f);}return true;},parseAllocationItem:function(d){if(typeof d!=="undefined"&&d!==null){c=new a.com.yahoo.ads.man.ManAllocation();c.init(d);}},parseRuleGroup:function(f){b=new ManagedConfig();tmp={};for(var e=0;e<f.ruleGroup.length;e++){if(f.ruleGroup[e]["@active"]==="true"){var d=new a.com.yahoo.ads.rules.RuleGroup();d.initFromJSON(f.ruleGroup[e]);tmp[d.getid()]=d;}}b.setData(tmp);}};};a.com.yahoo.ads.man.ParseJSON=ParseJSON;},"1.0.0",{requires:["node","ManagedConfig","ManAllocation","RuleGroup","Constants"]});YUI.namespace("com.yahoo.ads.plugin");YUI.com.yahoo.ads.plugin.AdPluginEvent=function(){AdPluginEvent.EVENT_PLUGIN_READY="PluginReady";AdPluginEvent.EVENT_PLUGIN_DESTROY="PluginDestroy";AdPluginEvent.EVENT_VIDEO_AD_START="VideoAdStart";AdPluginEvent.EVENT_VIDEO_AD_END="VideoAdEnd";AdPluginEvent.EVENT_RICH_AD_START="RichAdStart";AdPluginEvent.EVENT_RICH_AD_END="RichAdEnd";AdPluginEvent.EVENT_OVERLAY_START="OverlayStart";AdPluginEvent.EVENT_OVERLAY_END="OverlayEnd";AdPluginEvent.EVENT_EXPERIENCE_COMPLETE="ExperienceComplete";AdPluginEvent.EVENT_PREPARE_VIDEO="PrepareVideo";AdPluginEvent.EVENT_VIDEO_NOAD="PluginNoAd";AdPluginEvent.EVENT_SKIN_PLAYER="skinPlayer";AdPluginEvent.EVENT_UNLOCK_PLAYINST="unlockPlaylist";AdPluginEvent.EVENT_SCALE_VIDEO="scaleVideo";AdPluginEvent.EVENT_AD_PROGRESS="blockingAdProgress";AdPluginEvent.EVENT_METRICS="metricsEvent";};YUI.add("ErrorCode",function(a){a.namespace("com.yahoo.ads.plugin");ErrorCode=function(){};ErrorCode[MonitoringBeaconEvent.EVENT_ERR_PlUGIN_INIT]="e.100.101";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_COMM_LOAD]="e.200.201";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_COMM_TIMEOUT]="e.200.202";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_COMM_INT]="e.200.203";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_ADCALL]="e.200.204";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_QUERY_LOAD]="e.300.301";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_QUERY_TIMEOUT]="e.300.302";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_QUERY_INT]="e.300.303";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_AD_LOAD]="e.400.401";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT]="e.400.402";ErrorCode[MonitoringBeaconEvent.EVENT_ERR_AD_INT]="e.400.403";a.com.yahoo.ads.plugin.ErrorCode=ErrorCode;},"1.0.0",{requires:["node","MonitoringBeaconEvent"]});YUI.add("EventBusSwitch",function(a){a.namespace("com.yahoo.ads.plugin");EventBusSwitch=function(){_CONSTANTS=a.com.yahoo.ads.common.Constants;this._sink=null;EventBusSwitch.prototype.setSink=function(c){this._sink=c;var b=this;this._sink.on(_CONSTANTS.VolumeChangedEvent,function(){b.redispatch(_CONSTANTS.VolumeChangedEvent,arguments);});this._sink.on(_CONSTANTS.ClientInfoChangedEvent,this.redispatch);this._sink.on(_CONSTANTS.ControlTweenEvent,this.redispatch);this._sink.on(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.redispatch);};EventBusSwitch.prototype.getSink=function(b){return this._sink;};EventBusSwitch.prototype.redispatch=function(b){this.fire(b,arguments);};EventBusSwitch.prototype.notifyAdRendered=function(){this._sink.notifyAdRendered();};EventBusSwitch.prototype.notifyVideoAdStart=function(b){this._sink.notifyVideoAdStart(b);};EventBusSwitch.prototype.notifyVideoAdEnd=function(){this._sink.notifyVideoAdEnd();};EventBusSwitch.prototype.notifyOverlayStart=function(){this._sink.notifyOverlayStart();};EventBusSwitch.prototype.notifyOverlayEnd=function(){this._sink.notifyOverlayEnd();};EventBusSwitch.prototype.notifyPluginReady=function(){this._sink.notifyPluginReady();};EventBusSwitch.prototype.notifyMetricsEvent=function(b){this._sink.notifyMetricsEvent(b);};EventBusSwitch.prototype.notifyAdMetricsEvent=function(b){this._sink.notifyAdMetricsEvent(b);};EventBusSwitch.prototype.notifyUnlockPlaylist=function(b){this._sink.notifyUnlockPlaylist(b);};EventBusSwitch.prototype.notifyAdProgress=function(b){this._sink.notifyAdProgress(b);};EventBusSwitch.prototype.notifyAdPlayback=function(b){this._sink.notifyAdPlayback(b);};EventBusSwitch.prototype.notifyAdMediaFirstByte=function(b){this._sink.notifyAdMediaFirstByte(b);};EventBusSwitch.prototype.notifyAdReady=function(b){this._sink.notifyAdReady(b);};EventBusSwitch.prototype.notifyNoAd=function(b){this._sink.notifyNoAd(b);};EventBusSwitch.prototype.notifyNullAd=function(b){this._sink.notifyNullAd(b);};EventBusSwitch.prototype.notifyAdDeliveryError=function(b){this._sink.notifyAdDeliveryError(b);};EventBusSwitch.prototype.notifyAdStartError=function(b){this._sink.notifyAdStartError(b);};a.augment(EventBusSwitch,a.EventTarget);};a.com.yahoo.ads.plugin.EventBusSwitch=EventBusSwitch;},"1.0.0",{requires:["node"]});YUI.add("Loader",function(a){a.namespace("com.yahoo.ads.plugin");Loader=function(){var b=function(){};};a.augment(Loader,a.EventTarget);Loader.COMPLETE="COMPLETE";Loader.FAILURE="FAILURE";Loader.TIMEOUT="TIMEOUT";Loader.prototype.timeoutHandler=function(){this.fire(Loader.TIMEOUT);};Loader.prototype.failureHandler=function(){this.fire(Loader.FAILURE);};Loader.prototype.successHandler=function(c){var b=this.stringToFunction(this._className);this.instance=new b();this.fire(Loader.COMPLETE);
};Loader.prototype.stringToFunction=function(f){var c=f.split(".");var e=(window||this);for(var d=0,b=c.length;d<b;d++){e=e[c[d]];}if(typeof e!=="function"){console.log("typeof "+f+" is "+typeof e);throw new Error("function not found");}return e;};Loader.prototype.getInstance=function(){return this.instance;};Loader.prototype.load=function(b,c){this._className=c;a.Get.script(b,{onSuccess:this.successHandler,onFailure:this.failureHandler,onTimeout:this.timeoutHandler,context:this});};Loader.prototype.unload=function(){};a.com.yahoo.ads.plugin.Loader=Loader;},"1.0.0",{requires:["node","ScopeLogger"]});YUI.add("MonitorBeaconer",function(b){b.namespace("com.yahoo.ads.plugin");var a=function(){var av=b.com.yahoo.ads.communicator.Ad,ap=b.com.yahoo.ads.common.Constants,p=null,r=null,au=null,ax=null,U=null,aw=null,O=null,F=null,l=null,w=null,ac=null,K=null,N=null,B=null,c=null,z=null,al=null,ah=null,I=null,W=null,Y=null,aj=null,k=null,o=null,ag=null,i=null,ai=null,aq=null,y=null,E=null,ar=null,M=null,g=null,ad=null,am=null,t=null,h=YWACode.CACHEHIT.FALSE,at=YWACode.FALLBACK.FALSE,T=null,az=null,q=null,v=null,m=null,d=YWACode.FALSE,ay="",n="",J="",H=this,f=false,s=false,ab=[];YWA_AD_LOCAL_STORAGE=YWACode.FALSE;var D=function(aA,aD,aC){var aB={};aB.profilerData=aA;aB.YWAData=aD;aB.YAMASData=aC;H.fire(MonitoringBeaconEvent.EVENT_NAME,new MonitoringBeaconEvent(MonitoringBeaconEvent.EVENT_METRIC,aB));};var G=function(aB,aE,aF,aC,aA){var aD={};aD.type=aB;aD.message=aE;aD.timeDiff=aF;aD.startTime=aC;aD.endTime=aA;return aD;};var af=function(aA){if(!aA.isLoadingTime){aA.isLoadingTime=true;aA.startLoadingTime=(new Date()).getTime();}};var L=function(aA,aB){if(aA.isLoadingTime){aA.endLoadingTime=(new Date()).getTime();aA.diffLoadTime=aA.endLoadingTime-aA.startLoadingTime;if(aB){monitoringBeaconDict={};monitoringBeaconDict[aA.metric]=aA.diffLoadTime;}aA.isLoadingTime=false;D(G(aA.profilerMetric,aA.msg,aA.diffLoadTime,aA.startLoadingTime,aA.endLoadingTime),null,null);}};var Z=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.AD_OPP_TYPE]=g;aA[YWACode.AD_OPP_RULEID]=ad;aA[YWACode.AD_OPP_TAKEN]=ar;aA[YWACode.AD_OPP_PLAYCN]=t;aA[YWACode.AD_POSITION]=am;aA[YWACode.AD_NETWORK_NAME]=M;aA[YWACode.EVENT]=YWACode.AD_OPPORTUNITY;return aA;};var ak=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.AD_OPP_TYPE]=g;aA[YWACode.AD_OPP_RULEID]=ad;aA[YWACode.AD_OPP_TAKEN]=ar;aA[YWACode.AD_OPP_PLAYCN]=t;aA[YWACode.AD_POSITION]=am;aA[YWACode.AD_NETWORK_NAME]=M;aA[YWACode.EVENT]=YWACode.AD_OPPORTUNITY;if(f===true){aA.timeout=1;}else{aA.timeout=2;}return aA;};var u=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.EVENT]=YWACode.PLUGIN_INIT;return aA;};var X=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.AD_POSITION]=z;aA[YWACode.AD_TEMPORAL_PLACEMENT]=al;aA[YWACode.AD_NETWORK_NAME]=c;aA[YWACode.AD_RESPONSE_TYPE]=N;aA[YWACode.AD_RESPONSE_CODE]=B;aA[YWACode.AD_REDIRECT]=y;aA[YWACode.REDIRECT_HOP]=E;aA[YWACode.AD_CALL_SEQUENCE]=ah;aA[YWACode.AD_OPP_PLAYCN]=t;aA[YWACode.AD_CACHE_HIT]=h;aA[YWACode.EVENT]=YWACode.AD_CALL;aA[YWACode.YVAP_TIMEOUT_AT_ADCALL]=T;aA[YWACode.AD_CREATIVE_ID]=J;aA[YWACode.AD_BOOKING_ID]=n;aA[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;return aA;};var Q=function(aA){var aB={};aB[YWACode.ADPLUGIN_VERSION]=l;aB[YWACode.YVAP_ACCOUNT_ID]=w;aB[YWACode.AD_POSITION]=z;aB[YWACode.AD_TEMPORAL_PLACEMENT]=al;aB[YWACode.AD_NETWORK_NAME]=c;aB[YWACode.AD_RESPONSE_TYPE]=N;aB[YWACode.AD_RESPONSE_CODE]=B;aB[aA.metric]=I;aB[YWACode.AD_REDIRECT]=y;aB[YWACode.REDIRECT_HOP]=E;aB[YWACode.AD_CALL_SEQUENCE]=ah;aB[YWACode.AD_OPP_PLAYCN]=t;aB.adc=h;aB[YWACode.EVENT]=YWACode.AD_CALL;aB.timeout=T;aB.cr=J;aB.bi=n;aB.als=YWA_AD_LOCAL_STORAGE;return aB;};var e=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.AD_POSITION]=z;aA[YWACode.AD_TEMPORAL_PLACEMENT]=al;aA[YWACode.AD_NETWORK_NAME]=c;aA[YWACode.AD_RESPONSE_TYPE]=N;aA[YWACode.AD_RESPONSE_CODE]=B;aA[YWACode.AD_REDIRECT]=y;aA[YWACode.REDIRECT_HOP]=E;aA[YWACode.AD_CALL_SEQUENCE]=ah;aA[YWACode.AD_MEDIA_START_LATENCY]=at;aA[YWACode.AD_CACHE_HIT]=h;aA[YWACode.EVENT]=YWACode.AD_START;aA[YWACode.YVAP_TIMEOUT_AT_ADSTART]=az;aA[YWACode.YVAP_TIMEOUT_AT_ADCALL]=T;aA[YWACode.AD_CREATIVE_ID]=J;aA[YWACode.AD_BOOKING_ID]=n;aA[YWACode.AD_OPP_PLAYCN]=t;aA[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;if(N===YWACode.RESPONSE_TYPE[av.TYPE.VPAID.toUpperCase()]){aA[YWACode.VPAID_PREINIT_YWA]=d;}return aA;};var j=function(aA){var aB={};aB[YWACode.ADPLUGIN_VERSION]=l;aB[YWACode.YVAP_ACCOUNT_ID]=w;aB[YWACode.AD_POSITION]=z;aB[YWACode.AD_TEMPORAL_PLACEMENT]=al;aB[YWACode.AD_NETWORK_NAME]=c;aB[YWACode.AD_RESPONSE_TYPE]=N;aB[YWACode.AD_RESPONSE_CODE]=B;aB[aA.metric]=aj;aB[YWACode.AD_REDIRECT]=y;aB[YWACode.REDIRECT_HOP]=E;aB[YWACode.AD_CALL_SEQUENCE]=ah;aB.fb=at;aB.adc=h;aB[YWACode.EVENT]=YWACode.AD_START;aB.timeout=az;aB[YWACode.AD_OPP_PLAYCN]=t;if(N===YWACode.RESPONSE_TYPE[av.TYPE.VPAID.toUpperCase()]){aB[YWACode.VPAID_PREINIT_YWA]=d;}if(f){aB.tta=F.diffLoadTime;}aB.cr=J;aB.bi=n;aB.als=YWA_AD_LOCAL_STORAGE;return aB;};var R=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.AD_POSITION]=z;aA[YWACode.AD_TEMPORAL_PLACEMENT]=al;aA[YWACode.AD_NETWORK_NAME]=c;aA[YWACode.AD_RESPONSE_TYPE]=N;aA[YWACode.AD_RESPONSE_CODE]=B;aA[YWACode.AD_REDIRECT]=y;aA[YWACode.REDIRECT_HOP]=E;aA[YWACode.AD_CALL_SEQUENCE]=ah;aA[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;aA.fb=at;aA.adc=h;aA.als=YWA_AD_LOCAL_STORAGE;return aA;};var A=function(){var aA=R();aA[YWACode.EVENT]=YWACode.AD_START_ERROR;aA[YWACode.AD_START_ERROR_QOS]=v;aA[YWACode.AD_OPP_PLAYCN]=t;return aA;};var S=function(){var aA=R();aA[YWACode.EVENT]=YWACode.AD_START_ERROR;aA[YWACode.AD_START_ERROR_YWA]=v;aA[YWACode.AD_OPP_PLAYCN]=t;return aA;};var x=function(){var aA=R();aA[YWACode.EVENT]=YWACode.AD_DELIVERY_ERROR;
aA[YWACode.AD_DELIVERY_ERROR_YWA]=m;aA[YWACode.AD_OPP_PLAYCN]=t;return aA;};var C=function(){var aA=R();aA[YWACode.EVENT]=YWACode.AD_DELIVERY_ERROR;aA[YWACode.AD_DELIVERY_ERROR_QOS]=m;aA[YWACode.AD_OPP_PLAYCN]=t;return aA;};var aa=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.AD_POSITION]=z;aA[YWACode.AD_TEMPORAL_PLACEMENT]=al;aA[YWACode.AD_NETWORK_NAME]=c;aA[YWACode.AD_RESPONSE_TYPE]=N;aA[YWACode.AD_RESPONSE_CODE]=B;aA[YWACode.AD_REDIRECT]=y;aA[YWACode.REDIRECT_HOP]=E;aA[YWACode.AD_CALL_SEQUENCE]=ah;aA[YWACode.AD_MEDIA_START_LATENCY]=k;aA[YWACode.AD_MEDIA_START_LATENCY]=at;aA[YWACode.AD_CACHE_HIT]=h;aA[YWACode.EVENT]=YWACode.AD_MEDIA_START;aA[YWACode.AD_CREATIVE_ID]=J;aA[YWACode.AD_BOOKING_ID]=n;aA[YWACode.AD_OPP_PLAYCN]=t;aA[YWACode.AD_LOCAL_STORAGE]=YWA_AD_LOCAL_STORAGE;return aA;};var P=function(aA){var aB={};aB[YWACode.ADPLUGIN_VERSION]=l;aB[YWACode.YVAP_ACCOUNT_ID]=w;aB[YWACode.AD_POSITION]=z;aB[YWACode.AD_TEMPORAL_PLACEMENT]=al;aB[YWACode.AD_NETWORK_NAME]=c;aB[YWACode.AD_RESPONSE_TYPE]=N;aB[YWACode.AD_RESPONSE_CODE]=B;aB[YWACode.AD_REDIRECT]=y;aB[YWACode.REDIRECT_HOP]=E;aB[YWACode.AD_CALL_SEQUENCE]=ah;aB[aA.metric]=k;aB.fb=at;aB.adc=h;aB[YWACode.EVENT]=YWACode.AD_MEDIA_START;aB[YWACode.AD_OPP_PLAYCN]=t;if(f===true){aB.timeout=1;}else{aB.timeout=2;}if(aq!==null){aB[YWACode.VAST_OVERALL]=aq;}aB.ms=ay;aB.cr=J;aB.bi=n;aB.als=YWA_AD_LOCAL_STORAGE;return aB;};var V=function(aA){var aB={};aB[YWACode.ADPLUGIN_VERSION]=l;aB[YWACode.YVAP_ACCOUNT_ID]=w;aB[YWACode.AD_POSITION]=z;aB[YWACode.AD_TEMPORAL_PLACEMENT]=al;aB[YWACode.AD_NETWORK_NAME]=c;aB[YWACode.AD_RESPONSE_TYPE]=N;aB[YWACode.AD_RESPONSE_CODE]=B;aB[YWACode.AD_REDIRECT]=y;aB[YWACode.REDIRECT_HOP]=E;aB[aA.metric]=aA.diffLoadTime;aB.fb=at;aB.adc=h;aB[YWACode.AD_CALL_SEQUENCE]=ah;if(f===true){aB.timeout=1;}else{aB.timeout=2;}if(ai!==null){aB[YWACode.VPAID_OVERALL]=ai;}return aB;};var ae=function(){N="";B="";c="";z="";al="";y="";E="";ah="";I="";aj="";k="";o="";ag="";i="";n="";J="";ay="";aq=null;ai=null;};var ao=function(aA){if(aA.mActionParams.id=="bumper"){return"BMPR";}else{if(aA.mActionParams.id=="overlay"||aA.mActionParams.id.indexOf("overlayC2V")>-1||aA.mActionParams.id.indexOf("overlayC2S")>-1){return"VIDO";}else{if(aA.mActionParams.id.indexOf("clickable")>-1||aA.mActionParams.id.indexOf("interactive")>-1||aA.mActionParams.id.indexOf("asq")>-1||aA.mActionParams.id.indexOf("interavtive-4s")>-1){return"VID";}}}return null;};var an=function(aC){var aB=aC.getType();var aA=aC.getSubType();if(aB&&aB.length>0){return aB;}else{if(aA&&aA.length>0){return aA;}else{if(aC.mActionParams.id=="overlay"||aC.mActionParams.id.indexOf("overlayC2V")>-1||aC.mActionParams.id.indexOf("overlayC2S")>-1){return"overlay";}else{return"midroll";}}}};this.handleError=function(aC,aB){var aA=ErrorCode[aC],aF,aG,aE,aD;if(aA){monitoringBeaconDict={};monitoringBeaconDict[aA]="";D(null,null,monitoringBeaconDict);}if(!O){O={};}if(aC==MonitoringBeaconEvent.EVENT_ERR_REQ_GENERIC){O.code=YWACode.RESPONSE_CODE.ERR_REQ_GENERIC;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC===MonitoringBeaconEvent.EVENT_ERR_REQ_ADTGT){O.code=YWACode.RESPONSE_CODE.ERR_REQ_ADTGT;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC===MonitoringBeaconEvent.EVENT_ERR_RESP_GENERIC){O.code=YWACode.RESPONSE_CODE.ERR_RESP_GENERIC;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC===MonitoringBeaconEvent.EVENT_ERR_SSL_UNSUPPORTED){O.code=YWACode.RESPONSE_CODE.ERR_SSL_UNSUPPORTED;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC==MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT){O.code=YWACode.RESPONSE_CODE.AD_CALL_TIMEOUT;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC===MonitoringBeaconEvent.EVENT_ERR_VMAP_PARSING){O.code=YWACode.RESPONSE_CODE.VMAP_PARSE_ERROR;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC===MonitoringBeaconEvent.EVENT_ERR_RESP_EMPTY){O.code=YWACode.RESPONSE_CODE.ERR_RESP_EMPTY;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC===MonitoringBeaconEvent.EVENT_ERR_RESP_PARSING){O.code=YWACode.RESPONSE_CODE.ERR_RESP_PARSING;O.type=YWACode.RESPONSE_TYPE.ERROR;}else{if(aC===MonitoringBeaconEvent.EVENT_AD_START_ERROR){v=YWACode.AD_START_ERROR_CODES[aB.data];aE=A();aD=S();D(null,aD,aE);}else{if(aC===MonitoringBeaconEvent.EVENT_AD_DELIVERY_ERROR){m=YWACode.AD_DELIVERY_ERROR_CODES[aB.data];aE=C();aD=x();D(null,aD,aE);}}}}}}}}}}if(aB){aF=aB;aG=aF.getRedirect();O.redirect=aG.targetTag;O.redirectCount=aG.count;}O.fallback=YWACode.FALLBACK.FALSE;O.cacheHit=av.CACHE_STATUS_NOT_CACHED;N=O.type;B=O.code;y=O.redirect;E=O.redirectCount;h=O.cacheHit;YWA_AD_LOCAL_STORAGE=O.localStorage;at=O.fallback;this.updateCurrentClipAds();};this.handleAction=function(aK){var aE=aK.getAction(),aF,aJ,aA,aN,aC,aM,aD,aL,aG,aB,aI,aH;aJ=aK.getBeaconData();if(aE==MonitoringBeaconEvent.EVENT_PLUGIN_INIT){w=aJ.account_id;l=aJ.version;}else{if(aE==MonitoringBeaconEvent.EVENT_ADCALL){r.isLoadingTime=true;p={};p.isLoadingTime=false;af(p);ae();aD=aJ;al=an(aD);z=ao(aD);c=aJ.communicatorName;ah=(aJ.retryCount+1);ay="";}else{if(aE==MonitoringBeaconEvent.EVENT_ADCALLEND){if(p&&p.isLoadingTime){p.metric="adl";p.profilerMetric=a.YVAP_ADCALL_LOAD_LATENCY;p.msg="Time taken to load ad from AD Network";L(p,true);I=p.diffLoadTime;N=O.type;B=O.code;y=O.redirect;E=O.redirectCount;h=O.cacheHit;YWA_AD_LOCAL_STORAGE=O.localStorage;at=O.fallback;c=aJ;T=(f===true)?YWACode.TRUE:YWACode.FALSE;J=O.creativeId||"";n=O.bookingId||"";aN=X();aA=Q(p);D(null,aN,aA);if(s){s=false;this.updateCurrentClipAds();}}O=null;}else{if(aE==MonitoringBeaconEvent.EVENT_ADOPPORTUNITY){r={};r.isLoadingTime=false;af(r);ar=aJ.taken?a.YVAP_AD_OPPORTUNITY_TAKEN:a.YVAP_AD_OPPORTUNITY_NOT_TAKEN;g=aJ.type;ad=aJ.rulesetId;t=aJ.playContext;am=aJ.oppPosition;M=aJ.networkName;aN=Z();aA=ak();D(null,aN,aA);}else{if(aE==MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT){ar=a.YVAP_AD_OPPORTUNITY_NOT_TAKEN;g=aJ.type;ad=0;t="";am="bae";M="";aN=Z();aA=ak();D(null,aN,aA);}else{if(aE==MonitoringBeaconEvent.EVENT_CLIPCHANGE){f=false;}else{if(aE==MonitoringBeaconEvent.EVENT_ADSTART){r.metric="asl";
r.profilerMetric=a.YVAP_ADSTART_LATENCY;r.msg="Time taken to start an Ad after beginAdExperience";aC=r.isLoadingTime;L(r,true);if(f){F.metric="tta";F.msg="Time taken for Ad start after timeout.";F.profilerMetric=a.YVAP_TIMEOUT_TO_ADSTART_LATENCY;L(F,false);}if(aC){aj=r.diffLoadTime;az=(f===true)?YWACode.TRUE:YWACode.FALSE;aN=e();aA=j(r);D(null,aN,aA);au={};au.isLoadingTime=false;af(au);if(U&&!U.isLoadingTime){U.metric="avl";U.diffLoadTime=r.endLoadingTime-U.startLoadingTime;ag=U.diffLoadTime;ai=I+ag;aF=V(U);D(null,null,aF);U=null;}}this.updateCurrentClipAds();}else{if(aE==MonitoringBeaconEvent.EVENT_ADDELIVERED){if(au){au.metric="aml";aB=au.isLoadingTime;L(au,true);if(aB){k=au.diffLoadTime;if(N===YWACode.RESPONSE_TYPE.VAST){aq=I+k;}if(aJ){aH=aJ.mediaUrl;if(typeof aH===ap.TYPE_OF_STRING){ay=aH.toLowerCase().indexOf("atlas")!==-1?"A":"M";}}aN=aa();aA=P(au);D(null,aN,aA);}}au=null;}else{if(aE==MonitoringBeaconEvent.EVENT_VALID_AD){if(!O){O={};}if(!aJ||!aJ.ad){return;}aM=aJ.ad;O.code=YWACode.RESPONSE_CODE.AD;O.type=YWACode.RESPONSE_TYPE.VAST;O.redirect=aM.getFirstRedirectUrl();O.redirectCount=aM.getRedirectCount();if(!aM.isVast()){O.type=YWACode.RESPONSE_TYPE.NON_VAST;}if(aM.getType()==av.TYPE.VPAID){O.type=YWACode.RESPONSE_TYPE.VPAID;}aG=aM.isFallback();O.fallback=(aG===true)?YWACode.FALLBACK.TRUE:YWACode.FALLBACK.FALSE;aL=aM.isCached();O.localStorage=aM.getLocalStorage()?YWACode.TRUE:YWACode.FALSE;O.cacheHit=aM.getCacheStatus();O.creativeId=aM.getCreativeId();O.bookingId=aM.getBookingId();}else{if(aE==MonitoringBeaconEvent.EVENT_NOAD){if(!O){O={};}if(!aJ||!aJ.adSpec){return;}aM=aJ.ad;O.code=YWACode.RESPONSE_CODE.NO_AD;O.type=YWACode.RESPONSE_TYPE.VAST;if(!aM.isVast()){O.type=YWACode.RESPONSE_TYPE.NON_VAST;}if(aM.getType()==av.TYPE.VPAID){O.type=YWACode.RESPONSE_TYPE.VPAID;}if(!aJ.ad){return;}aM=aJ.ad;O.redirect=aM.getFirstRedirectUrl();O.redirectCount=aM.getRedirectCount();aG=aM.isFallback();O.fallback=(aG===true)?YWACode.FALLBACK.TRUE:YWACode.FALLBACK.FALSE;aL=aM.isCached();O.cacheHit=aM.getCacheStatus();O.localStorage=aM.getLocalStorage()?YWACode.TRUE:YWACode.FALSE;O.creativeId=aM.getCreativeId();O.bookingId=aM.getBookingId();s=true;}else{if(aE==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_START){aw={};aw.isLoadingTime=false;af(aw);}else{if(aE==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_ESTABLISHED){if(aw&&aw.isLoadingTime){aw.metric=YWACode.VPAID_SWF_LOAD_CONNECTION_LATENCY;L(aw,true);i=aw.diffLoadTime;QosVPaidSwfLoadConnectionData=V(aw);D(null,null,QosVPaidSwfLoadConnectionData);}}else{if(aE==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_START){U={};U.isLoadingTime=false;af(U);}else{if(aE===MonitoringBeaconEvent.EVENT_VPAID_SWF_PREINITED){d=YWACode.TRUE;}else{if(aE==MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_END){if(U&&U.isLoadingTime){U.metric="vsl";U.profilerMetric=a.YVAP_VPAIDSWF_LOAD_LATENCY;U.msg="Time taken to load vpaid swf from network";L(U,true);o=U.diffLoadTime;aF=V(U);D(null,null,aF);}}else{if(aE===MonitoringBeaconEvent.EVENT_PLAYER_TIMEOUT){f=true;F={};F.isLoadingTime=false;af(F);}else{this.handleError(aE,aJ);}}}}}}}}}}}}}}}}};this.updateCurrentClipAds=function(){ab.push(this.getMonitoringData());};this.resetCurrentClipAdInfo=function(){ab=[];};this.getMonitoringDataArr=function(){return ab;};this.getMonitoringData=function(){var aA={};aA[YWACode.ADPLUGIN_VERSION]=l;aA[YWACode.YVAP_ACCOUNT_ID]=w;aA[YWACode.AD_RESPONSE_TYPE]=N;aA[YWACode.AD_RESPONSE_CODE]=B;aA[YWACode.AD_NETWORK_NAME]=c;aA[YWACode.AD_POSITION]=z;aA[YWACode.AD_TEMPORAL_PLACEMENT]=al;aA[YWACode.AD_CALL_SEQUENCE]=ah;aA[YWACode.AD_CALL_LATENCY]=I;aA[YWACode.AD_START_LATENCY]=aj;aA[YWACode.AD_MEDIA_START_LATENCY]=k;aA[YWACode.AD_REDIRECT]=y;aA[YWACode.REDIRECT_HOP]=E;aA[YWACode.AD_OPP_TAKEN]=ar;aA[YWACode.AD_NETWORK_NAME]=M;aA[YWACode.AD_OPP_TYPE]=g;aA[YWACode.AD_OPP_RULEID]=ad;aA[YWACode.AD_POSITION]=am;aA[YWACode.AD_OPP_PLAYCN]=t;aA[YWACode.AD_CACHE_HIT]=h;aA[YWACode.AD_FALLBACK]=at;aA[YWACode.AD_BOOKING_ID]=n;aA[YWACode.AD_CREATIVE_ID]=J;aA[YWACode.AD_MEDIASTORE]=ay;aA[YWACode.VPAID_SWF_LOAD_LATENCY]=o;aA[YWACode.VPAID_TOTAL_LATENCY]=ag;aA[YWACode.VPAID_SWF_LOAD_CONNECTION_LATENCY]=i;aA[YWACode.YVAP_TIMEOUT_AT_ADCALL]=T;aA[YWACode.YVAP_TIMEOUT_AT_ADSTART]=az;aA[YWACode.AD_START_ERROR]=v;aA[YWACode.VAST_OVERALL]=aq;aA[YWACode.VPAID_OVERALL]=ai;return aA;};};a.BUCKET_PATH="/3/qos";a.MANHATTAN_BASE_URL="http://qos.video.yimg.com";a.YVAP_PATH="/yvap";a.YWA_BASE_URL="http://z.analytics.yahoo.com/p.pl";a.YWA_PROJECT_ID="1000115488662";a.YAMAS="YVAP_YAMAS";a.YWA="YVAP_YWA";a.YVAP_ADCALL_LOAD_LATENCY="YVAP_ADCALL_LOAD_LATENCY";a.YVAP_QUERY_LOAD_LATENCY="YVAP_QUERY_LOAD_LATENCY";a.YVAP_QUERY_PROCESS_LATENCY="YVAP_QUERY_PROCESS_LATENCY";a.YVAP_COMM_LOAD_LATENCY="YVAP_COMM_LOAD_LATENCY";a.YVAP_ADSTART_LATENCY="YVAP_ADSTART_LATENCY";a.YVAP_PLUGIN_READY_LATENCY="YVAP_PLUGIN_READY_LATENCY";a.YVAP_VPAIDSWF_LOAD_LATENCY="YVAP_VPAIDSWF_LOAD_LATENCY";a.YVAP_TIMEOUT_TO_ADSTART_LATENCY="YVAP_TIMEOUT_TO_ADSTART_LATENCY";a.YVAP_AD_OPPORTUNITY_TAKEN=1;a.YVAP_AD_OPPORTUNITY_NOT_TAKEN=2;b.augment(a,b.EventTarget);b.com.yahoo.ads.plugin.MonitorBeaconer=a;},"1.0.0",{requires:["node","io-base","ErrorCode","YWACode","MonitoringBeaconEvent","ScopeLogger","Constants"]});YUI.add("MonitoringBeaconEvent",function(a){a.namespace("com.yahoo.ads.plugin");MonitoringBeaconEvent=function(e,d){var c=d;var b=e;this.setBeaconData=function(f){c=f;};this.getBeaconData=function(){return c;};this.setAction=function(f){b=f;};this.getAction=function(){return b;};this.getName=function(){return MonitoringBeaconEvent.EVENT_NAME;};};MonitoringBeaconEvent.EVENT_NAME="MonitoringBeaconEvent";MonitoringBeaconEvent.EVENT_PLUGIN_INIT="PluginInit";MonitoringBeaconEvent.EVENT_PLUGINLOAD_START="PluginLoadStart";MonitoringBeaconEvent.EVENT_PLUGINLOAD_END="PluginLoadEnd";MonitoringBeaconEvent.EVENT_COMMLOAD_START="CommunicatorLoadStart";MonitoringBeaconEvent.EVENT_COMMLOAD_END="CommunicatorLoadEnd";MonitoringBeaconEvent.EVENT_ADCALLLOAD_START="AdCallLoadStart";
MonitoringBeaconEvent.EVENT_ADCALLLOAD_END="AdCallLoadEnd";MonitoringBeaconEvent.EVENT_QUERYLOAD_START="QueryLoadStart";MonitoringBeaconEvent.EVENT_QUERYLOAD_END="QueryLoadEnd";MonitoringBeaconEvent.EVENT_QUERYPROCESS_START="QueryProcessStart";MonitoringBeaconEvent.EVENT_QUERYPROCESS_END="QueryProcessEnd";MonitoringBeaconEvent.EVENT_CONTENTCOMPLETE="ContentComplete";MonitoringBeaconEvent.EVENT_PODSTART="PodStart";MonitoringBeaconEvent.EVENT_CLIPCHANGE="ClipChange";MonitoringBeaconEvent.EVENT_ADSTART="AdStart";MonitoringBeaconEvent.EVENT_VALID_AD="ValidAd";MonitoringBeaconEvent.EVENT_NOAD="NoAd";MonitoringBeaconEvent.EVENT_NULLAD="NullAd";MonitoringBeaconEvent.EVENT_ADCALL="AdCall";MonitoringBeaconEvent.EVENT_ADCALLEND="AdCallEnd";MonitoringBeaconEvent.EVENT_ADOPPORTUNITY="AdOpportunity";MonitoringBeaconEvent.EVENT_ADDELIVERED="AdDelivered";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_START="VPaidSwfLoadStart";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_END="VPaidSwfLoadEnd";MonitoringBeaconEvent.EVENT_VPAID_SWF_PREINITED="VPaidPreInited";MonitoringBeaconEvent.EVENT_PLAYER_TIMEOUT="PlayerTimeOut";MonitoringBeaconEvent.EVENT_ADOPPORTUNITY_INIT="AdOpportunityInit";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_START="VPaidSwfLoadConnectionStart";MonitoringBeaconEvent.EVENT_VPAID_SWFLOAD_CONNECTION_ESTABLISHED="VPaidSwfLoadConnectionEstablished";MonitoringBeaconEvent.EVENT_ERR_PlUGIN_INIT="PluginInitError";MonitoringBeaconEvent.EVENT_ERR_COMM_LOAD="CommunicatorLoadError";MonitoringBeaconEvent.EVENT_ERR_COMM_INT="CommunicatorInternalError";MonitoringBeaconEvent.EVENT_ERR_COMM_TIMEOUT="CommunicatorTimeoutError";MonitoringBeaconEvent.EVENT_ERR_VMAP_PARSING="VmapParsing";MonitoringBeaconEvent.EVENT_ERR_PARSING="ParsingError";MonitoringBeaconEvent.EVENT_ERR_QUERY_LOAD="QueryLoadError";MonitoringBeaconEvent.EVENT_ERR_QUERY_INT="QueryInternalError";MonitoringBeaconEvent.EVENT_ERR_QUERY_TIMEOUT="QueryTimeoutError";MonitoringBeaconEvent.EVENT_ERR_AD_INT="AdInternalError";MonitoringBeaconEvent.EVENT_ERR_AD_TIMEOUT="AdTimeoutError";MonitoringBeaconEvent.EVENT_ERR_AD_LOAD="AdLoadError";MonitoringBeaconEvent.EVENT_ERR_ADCALL="AdCallError";MonitoringBeaconEvent.EVENT_ERR_SSL_NOT_SUPPORTED="SSLNotSupported";MonitoringBeaconEvent.EVENT_PROFILER="AdPluginProfiler";MonitoringBeaconEvent.EVENT_METRIC="AdPluginMetric";MonitoringBeaconEvent.EVENT_AD_DELIVERY_ERROR="AdDeliveryError";MonitoringBeaconEvent.EVENT_AD_START_ERROR="AdStartError";MonitoringBeaconEvent.EVENT_ERR_REQ_GENERIC="EVENT_ERR_REQ_GENERIC";MonitoringBeaconEvent.EVENT_ERR_REQ_ADTGT="EVENT_ERR_REQ_ADTGT";MonitoringBeaconEvent.EVENT_ERR_RESP_GENERIC="EVENT_ERR_RESP_GENERIC";MonitoringBeaconEvent.EVENT_ERR_RESP_EMPTY="EVENT_ERR_RESP_EMPTY";MonitoringBeaconEvent.EVENT_ERR_RESP_PARSING="EVENT_ERR_RESP_PARSING";MonitoringBeaconEvent.EVENT_ERR_SSL_UNSUPPORTED="EVENT_ERR_SSL_UNSUPPORTED";a.com.yahoo.ads.plugin.MonitoringBeaconEvent=MonitoringBeaconEvent;},"1.0.0",{requires:["node"]});YUI.add("SessionTimer",function(a){a.namespace("com.yahoo.ads.plugin");SessionTimer=function(b,m){var e=0;var f=1;var g=10;var i=1000;var k=b;var j=0;var c=0;var l="";var d="";var h=[];if(m){d=getTimer();l=setInterval(intervalCallback,g);c=e;}else{c=f;}this._getId=function(){return k;};this._getElapsed=function(){return j;};this._getState=function(){return c;};this._getIntervalId=function(){return l;};this._getLastTimerPos=function(){return d;};this._getQuepoints=function(){return h;};this._setId=function(n){k=n;};this._setElapsed=function(n){j=n;};this._setState=function(n){c=n;};this._setIntervalId=function(){h=val;};this._setLastTimerPos=function(n){d=n;};this._setQuepoints=function(){h=val;};};SessionTimer.prototype.addQuepoint=function(c){var d=this._getQuepoints()[c.time];if(!d){d=[];this._getQuepoints()[c.time]=d;}d.push(c);for(var b in this._getQuepoints()){}};SessionTimer.prototype.getId=function(){return this._getId();};SessionTimer.prototype.pause=function(){if(this._getState()===STATE_RUNNING){clearInterval(this._getIntervalId());var b=getTimer();this._setElapsed(this._getElapsed+(b-mLastTimerPos)/1000);this._setLastTimerPos(0);this._setState(STATE_PAUSED);this.notifyPAUSED();}};SessionTimer.prototype.resume=function(){if(this._getState()===STATE_PAUSED){this._setState(STATE_RUNNING);this._setLastTimerPos(getTimer());this._setIntervalId(setInterval(this.intervalCallback,UPDATE_INTERVAL));this.notifyRESUMED();}};SessionTimer.prototype.getElapsed=function(){return Math.floor(this._getElapsed()*(1000/REFRESH_RESOLUTION))/(1000/REFRESH_RESOLUTION);};SessionTimer.prototype.reset=function(){this._setElapsed(0);this.notifyADVANCED();};SessionTimer.prototype.intervalCallback=function(){var e=getTimer();if(this._getLastTimerPos!==0){this._setElapsed(this._getElapsed()+(e-mLastTimerPos)/1000);}var f=false;if(Math.floor(e/REFRESH_RESOLUTION)-Math.floor(this._getLastTimerPos()/REFRESH_RESOLUTION)>0){f=true;}this._setLastTimerPos(e);if(f){this.notifyADVANCED();}var d=this._getQuepoints()[Math.floor(this._getElapsed())];if(d){for(var c in d){var b=d[c];if(!b.fired||b.fired===false){b.fired=true;this.notifyCUEPOINT();}}}};SessionTimer.prototype.getTotalTime=function(){return null;};SessionTimer.prototype.notifyCOMPLETE=function(){this.fire("complete");};SessionTimer.prototype.notifyPAUSED=function(){this.fire("paused");};SessionTimer.prototype.notifyRESUMED=function(){this.fire("resumed");};SessionTimer.prototype.notifyADVANCED=function(){this.fire("advanced");};SessionTimer.prototype.notifyCUEPOINT=function(){this.fire("cuepoint");};a.augment(SessionTimer,a.EventTarget);a.com.yahoo.ads.plugin.SessionTimer=SessionTimer;},"1.0.0",{requires:["node","SessionTimer","ScopeLogger","event-custom"]});YUI.add("StreamAdManager",function(b){b.namespace("com.yahoo.ads");var a=function(d,c){this._bitrateSend=false;this.rules={};this._plugin=d;this.config=c;this.expandBeacon=function(e,h){var j,f=/\{(\w)+\}/g,g=h.getParams();var i=function(m){var o=/(\w)+/g,k=m.match(o),n=k[0],p="";if(n.toLowerCase()==="beap_client_event"){for(var l in g){p+=l+"$"+g[l]+",";
}p=p.substring(0,p.length-1);return p;}else{if(n.toLowerCase()==="1x1pixel"){return PIXEL_URL;}else{if(typeof g[n]!=="undefined"&&g[n]!==null){return g[n];}else{isBeaconExpansionOk=false;return m;}}}};j=e.replace(f,i);return j;};this.sendBeacon=function(e){if(e){var f=document.createElement("img");f.src=e;f.style.display="none";}};};a.prototype.setSink=function(d){var c=this;this._sink=d;this._sink.on(_CONSTANTS.VolumeChangedEvent,function(){c.redispatch(_CONSTANTS.VolumeChangedEvent,arguments);});this._sink.on(_CONSTANTS.ClientInfoChangedEvent,this.redispatch);this._sink.on(_CONSTANTS.ControlTweenEvent,this.redispatch);this._sink.on(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.redispatch);};a.prototype.getSink=function(c){return this._sink;};a.prototype.redispatch=function(c){this.fire(c,arguments);};a.prototype.notifyAdRendered=function(){this._sink.notifyAdRendered();};a.prototype.notifyVideoAdStart=function(c){this._sink.notifyVideoAdStart(c);};a.prototype.notifyVideoAdEnd=function(){this._sink.notifyVideoAdEnd();};a.prototype.notifyOverlayStart=function(){this._sink.notifyOverlayStart();};a.prototype.notifyOverlayEnd=function(){this._sink.notifyOverlayEnd();};a.prototype.notifyPluginReady=function(){this._sink.notifyPluginReady();};a.prototype.notifyMetricsEvent=function(c){this._sink.notifyMetricsEvent(c);};a.prototype.notifyAdMetricsEvent=function(d){var m,k,e,f,g,c=d.getEventId(),j=d.getEventData(),l=(c.toLowerCase()==="impression")?j:c;if(l==="bitrate"&&this._bitrateSend){return;}m=d.getAd();if(typeof m.beacons!=="undefined"&&m.beacons!==null){k=m.beacons[l];if(typeof k!=="undefined"&&k!==null){e="";for(var h=0;h<k.length;h++){f=k[h];g=f.url;e=this.expandBeacon(g,d);this.sendBeacon(e);}}}if(l==="bitrate"){this._bitrateSend=true;}};a.prototype.notifyUnlockPlaylist=function(c){this._sink.notifyUnlockPlaylist(c);};a.prototype.notifyAdProgress=function(c){this._sink.notifyAdProgress(c);};a.prototype.notifyAdPlayback=function(c){this._sink.notifyAdPlayback(c);};a.prototype.notifyAdMediaFirstByte=function(c){this._sink.notifyAdMediaFirstByte(c);};a.prototype.notifyAdReady=function(c){this._sink.notifyAdReady(c);};a.prototype.notifyNoAd=function(c){this._sink.notifyNoAd(c);};a.prototype.notifyNullAd=function(c){this._sink.notifyNullAd(c);};a.prototype.beginAd=function(){var e=this.config.streamAd.xml,d=new b.com.yahoo.ads.communicator.Ad(),f=new b.com.yahoo.ads.communicator.parser.ParserManager(),c=f.parseAd(e,d)[0];this._plugin.notifyAdReady(c);};b.augment(a,b.EventTarget);b.com.yahoo.ads.StreamAdManager=a;},"1.0.0",{});YUI.add("Timer",function(a){a.namespace("com.yahoo.ads.plugin");Timer=function(c,b){this._timer=null;this._count=0;this._tickQueue=[];this._completeQueue=[];this._running=false;this._repeatCount=b;this._delay=c;};Timer.prototype.getTimeout=function(){var b=1;if(this._count>1){b=this._count;}return this._delay*b;};Timer.prototype.processQueue=function(c){if(c&&c.length>0){for(var e=0;e<c.length;e++){var g=c[e];var b=g.context;var f=g.method;if(!f){return;}var d=g.args;if(d&&d.length>0){f.apply(b,d);}else{if(b){f.apply(b);}else{f.call();}}}}};Timer.prototype.processTickQueue=function(){this._count++;if(this._count>=this._repeatCount){this.processCompleteQueue();}else{this.processQueue(this._tickQueue);}};Timer.prototype.processCompleteQueue=function(){if(this._timer){this._timer.cancel();}this._running=false;this.processQueue(this._completeQueue);};Timer.prototype.running=function(){return this._running;};Timer.prototype.reset=function(){this._timer.cancel();this._count=0;};Timer.prototype.start=function(){this._running=true;var b=false;if(this._repeatCount>0){b=true;}this._timer=a.later(this._delay,this,this.processTickQueue,null,b);};Timer.prototype.stop=function(){this.processCompleteQueue();};Timer.prototype.addFunctionOnTick=function(b,d,c){this._tickQueue.push({context:b,method:d,args:c});};Timer.prototype.addFunctionOnComplete=function(b,d,c){this._completeQueue.push({context:b,method:d,args:c});};a.com.yahoo.ads.plugin.Timer=Timer;},"1.0.0",{requires:["node"]});YUI.add("YEPVideoTimeline",function(a){a.namespace("com.yahoo.ads.plugin");YEPVideoTimeline=function(){YEPVideoTimeline.superclass.constructor.call(this,"videoTimeline",false);var d=0;var b=0;var c=-1;this.setTotalDuration=function(e){d=e;};this.setPlayheadPosition=function(f){b=f;var e=Math.floor(b);if(Math.abs(e-c)>0){c=e;this.notifyADVANCED();}};this.getElapsed=function(){return c;};this.getTotalDuration=function(){return d;};this.pause=function(){this.notifyPAUSED();};this.resume=function(){this.notifyRESUMED();};};a.augment(YEPVideoTimeline,a.EventTarget);a.extend(YEPVideoTimeline,a.com.yahoo.ads.plugin.SessionTimer);a.com.yahoo.ads.plugin.YEPVideoTimeline=YEPVideoTimeline;},"1.0.0",{requires:["node","SessionTimer","ScopeLogger","event-custom"]});YUI.add("YWACode",function(a){a.namespace("com.yahoo.ads.plugin");YWACode=function(){};YWACode.EVENT="vx";YWACode.ADPLUGIN_VERSION="cf02";YWACode.YVAP_ACCOUNT_ID="cf03";YWACode.AD_RESPONSE_CODE="cf47";YWACode.AD_RESPONSE_TYPE="cf48";YWACode.AD_NETWORK_NAME="cf60";YWACode.AD_POSITION="cf65";YWACode.AD_REDIRECT="cf66";YWACode.YVAP_TIMEOUT_AT_ADCALL="cf67";YWACode.AD_TEMPORAL_PLACEMENT="cf68";YWACode.YVAP_TIMEOUT_AT_ADSTART="cf69";YWACode.REDIRECT_HOP="cf70";YWACode.AD_OPP_TYPE="cf80";YWACode.AD_OPP_RULEID="cf81";YWACode.AD_OPP_TAKEN="cf82";YWACode.AD_OPP_PLAYCN="cf61";YWACode.AD_CALL_SEQUENCE="cf84";YWACode.AD_MEDIA_START_LATENCY="cf56";YWACode.AD_CACHE_HIT="cf250";YWACode.AD_START_ERROR_YWA="cf92";YWACode.AD_DELIVERY_ERROR_YWA="cf93";YWACode.VPAID_PREINIT_YWA="cf95";YWACode.AD_CREATIVE_ID="cf89";YWACode.AD_BOOKING_ID="cf90";YWACode.AD_LOCAL_STORAGE="cf96";YWACode.AD_CALL="7";YWACode.PLUGIN_INIT="8";YWACode.AD_MEDIA_START="11";YWACode.AD_START="12";YWACode.AD_OPPORTUNITY="16";YWACode.AD_START_ERROR="17";YWACode.AD_DELIVERY_ERROR="18";YWACode.AD_MEDIASTORE="ms";YWACode.AD_FALLBACK="fb";YWACode.AD_CALL_LATENCY="adl";YWACode.AD_START_LATENCY="asl";YWACode.VPAID_SWF_LOAD_CONNECTION_LATENCY="vsc";
YWACode.VPAID_SWF_LOAD_LATENCY="vsl";YWACode.VPAID_TOTAL_LATENCY="avl";YWACode.AD_MEDIA_LATENCY="aml";YWACode.VPAID_OVERALL="vpo";YWACode.VAST_OVERALL="vso";YWACode.AD_START_ERROR_QOS="asec";YWACode.AD_DELIVERY_ERROR_QOS="adec";YWACode.AD_START_ERROR_CODES={FLASH_SECURITY_ERROR:109,FLASH_IO_ERROR:110,FLASH_ASYNC_ERROR:111,FLASH_GENERIC_ERROR:112,FLASH_VPAID_ERROR:113,INCOMPATIBLE_MEDIA:120};YWACode.AD_DELIVERY_ERROR_CODES={FLASH_MEDIA_PLAYBACK_ERROR:114,FLASH_SECURITY_ERROR:115,FLASH_IO_ERROR:116,FLASH_ASYNC_ERROR:117};YWACode.RESPONSE_CODE={"NO_AD":1,"AD":2,"AD_CALL_TIMEOUT":102,"ERR_REQ_GENERIC":104,"ERR_SSL_UNSUPPORTED":121,"ADPLUGIN_TIMEOUT":105,"VMAP_PARSE_ERROR":107,"ERR_RESP_PARSING":108,"ERR_REQ_ADTGT":122,"ERR_RESP_GENERIC":123,"ERR_RESP_EMPTY":124};YWACode.RESPONSE_TYPE={NON_VAST:1,VAST:2,NO_AD:3,VPAID:4,ERROR:106};YWACode.FALLBACK={TRUE:1,FALSE:2};YWACode.CACHEHIT={TRUE:1,FALSE:2};YWACode.TRUE=1;YWACode.FALSE=2;a.com.yahoo.ads.plugin.YWACode=YWACode;},"1.0.0",{requires:["node"]});YUI.add("AdRenderer",function(a){a.namespace("com.yahoo.ads.renderer");AdRenderer=function(){var g=null;this._container=null;var j=null;var o=null;var l=null;var p=0;var f=false;var d=false;var h=null;var k=null;var i=null;var n=null;AdEvent=a.com.yahoo.ads.event.AdEvents;BeaconEventData=a.com.yahoo.ads.event.BeaconEventData;_CONSTANTS=a.com.yahoo.ads.common.Constants;var c=null;var e=null;var m=this;this.configureEventBusListeners=function(){l.on(_CONSTANTS.ClientInfoChangedEvent,this.onClientInfoChanged,this);l.on(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.onContentVideoComplete,this);l.on(_CONSTANTS.ControlTweenEvent,this.onClientInfoChanged,this);l.on(_CONSTANTS.VolumeChangedEvent,this.setCreativeVolume,this);};this.removeEventBusListeners=function(){l.detach(_CONSTANTS.ClientInfoChangedEvent,this.onClientInfoChanged);l.detach(_CONSTANTS.EVENT_CONTENT_COMPLETE,this.onContentVideoComplete);l.detach(_CONSTANTS.ControlTweenEvent,this.onClientInfoChanged);l.detach(_CONSTANTS.VolumeChangedEvent,this.setCreativeVolume);};this.configureTemplateListeners=function(q){q.on(AdEvent.AdStarted,this.onAdStarted,this);q.on(AdEvent.AdStopped,this.onAdStopped,this);q.on(AdEvent.AdProgress,this.onAdProgress,this);q.on(AdEvent.AdPlayback,this.onAdPlayback,this);q.on(AdEvent.AdMediaFirstByte,this.onAdMediaFirstByte,this);q.on(AdEvent.AdLinearChange,this.onAdLinearChange,this);q.on(AdEvent.AdExpandedChange,this.onAdExpandedChange,this);q.on(AdEvent.AdRemainingTimeChange,this.onAdRemainingTimeChange,this);q.on(AdEvent.AdVolumeChange,this.onAdVolumeChange,this);q.on(AdEvent.AdMouseOver,this.notifyMetrics,this);q.on(AdEvent.AdClick,this.notifyMetrics,this);q.on(AdEvent.AdImpression,this.notifyMetrics,this);q.on(AdEvent.AdClickThru,this.notifyMetrics,this);q.on(AdEvent.AdVideoStart,this.notifyMetrics,this);q.on(AdEvent.AdVideoFirstQuartile,this.notifyMetrics,this);q.on(AdEvent.AdVideoMidpoint,this.notifyMetrics,this);q.on(AdEvent.AdVideoThirdQuartile,this.notifyMetrics,this);q.on(AdEvent.AdVideoComplete,this.notifyMetrics,this);q.on(BeaconEventData.BITRATE,this.notifyMetrics,this);q.on(BeaconEventData.CPCV,this.notifyMetrics,this);q.on(AdEvent.AdUserAcceptInvitation,this.onAdUserAcceptInvitation,this);q.on(AdEvent.AdUserMinimize,this.onAdUserMinimize,this);q.on(AdEvent.AdUserClose,this.onAdUserClose,this);q.on(AdEvent.AdPaused,this.onAdPaused,this);q.on(AdEvent.AdPlaying,this.onAdPlaying,this);q.on(AdEvent.AdError,this.onAdError,this);q.on(AdEvent.AdLog,this.onAdLog,this);};this.removeTemplateListeners=function(q){q.detach(AdEvent.AdStarted);q.detach(AdEvent.AdStopped);q.detach(AdEvent.AdProgress);q.detach(AdEvent.AdPlayback);q.detach(AdEvent.AdMediaFirstByte);q.detach(AdEvent.AdLinearChange);q.detach(AdEvent.AdExpandedChange);q.detach(AdEvent.AdRemainingTimeChange);q.detach(AdEvent.AdVolumeChange);q.detach(AdEvent.AdMouseOver);q.detach(AdEvent.AdClick);q.detach(AdEvent.AdImpression);q.detach(AdEvent.AdClickThru);q.detach(AdEvent.AdVideoStart);q.detach(AdEvent.AdVideoFirstQuartile);q.detach(AdEvent.AdVideoMidpoint);q.detach(AdEvent.AdVideoThirdQuartile);q.detach(AdEvent.AdVideoComplete);q.detach(BeaconEventData.BITRATE);q.detach(BeaconEventData.CPCV);q.detach(AdEvent.AdUserAcceptInvitation);q.detach(AdEvent.AdUserMinimize);q.detach(AdEvent.AdUserClose);q.detach(AdEvent.AdPaused);q.detach(AdEvent.AdPlaying);q.detach(AdEvent.AdError);q.detach(AdEvent.AdLog);};this.onAdStarted=function(q){this.fire(_CONSTANTS.EVENT_VIDEO_AD_START,{type:_CONSTANTS.EVENT_VIDEO_AD_START});};this.onAdPlayback=function(q){this.fire(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK,{type:_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK});};this.onAdMediaFirstByte=function(){this.fire(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE,{type:_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE});};this.onAdProgress=function(q){this.fire(_CONSTANTS.EVENT_AD_PROGRESS,{type:_CONSTANTS.EVENT_AD_PROGRESS,position:q.position,totalDuration:q.totalDuration});};this.onAdStopped=function(r){try{this.unloadOverlay();}catch(q){}};this.onAdError=function(r){try{this.unloadOverlay();}catch(q){}};this.onAdLinearChange=function(r){if(typeof i==="undefined"||i===null){return;}var q=i.adLinear;if(q){if(!f){var s={adslug:true,timer:true,scale:true,volume:false};l.notifyVideoAdStart(s);f=true;d=true;}}else{if(!q){if(f){l.notifyVideoAdEnd();f=false;}}}};this.onAdExpandedChange=function(q){if(typeof i!=="undefined"&&i!==null){}};this.updateRemainingTime=function(){_lastRemainingTime=i.adRemainingTime;if(_totalAdDuration<=0){_totalAdDuration=i.adRemainingTime;}if(isNaN(_totalAdDuration)){_totalAdDuration=-1;}if(this._adProgressTimer){this._adProgressTimer.stop();this._adProgressTimer=null;}this._adProgressTimer=new a.com.yahoo.ads.plugin.Timer(200);this._adProgressTimer.addFunctionOnTick(function(){var q=_totalAdDuration-i.adRemainingTime;if(_totalAdDuration>0||q>0){l.notifyAdProgress(q,_totalAdDuration);}});this._adProgressTimer.start();};this.onAdRemainingTimeChange=function(q){if(isNaN(_totalAdDuration)||_totalAdDuration<=0){_totalAdDuration=i.adRemainingTime;
_lastRemainingTime=-1;}if(i.adRemainingTime===0||(_lastRemainingTime!==-1&&(_lastRemainingTime<i.adRemainingTime))){_totalAdDuration=0;_lastRemainingTime=-1;if(i.adRemainingTime>0){_totalAdDuration=i.adRemainingTime;}}if(this._adProgressTimer){this._adProgressTimer.stop();this._adProgressTimer=null;}this._adProgressTimer=new a.com.yahoo.ads.plugin.Timer(200);};this.onAdVolumeChange=function(q){if(typeof i!=="undefined"&&i!==null){}};this.onAdUserAcceptInvitation=function(q){};this.onAdUserMinimize=function(q){};this.onAdUserClose=function(q){this.unloadOverlay();};this.onAdPaused=function(q){};this.onAdPlaying=function(q){};this.onAdLog=function(q){};this.notifyMetrics=function(v){var q="";var t="";var u=null;var s=0;var w=0;if(v.ad_duration){s=v.ad_duration;}w=g.getSkip_directive();if(v.type===AdEvent.AdImpression){q=BeaconEventData.IMPRESSION;t=BeaconEventData.IMPRESSION;u="";}else{if(v.type===AdEvent.AdVideoStart){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK0;u={"type":BeaconEventData.PLAYBACK,"value":0,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoFirstQuartile){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK25;u={"type":BeaconEventData.PLAYBACK,"value":25,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoMidpoint){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK50;u={"type":BeaconEventData.PLAYBACK,"value":50,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoThirdQuartile){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK75;u={"type":BeaconEventData.PLAYBACK,"value":75,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdVideoComplete){q=BeaconEventData.IMPRESSION;t=BeaconEventData.PLAYBACK100;u={"type":BeaconEventData.PLAYBACK,"value":100,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdClickThru){q=BeaconEventData.CLICKTHROUGH;t=BeaconEventData.CLICKTHROUGH;if(typeof v.click_url!=="undefined"&&v.click_url!==null){u={"CLICKURL":v.click_url};}else{u={"CLICKURL":"http://ads.yimg.com/a/a/vdo/a/pixel.gif"};}}else{if(v.type===BeaconEventData.BITRATE){q=BeaconEventData.BITRATE;t=BeaconEventData.BITRATE;u={"type":BeaconEventData.BITRATE,"value":v.chosenBitrate};m.fire(_CONSTANTS.EVENT_VIDEO_AD_DISPLAY);}else{if(v.type===BeaconEventData.CPCV){q=BeaconEventData.CPCV;t=BeaconEventData.CPCV;u={"type":BeaconEventData.CPCV,"value":v.value,"ad_duration_value":Math.floor(s),"skippable_value":w};}else{if(v.type===AdEvent.AdMouseOver){q=BeaconEventData.INTERACTION;t=BeaconEventData.MOUSE_OVER;u={"type":BeaconEventData.MOUSE_OVER,"time":v.diff,"seq":v.mouseOverCount};}else{if(v.type===AdEvent.AdClick){q=BeaconEventData.INTERACTION;t=BeaconEventData.CLICK;u={"type":BeaconEventData.CLICK,"time":v.diff,"seq":v.mouseClickCount};}else{if(v.type===AdEvent.AdMediaPlaybackError){q=_CONSTANTS.IMPRESSION;t=_CONSTANTS.REDIRECT_NOAD;u={"type":_CONSTANTS.REDIRECT_NOAD};}}}}}}}}}}}}if(typeof u!=="undefined"&&u!==null){var r=new a.com.yahoo.ads.event.AdMetricsEvent(q,t,g.getUrl(),u,g.getJson());m.fire(q,{type:q,data:r});}};this.notifyPlugin=function(r){this.dispatchEvent(r);switch(r.type){case"displayReady":l.notifyAdRendered();break;case"pauseContentVideo":if(!f){var s=null;if(r.hasOwnProperty("playerData")){s=r.playerData;}if(r.message=="noCover"){if(typeof s==="undefined"||s===null){s={};}s.enableBlackScreen=false;}l.notifyVideoAdStart(s);d=true;f=true;}break;case"playContentVideo":if(f){l.notifyVideoAdEnd();f=false;}break;case"holdContentVideo":l.notifyRichAdStart();break;case"initiateCloseCreative":var q=f;cancel();if(q){if(f){l.notifyVideoAdEnd();l.notifyVamEnd();f=false;}}else{l.notifyAdClosing();}break;case"unlockPlaylist":l.notifyUnlockPlaylist(new AdUnlockPlaylistEvent(r.message));break;}};var b=function(s,r){var t=g.getMediaFiles(s);var v=0;var u=Number.MAX_VALUE;if(t){var q=v;for(q in t){if(q>v&&q<=r){v=q;}if(q<u){u=q;}}if(v>0){return v;}else{if(t[u]){return u;}}}return null;};this.cancel=function(){if(n!==null&&typeof n!=="undefined"){n.cancelAd();this.removeTemplateListeners(n);n=null;}};this.render=function(B,u,t,y,A){j=u;o=t;g=B;n=new a.com.yahoo.ads.renderer.templates.Template(this._container);this.configureTemplateListeners(n);var w=null;for(var v=0;v<AdRenderer.HTML5_VIDEO_FORMATS.length;v++){format=AdRenderer.HTML5_VIDEO_FORMATS[v];if(this._container.canPlayType(format)!==AdRenderer.HTML5_PLAY_CAPABILITY.NO_SUPPORT){p=b(format,j.bitrate);break;}}w=g.getMediaUrl(format,p);if(w){var z=g.getUrl();var s=g.getParams();var q=null;var C=null;var x=null;if(z.indexOf(_CONSTANTS.CLICKABLE_TEMPLATE_SUFFIX)>-1){if(s){if(s.yct_click_url&&s.yct_click_url!==""){click_url=s.yct_click_url;}if(s.yct_product_message&&s.yct_product_message!==""){C=s.yct_product_message;}if(s.yct_invitation_message&&s.yct_invitation_message!==""){q=s.yct_invitation_message;}if(s.yct_product_message_type&&s.yct_product_message_type!==""){x=s.yct_product_message_type;}}}else{if(z.indexOf(_CONSTANTS.BUMPER_TEMPLATE_SUFFIX)>-1){if(s){if(s.ybt_click_url&&s.ybt_click_url!==""){click_url=s.ybt_click_url;}}}}var r={"click_url":click_url,"chosenBitrate":p,"adParams":s,"invitation_message":q,"product_message":C,"product_message_type":x};n.initAd(w,r);}else{this.notifyMetrics({type:AdEvent.AdMediaPlaybackError});this.fire(_CONSTANTS.AD_START_ERROR,{data:_CONSTANTS.AD_START_ERROR_CODES.INCOMPATIBLE_MEDIA});this.fire(_CONSTANTS.EVENT_AD_PLAYBACK_NONE);}};};a.augment(AdRenderer,a.EventTarget);AdRenderer.prototype.setContainer=function(b){this._container=b;};AdRenderer.prototype.getContainer=function(){return this._container;};AdRenderer.prototype.isRemovable=function(){return true;};AdRenderer.prototype.setEventBus=function(b){_eventBus=b;};AdRenderer.prototype.toString=function(){return"AdRenderer(ID: "+instanceId+")";};AdRenderer.prototype.unloadOverlay=function(){this.fire(_CONSTANTS.EVENT_VIDEO_AD_END);};AdRenderer.prototype.clear=function(b){if(typeof b!=="undefined"&&b!==null){b.innerHTML="";
}};AdRenderer.prototype.initUnloadCreative=function(){if(typeof _creative==="undefined"||_creative===null){return;}try{_creative.stopAd();}catch(b){}};AdRenderer.prototype.onContentVideoComplete=function(b){_videoComplete=true;if(_creative){_creative.stopAd();}};AdRenderer.prototype.setVolume=function(b){if(_eventCreative){_eventCreative.setAdVolume(b);}};AdRenderer.prototype.init=function(){};AdRenderer.HTML5_VIDEO_READY_STATE={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};AdRenderer.HTML5_PLAY_CAPABILITY={BEST:"probably",LIKELY:"maybe",NO_SUPPORT:""};AdRenderer.HTML5_VIDEO_FORMATS=["video/mp4","video/webm","video/ogg"];a.com.yahoo.ads.renderer.AdRenderer=AdRenderer;},"1.0.0",{requires:["node","event-custom-complex","AdEvents","ScopeLogger","AdPluginMetricsEvent","BeaconEventData","Template"]});YUI.add("NullRenderer",function(a){a.namespace("com.yahoo.ads.renderer");NullRenderer=function(){this._eventBus=null;_CONSTANTS=a.com.yahoo.ads.common.Constants;};NullRenderer.prototype.setEventBus=function(b){this._eventBus=b;};NullRenderer.prototype.render=function(b,d,c){this._eventBus.notifyNullAd();this.fire(_CONSTANTS.RenderCompleteEvent);};NullRenderer.prototype.cancel=function(){};a.augment(NullRenderer,a.EventTarget);a.com.yahoo.ads.renderer.NullRenderer=NullRenderer;},"1.0.0",{requires:["node","event-custom-complex","ScopeLogger"]});YUI.add("RenderManager",function(a){a.namespace("com.yahoo.ads.renderer");RenderManager=function(b){this._container=null;this._eventBus=b;this.renderer=null;this._ad=null;_CONSTANTS=a.com.yahoo.ads.common.Constants;BeaconEventData=a.com.yahoo.ads.event.BeaconEventData;};RenderManager.prototype.getRenderer=function(){return this._container;};RenderManager.prototype.setRenderer=function(b){this._container=b;};RenderManager.prototype.cancelAds=function(){if(this.renderer){this.renderer.cancel();this.removeListeners(this.renderer);}};RenderManager.prototype.configureListeners=function(b){b.on(_CONSTANTS.EVENT_AD_PLAYBACK_NONE,this.onAdPlaybackNone,this);b.on(_CONSTANTS.EVENT_VIDEO_AD_END,this.onVideoAdEnd,this);b.on(_CONSTANTS.EVENT_VIDEO_AD_START,this.onVideoAdStart,this);b.on(_CONSTANTS.EVENT_AD_PROGRESS,this.onVideoAdProgress,this);b.on(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK,this.onVideoAdPlayback,this);b.on(BeaconEventData.IMPRESSION,this.onAdMetrics,this);b.on(BeaconEventData.CLICKTHROUGH,this.onAdMetrics,this);b.on(BeaconEventData.BITRATE,this.onAdMetrics,this);b.on(BeaconEventData.CPCV,this.onAdMetrics,this);b.on(BeaconEventData.INTERACTION,this.onAdMetrics,this);b.on(_CONSTANTS.EVENT_VIDEO_AD_DISPLAY,this.onAdDisplay,this);b.on(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE,this.onAdMediaFirstByte,this);b.on(_CONSTANTS.AD_START_ERROR,this.onAdStartError,this);b.on(_CONSTANTS.AD_DELIVERY_ERROR,this.onAdDeliveryError,this);};RenderManager.prototype.removeListeners=function(b){b.detach(_CONSTANTS.EVENT_AD_PLAYBACK_NONE);b.detach(_CONSTANTS.EVENT_VIDEO_AD_END);b.detach(_CONSTANTS.EVENT_VIDEO_AD_START);b.detach(_CONSTANTS.EVENT_AD_PROGRESS);b.detach(_CONSTANTS.EVENT_AD_START_MEDIA_PLAYBACK);b.detach(BeaconEventData.IMPRESSION);b.detach(BeaconEventData.CLICKTHROUGH);b.detach(BeaconEventData.BITRATE);b.detach(BeaconEventData.CPCV,this.onAdMetrics,this);b.detach(BeaconEventData.INTERACTION);b.detach(_CONSTANTS.EVENT_VIDEO_AD_DISPLAY);b.detach(_CONSTANTS.EVENT_AD_MEDIA_FIRST_BYTE);b.detach(_CONSTANTS.AD_START_ERROR);b.detach(_CONSTANTS.AD_DELIVERY_ERROR);};RenderManager.prototype.renderAd=function(b,e,c,d){this._ad=b;if(b){this.renderer=new a.com.yahoo.ads.renderer.AdRenderer();this.renderer.setContainer(this._container);}else{this.renderer=new a.com.yahoo.ads.renderer.NullRenderer();}if(this.renderer){this.renderer.setEventBus(this._eventBus);this.configureListeners(this.renderer);this.renderer.render(b,e,c);}};RenderManager.prototype.onAdMetrics=function(b){if(this._ad){this._ad.onAdEvent(b.data);}else{this._eventBus.notifyAdMetricsEvent(b.data);}};RenderManager.prototype.onVideoAdEnd=function(b){this._eventBus.notifyVideoAdEnd();};RenderManager.prototype.onVideoAdStart=function(b){this._eventBus.notifyVideoAdStart({adslug:true,timer:true,scale:true,volume:true,linear:true,blocked:true});this._eventBus.notifyMetricsEvent(b);};RenderManager.prototype.onVideoAdProgress=function(b){this._eventBus.notifyAdProgress(b);};RenderManager.prototype.onVideoAdPlayback=function(b){this._eventBus.notifyAdPlayback({adslug:true,timer:true,scale:true,volume:true,linear:true,blocked:true});};RenderManager.prototype.onAdDisplay=function(b){this._eventBus.notifyMetricsEvent({data:BeaconEventData.IMPRESSION});};RenderManager.prototype.onAdMediaFirstByte=function(b){this._eventBus.notifyAdMediaFirstByte(b);};RenderManager.prototype.onAdStartError=function(b){this._eventBus.notifyAdStartError(b);};RenderManager.prototype.onAdDeliveryError=function(b){this._eventBus.notifyAdDeliveryError(b);};RenderManager.prototype.onAdPlaybackNone=function(b){this._eventBus.notifyNullAd();};RenderManager.prototype.dismissAd=function(b){};RenderManager.prototype.resizeAd=function(b){};RenderManager.prototype.setVolume=function(b){};a.com.yahoo.ads.renderer.RenderManager=RenderManager;},"1.0.0",{requires:["node","ScopeLogger","AdRenderer","NullRenderer"]});YUI.add("Template",function(a){a.namespace("com.yahoo.ads.renderer.templates");Template=function(G){var w=G;var S=a.com.yahoo.ads.common.Constants;var r=a.com.yahoo.ads.event.AdEvents;var C=false;var y=0;var n=this;var g=null;var J=Template.PLAYBACK_STATE.WAITING_FOR_METADATA;var z=a.com.yahoo.ads.event.AdEvents;var v=a.com.yahoo.ads.event.BeaconEventData;var O="";var I=null;var Q=false;var D=0;var f=0;var j=0;var T=0;var p=false;var B=100;var M=250;var R=null,c=null,E=null;var i=null;i=document.createElement("div");i.id="yvap_video";var t=document.createElement("div");t.id="yvap_overlay";t.style.width=w.clientWidth;t.style.height=w.clientHeight;t.style.zIndex="10000000000";t.style.position="absolute";t.style.opacity=0;
i.appendChild(t);w.parentNode.appendChild(i);var P=function(ab,aa){var X=(parseInt(w.clientWidth,10)-M)/2;var W=(parseInt(w.clientHeight,10)-B)/2;var Z=document.createElement("div");Z.id=ab;Z.style.position="relative";Z.style.top=W+"px";Z.style.left=X+"px";Z.style.width=M+"px";Z.style.height=B+"px";Z.style.verticalAlign="middle";Z.style.textAlign="center";Z.style.color="#fdfdfd";Z.style.size="12px";Z.style.fontFamily="Geneva, Arial, Helvetica, sans-serif";Z.style.display="table";Z.style.backgroundColor="#000000";Z.style.borderColor="#f3f3f3";Z.style.borderWidth="2px";Z.style.borderStyle="solid";Z.style.borderRadius="15px";Z.style.zIndex="1000";var Y=document.createElement("div");Y.style.display="table-cell";Y.style.verticalAlign="middle";Y.style.margin="5px";Y.innerHTML=aa;Z.appendChild(Y);t.appendChild(Z);};var k=function(){P(Template.INVITATION_MSG_ID,R);};var N=function(W){var X="";if(W==="EXTERNAL"){X='<img src="'+c+'"'+' width="'+M+'"/>';}else{if(W==="TEXT"){X="<p>"+c+"</p>";}else{X=c;}}P(Template.PRODUCT_MSG_ID,X);};var s=function(){t.style.opacity=0.8;};var d=function(){t.style.opacity=0;};var e=function(){if(typeof c!==S.UNDEFINED&&c!==null&&typeof E!==S.UNDEFINED&&E!==null){N(E);t.style.visibility="visible";t.addEventListener("mouseover",s,false);t.addEventListener("mouseout",d,false);}};var h=function(){setTimeout(function(){t.style.opacity=0;var W=document.getElementById(Template.INVITATION_MSG_ID);if(typeof W!==S.UNDEFINED&&W!==null){W.parentNode.removeChild(W);}e();},1200);};var U=function(){setTimeout(function(){t.style.opacity=0.8;h();},1200);};var L=function(W){if(typeof W.invitation_message===S.UNDEFINED||W.invitation_message===null){p=false;}else{p=true;R=W.invitation_message;R=R.replace(/\\r|\\n/g,"<br>");}if(typeof W.product_message!==S.UNDEFINED&&W.product_message!==null){c=W.product_message;c=c.replace(/\\r|\\n/g,"<br>");}if(typeof W.product_message!==S.UNDEFINED&&W.product_message!==null){E=W.product_message_type;}if(p){k();}};var b=function(X){var W=w.currentTime/w.duration;if(J==Template.PLAYBACK_STATE.METADATA_AVAILABLE){J=Template.PLAYBACK_STATE.PLAYBACK0;n.fire(z.AdVideoStart,{type:z.AdVideoStart,ad_duration:y});if(p){t.style.visibility="visible";U();}}else{if(W>0.25&&J==Template.PLAYBACK_STATE.PLAYBACK0){J=Template.PLAYBACK_STATE.PLAYBACK25;n.fire(z.AdVideoFirstQuartile,{type:z.AdVideoFirstQuartile,ad_duration:y});}else{if(W>0.5&&J==Template.PLAYBACK_STATE.PLAYBACK25){J=Template.PLAYBACK_STATE.PLAYBACK50;n.fire(z.AdVideoMidpoint,{type:z.AdVideoMidpoint,ad_duration:y});}else{if(W>0.75&&J==Template.PLAYBACK_STATE.PLAYBACK50){J=Template.PLAYBACK_STATE.PLAYBACK75;n.fire(z.AdVideoThirdQuartile,{type:z.AdVideoThirdQuartile,ad_duration:y});}}}}if(!Q&&w.currentTime>=30){Q=true;n.fire(v.CPCV,{type:v.CPCV,value:30,ad_duration:y});}n.fire(z.AdProgress,{type:z.AdProgress,position:w.currentTime,totalDuration:w.duration});};var H=function(){J=Template.PLAYBACK_STATE.METADATA_AVAILABLE;y=w.duration;};var A=function(){if((w.duration-w.currentTime)<=0.1&&J==Template.PLAYBACK_STATE.PLAYBACK75){n.fire(z.AdVideoComplete,{type:z.AdVideoComplete,ad_duration:y});J=Template.PLAYBACK_STATE.PLAYBACK100;}clearInterval(g);n.cancelAd();n.fire(r.AdStopped);};var F=function(W){D=W.timeStamp;C=true;g=setInterval(b,200);w.play();n.fire(r.AdPlayback);n.fire(v.BITRATE,{type:v.BITRATE,chosenBitrate:I});};var V=function(){n.fire(z.AdImpression,{type:z.AdImpression});};var q=function(W){n.fire(r.AdMediaFirstByte);};var o=function(X){if(O&&O!==""){window.open(O,"_blank");}var W=X.timeStamp-D;T+=1;n.fire(z.AdClickThru,{type:z.AdClickThru,click_url:O});n.fire(z.AdClick,{type:z.AdClick,diff:W,mouseClickCount:T});};var x=function(X){var W=X.timeStamp-D;f+=1;n.fire(z.AdMouseOver,{type:z.AdMouseOver,diff:W,mouseOverCount:f});};var u=function(W){n.cancelAd();n.fire(z.AdError,{type:z.AdError});};var l=function(W){if((w.duration-w.currentTime)>0.1){w.play();}};var m=function(){w.addEventListener("loadedmetadata",H,false);w.addEventListener("ended",A,false);w.addEventListener("canplay",F,false);w.addEventListener("pause",l,false);w.addEventListener("canplaythrough",V,false);w.addEventListener("loadeddata",q,false);w.addEventListener("mouseover",x,false);w.addEventListener("error",u,false);t.addEventListener("click",o,false);};var K=function(){w.removeEventListener("loadedmetadata",H,false);w.removeEventListener("ended",A,false);w.removeEventListener("canplay",F,false);w.removeEventListener("pause",l,false);w.removeEventListener("canplaythrough",V,false);w.removeEventListener("loadeddata",q,false);w.removeEventListener("mouseover",x,false);w.removeEventListener("error",u,false);t.removeEventListener("click",o,false);};this.initAd=function(W,X){if(w&&W){m();w.src="";w.load();w.play();w.src=W;w.load();w.controls=false;O=X.click_url;I=X.chosenBitrate;if(a.com.yahoo.ads.utils.Utils.isOverlaySupported()){L(X);}n.fire(r.AdStarted);return true;}else{}return false;};this.getAdVolume=function(){};this.setAdVolume=function(W){if(W>=0&&W<=1){w.volume=W;}};this.startAd=function(){};this.pauseAd=function(){};this.resumeAd=function(){};this.resizeAd=function(){};this.cancelAd=function(){if(typeof w!==S.UNDEFINED&&w!==null){w.src="";w.load();K();if(typeof i!==S.UNDEFINED&&i!==null){w.parentNode.removeChild(i);i=null;}w=null;}};};Template.VIDEO_ID="yvap_video";Template.OVERLAY_ID="yvap_overlay";Template.INVITATION_MSG_ID="yvap_invitation_message";Template.PRODUCT_MSG_ID="yvap_product_message";Template.HTML5_VIDEO_READY_STATE={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};Template.HTML5_PLAY_CAPABILITY={BEST:"probably",LIKELY:"maybe",NO:""};Template.PLAYBACK_STATE={WAITING_FOR_METADATA:-1,METADATA_AVAILABLE:0,PLAYBACK0:1,PLAYBACK25:2,PLAYBACK50:3,PLAYBACK75:4,PLAYBACK100:5};a.augment(Template,a.EventTarget);a.com.yahoo.ads.renderer.templates.Template=Template;},"1.0.0",{requires:["node","ScopeLogger","Utils"]});YUI.add("ActionRule",function(a){a.namespace("com.yahoo.ads.rules");ActionRule=function(c){this.mName=null;
this.mType=null;this.mSubtype=null;this.mBasis=null;this.mActionParams=null;this.mCondition=null;this.mRedirect={targetTag:"none",count:0};this.mAdXML=null;this.getType=function(){return this.mType;};this.setType=function(d){this.mType=d;};this.getSubType=function(){return this.mSubtype;};this.getRedirect=function(){return this.mRedirect;};this.getAdXml=function(){return this.mAdXML;};this.addActionParam=function(d,e){if(!this.mActionParams){this.mActionParams={};}this.mActionParams[d]=e;};this.parseActionParam=function(f){var h,d,g,e;if(f instanceof Array){for(e in f){h=f[e];d=h["@name"];g=h["@value"];this.addActionParam(d,g);}}else{if(f instanceof Object){h=f;d=h["@name"];g=h["@value"];this.addActionParam(d,g);}}};this.evaluateConditions=function(d){return true;};this.isBlocking=function(){return this.mType!="overlay";};if(c){this.mName=c["@name"];this.mType=c["@type"];this.mSubtype=c["@subtype"];this.mBasis=c["@basis"];if(c.adXML){this.mAdXML=c.adXML;}else{this.mAdXML=null;}for(var b in c){if(b=="actionParam"){this.parseActionParam(c[b]);}else{if(b=="enabledWhen"){}}}}};ActionRule.prototype.evaluateBasis=function(b){return null;};ActionRule.prototype.toString=function(){return"ActionRule :: name: "+this.mName+", type: "+this.mType+", subType: "+this.mSubtype+", basis: "+this.mBasis;};ActionRule.prototype.evaluate=function(d){var f=false;if(this.evaluateConditions(d)){f=true;}if(f){var e=d.getBasis(this.mBasis);var b=this.evaluateBasis(e);var c=new a.com.yahoo.ads.engine.EngineActionEvent(b,this);d.propagateActionEvent(c);}};a.com.yahoo.ads.rules.ActionRule=ActionRule;},"1.0.0",{requires:["node","EngineActionEvent"]});YUI.add("ActionRule_TIMELINE",function(a){a.namespace("com.yahoo.ads.rules");ActionRule_TIMELINE=function(d){ActionRule_TIMELINE.superclass.constructor.apply(this,[d]);var j,h,c,i,f,b;this.START_MINIMUM_PERCENT=0;this.START_MAXIMUM_PERCENT=99;this.DEFAULT_VID_DURATION=100;if(this.mActionParams.id.toLowerCase().indexOf("overlay")===0){this._isOverlay=true;this._showCommand="ShowOverlay";this._hideCommand="HideOverlay";}else{this._isOverlay=false;this._showCommand="InsertAd";this._hideCommand=null;}this._shownPoints={};j=d["@start"];h=d["@duration"];c=d["@interval"];i=parseInt(d["@intervalbetweenclips"],10);f=parseInt(d["@startatclip"],10);b=d["@padding"];if(i){this._intervalbetweenclips=i;}if(f){this._startatclip=f;}this._startatclip-=1;if(typeof b==="undefined"||b===null||b===""){b=actionParams.Padding;}if(b&&b.length>0){if(b.indexOf("%")!==-1){b=b.substring(0,b.length-1);}try{this._paddingDuration=parseInt(b,10);}catch(g){}}if(!c){c=9999;}if(!h){h=-1;}if(j.indexOf("%")!==-1){this._startIsPercentage=true;this._start=parseInt(j.replace("%",""),10);if(this._start<this.START_MINIMUM_PERCENT){this._start=this.START_MINIMUM_PERCENT;}}else{this._start=parseInt(j,10);if(j==="1"){this._start=2;}}if(h.indexOf("%")!==-1){this._durationIsPercentage=true;this._duration=parseInt(h.replace("%",""),10);if(this._duration>this.START_MAXIMUM_PERCENT){this._duration=this.START_MAXIMUM_PERCENT;}}else{this._duration=parseInt(h,10);}if(c.indexOf("%")!==-1){this._intervalIsPercentage=true;this._interval=parseInt(c.replace("%",""),10);}else{this._interval=parseInt(c,10);}this.getBasis=function(){return"videoTimeline";};this.evaluateBasis=function(m){var e=null;if(typeof m==="undefined"){return null;}if(m.getType()===TimerEventBasis.TIMER_BASIS){var l=m.getTimer();if(!this._isOverlay){return this.evaluateTimecode(Math.floor(l.getElapsed()),l.getTotalDuration());}var k=m.getClipCount();if(k>this._startatclip&&(k-(1+this._startatclip))%this._intervalbetweenclips===0){e=this.evaluateTimecode(Math.floor(parseInt(l.getElapsed(),10)),parseInt(l.getTotalDuration(),10));}else{}}else{}return e;};this.evaluateTimecode=function(o,m){if(m<1){m=this.DEFAULT_VID_DURATION;}var e=null;var p=this._start;var l=this._interval;var n=this._duration;if(this._startIsPercentage){p=Math.floor(p*m/100);}if(this._intervalIsPercentage){l=Math.floor(l*m/100);}if(this._durationIsPercentage){n=Math.ceil(n*m/100);}n+=this._paddingDuration;if((o>=p)&&((o-p)%(l+n)===0)){var k=o.toString();if(typeof this._shownPoints[k]==="undefined"||this._shownPoints[k]===null){if(n===0||(n>0&&n<=m-o)){e=this._showCommand;this._shownPoints[k]="";}else{}}}else{if(this._hideCommand&&(o>=p)&&((o-p)%(l+n))===n){}}return e;};this.resetClipRules=function(){this._shownPoints={};};};a.extend(ActionRule_TIMELINE,a.com.yahoo.ads.rules.ActionRule);a.com.yahoo.ads.rules.ActionRule_TIMELINE=ActionRule_TIMELINE;},"1.0.0",{requires:["node","EngineActionEvent","ActionRule"]});YUI.add("ActionRule_TRIGGER",function(a){a.namespace("com.yahoo.ads.rules");ActionRule_TRIGGER=function(d){ActionRule_TRIGGER.superclass.constructor.apply(this,[d]);this.ACTION_POSITIVE="InsertAd";this.ACTION_POSITIVE_SKIN="skin-op";this._evaluateRatio=function(n){var m=n.getCount();var o=n.getAdLength();var l=n.getVidLength();var e=this._ratio;if(l===0||o===0){e=this._ratio;}else{e=l/o;}var k=f==="true"?m>this._start:true;return k&&this._ratioEnabled&&(l===0||e>=this._ratio);};this._evaluateLength=function(m){var l=m.getCount();var k=m.getRecentVidLength();var e=f==="true"?l>this._start:true;return e&&this._lengthEnabled&&(k-this._length)>=0;};this._evaluateFrequency=function(l){var k=l.getCount();var e=l.getRecentClipCount();return k>this._start&&e>=this._interval;};var c=function(k){var e=Math.random()*100;return e<=k;};var b="";var g="";var h="false",f,j;h=d["@minDurEnabled"];b=d["@ratioEnabled"];g=d["@lengthEnabled"];f=d["@firstAdProbabilityEnabled"]||"";j=parseInt(d["@firstAdProbability"],10)||0;this._interval=parseInt(d["@interval"],10);this._start=parseInt(d["@start"],10)-1;this._minDuartion=parseInt(d["@minDuration"],10);this._ratio=parseInt(d["@ratio"],10);this._length=parseInt(d["@length"],10);if(this.mActionParams.id==="purevideo"){this._symbol="video";this._actionString=this.ACTION_POSITIVE;}else{if(this.mActionParams.id==="skin"){this._symbol="skin";this._actionString=this.ACTION_POSITIVE_SKIN;
}else{this._symbol="overlay";this._actionString=this.ACTION_POSITIVE;}}if(this._start<0){this._start=0;}try{this._ratioEnabled=b.length>0&&b==="true";this._lengthEnabled=g.length>0&&g==="true";this._minDuartionEnabled=h.length>0&&h==="true";}catch(i){this._ratioEnabled=false;this._lengthEnabled=false;this._minDuartionEnabled=false;}this.evaluateBasis=function(o){var e=null,m,l=a.com.yahoo.ads.engine.EngineActionEvent.SKIP_EVENT;if(typeof o==="undefined"){return e;}if(o.getType()===TriggerEventBasis.TRIGGER_BASIS){var k=o.getTriggerName();if(k.toLowerCase()===this.mSubtype.toLowerCase()){var n=o.getClipDuration();if((this._minDuartionEnabled&&n>=this._minDuartion)||!this._minDuartionEnabled){m=o.getCount();if(m===(this._start+1)&&f==="true"){e=c(j)?this._actionString:l;return e;}if(this._ratioEnabled){if(this._evaluateRatio(o)){e=this._actionString;}else{e=l;}}else{if(this._lengthEnabled){if(this._evaluateLength(o)){e=this._actionString;}else{e=l;}}else{if(this._evaluateFrequency(o)){e=this._actionString;}else{e=l;}}}}else{e=l;}}}return e;};this.getBasis=function(){return"triggers";};};a.extend(ActionRule_TRIGGER,a.com.yahoo.ads.rules.ActionRule);a.com.yahoo.ads.rules.ActionRule_TRIGGER=ActionRule_TRIGGER;},"1.0.0",{requires:["node","EngineActionEvent","ActionRule"]});YUI.add("RuleGroup",function(a){a.namespace("com.yahoo.ads.rules");RuleGroup=function(){var f=[];var d;var b;var g=false;var c="videoTimeline";var e="triggers";return{initFromJSON:function(j){var k=null;d=j["@id"];if(j["@defaultRuleset"]=="true"){b=true;}if(j.actionRule2 instanceof Array){for(var h=0;h<j.actionRule2.length;h++){mBasis=j.actionRule2[h]["@basis"];if(mBasis==e){k=new a.com.yahoo.ads.rules.ActionRule_TRIGGER(j.actionRule2[h]);g=false;}else{if(mBasis==c){k=new a.com.yahoo.ads.rules.ActionRule_TIMELINE(j.actionRule2[h]);g=true;}else{}}this.addRule(k);}}else{if(j.actionRule2 instanceof Object){mBasis=j.actionRule2["@basis"];if(mBasis==e){k=new a.com.yahoo.ads.rules.ActionRule_TRIGGER(j.actionRule2);g=false;}else{if(mBasis==c){k=new a.com.yahoo.ads.rules.ActionRule_TIMELINE(j.actionRule2);g=true;}else{}}this.addRule(k);}}},getisTimelineDriven:function(){return g;},getisDefault:function(){return b;},addRule:function(h){f.push(h);},setid:function(h){d=h;},getid:function(){return d;},evaluate:function(j){for(var h=0;h<f.length;h++){f[h].evaluate(j);}},resetClipRules:function(){for(var h=0;h<f.length;h++){if(f[h] instanceof ActionRule_TIMELINE){f[h].resetClipRules();}}},toString:function(){var h="";for(var j=0;j<f.length;j++){h+=f[j]+"\n";}return h;}};};a.com.yahoo.ads.rules.RuleGroup=RuleGroup;},"1.0.0",{requires:["node","ActionRule","ScopeLogger","ActionRule_TRIGGER","ActionRule_TIMELINE"]});YUI.add("HTMLStorageUtil",function(b){b.namespace("com.yahoo.ads.utils");var a=("localStorage" in window&&window.localStorage!==null)?window.localStorage:null;b.com.yahoo.ads.utils.HTMLStorageUtil=a?{getItem:function(c){var d=a.getItem(c);try{if(d){d=b.JSON.parse(d);}}catch(f){}return d;},setItem:function(c,d){if(d&&c){d=b.JSON.stringify(d);a.setItem(c,d);}},removeItem:function(c){a.removeItem(c);}}:null;},"1.0.0",{requires:["json"]});YUI.add("Utils",function(c){c.namespace("com.yahoo.ads.utils");var a=c.com.yahoo.ads.common.Constants,b=function(){};b.guid=function(){var d=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);};return(d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d());};b.formatDocumentNode=function(e){var d=c.XML.format(e);return d;};b.createDocumentNode=function(e){var d=c.DataType.XML.parse(e);if(!d){d=new ActiveXObject(a.MS_XMLDOM);d.async=false;d.loadXML(adXML);}return d;};b.createNode=function(e,h,g){var f,d=e.createElement(h);if(g){f=e.createCDATASection(g);d.appendChild(f);}return d;};b.getElementsByTagNameNS=function(g,f,d,e){if(typeof g===a.TYPE_OF_UNDEFINED||g===null){return null;}if(typeof g.getElementsByTagNameNS===a.TYPE_OF_UNDEFINED||g.getElementsByTagNameNS===null){return g.getElementsByTagName(e+":"+d);}else{return g.getElementsByTagNameNS(f,d);}};b.getTextFromNode=function(e){var d;if(typeof e===a.TYPE_OF_UNDEFINED||e===null){return null;}d=e.textContent;if(typeof d===a.TYPE_OF_UNDEFINED){d=e.text;}d=d.replace(/\s+$/,"");d=d.replace(/^\s+/,"");return d;};b.hasAttribute=function(g,f){if(typeof g===a.TYPE_OF_UNDEFINED||g===null){return false;}try{return g.hasAttribute(f);}catch(e){var d=g.getAttribute(f);return(typeof d!==a.TYPE_OF_UNDEFINED&&d!==null);}};b.isXDRSupported=function(){var f=/MSIE\s(\d)+/g,d=navigator.userAgent.match(f),e;if(typeof d!==a.TYPE_OF_UNDEFINED&&d!==null&&d.length>0){e=d[0].match(/(\d)+/g);if(typeof e!==a.TYPE_OF_UNDEFINED&&e!==null&&e.length>0){return(e[0]>9);}}return true;};b.isIPhoneSupported=function(){return(c.UA.iphone>=0&&c.UA.iphone<6.1);};b.isOverlaySupported=function(){return !(c.UA.ios||c.UA.android);};b.getCreativeAndBookingId=function(e){var f=/bi\$(\d+),cr\$(\d+)/,d,g=null;if(e&&typeof e===a.TYPE_OF_STRING&&e.length>0){d=f.exec(e);if(d){g={};g[a.BOOKINGID]=d[1];g[a.CREATIVEID]=d[2];}}return g;};b.errorEvent=function(f,d,e){return{"message":f,"loc":d,"type":e};};b.getDomain=function(e){var d,f;if(e){d=e.split("://");if(d.length>=2){f=d[1].split("/");if(f.length>=1){return"3PAS-"+f[0];}}}return null;};b.updateProtocol=function(d){var e=window.location.protocol;if(e===a.SSL){d=d.replace(a.HTTP,a.HTTPS);}return d;};c.com.yahoo.ads.utils.Utils=b;},"1.0.0",{requires:["Constants"]});YUI.add("videoplayer",function(f){var H={isEmptyObject:function(Y){if(!Y||typeof Y!=="object"){return true;}for(var al in Y){if(Y.hasOwnProperty(al)){if(Y[al]){return false;}}}return true;},validateUrl:function(al){var an=this.removeExtraLineChars(al),Y=true,am;if(this.isUrl(an)){am=an.split(this.isUrlMatch(an)[0])[1];if(this.isScriptable(am)||this.isExecutable(am)){Y=false;}}else{Y=false;}return Y;},shouldEnableRtmps:function(al){var am=al.get("hostingData.env")||"l",Y=al.get("hostingData.bucket")||-1;if((am==="s")&&(Y===50)){return true;}if((am==="p")&&(Y===1)){return true;
}return false;},isAlphaNumeric:function(Y){return !(new RegExp(/[^a-z0-9\,\._\-]/gi).test(Y));},isExecutable:function(Y){return new RegExp(/(\:|\;|\"|\'|\(|\)|<|>| )/gi).test(Y);},isUrl:function(Y){return new RegExp(/htt(p:\/\/|ps:\/\/)/).test(Y);},isUrlMatch:function(Y){var am=new RegExp(/htt(p:\/\/|ps:\/\/)/).exec(Y),al=[];if(am){al=am;}return al;},getDeviceInfo:function(){var al={},Y=f.UA;if(Y.android!==0){al={DEVICE_NAME:"android",MAKE:"unknown",MODEL:"android",OS:"android"};}else{if(Y.ipad!==0){al={DEVICE_NAME:"iPad",MAKE:"apple",MODEL:"ipad",OS:"ios"};}else{if(Y.iphone!==0){al={DEVICE_NAME:"iPhone",MAKE:"apple",MODEL:"iphone",OS:"ios"};}else{if(Y.chrome!==0){al={DEVICE_NAME:"web",MAKE:"chrome",MODEL:Y.chrome,OS:Y.os};}else{if(Y.gecko!==0){al={DEVICE_NAME:"web",MAKE:"firefox",MODEL:Y.gecko,OS:Y.os};}else{if(this.isIE11()){al={DEVICE_NAME:"web",MAKE:"ie",MODEL:"11",OS:Y.os};}else{if(Y.ie){al={DEVICE_NAME:"web",MAKE:"ie",MODEL:Y.ie,OS:Y.os};}else{if(Y.safari){al={DEVICE_NAME:"web",MAKE:"safari",MODEL:Y.safari,OS:Y.os};}else{al={DEVICE_NAME:"web",MAKE:"na",MODEL:"na",OS:Y.os};}}}}}}}}return al;},fixedEncodeURIComponent:function(Y){return encodeURIComponent(Y).replace(/[!'()]/g,escape).replace(/\*/g,"%2A");},isScriptable:function(Y){return new RegExp(/(asfunction:|javascript:|event:|vbscript:)/gi).test(Y);},removeExtraLineChars:function(Y){var al=Y;al=al.split(" ").join("");al=al.split("\t").join("");al=al.split("\n").join("");al=al.split("\r").join("");return al;},generateGuid:function(Y){var al=Y||22,ao="",am,an="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._";for(am=0;am<al;am++){ao+=an.charAt(Math.floor(Math.random()*an.length));}return ao;},isIE11:function(){var Y,am={ie:0,opera:0,gecko:0,webkit:0,safari:0,chrome:0,mobile:null,air:0,phantomjs:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,silk:0,accel:false,webos:0,caja:navigator&&navigator.cajaVersion,secure:false,os:null,nodejs:0,touchEnabled:false},al=function(an){var ao=0;return parseFloat(an.replace(/\./g,function(){return(ao++===1)?"":".";}));};Y=navigator.userAgent.match(/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/);if(Y&&(Y[1]||Y[2])){am.ie=al(Y[1]||Y[2]);}return am.ie;},getFlashVersion:function(){var ap=0,au=this,an=f.UA,at="ShockwaveFlash",al,am,av,Y;function ar(){return(an.ie||au.isIE11());}if(an.gecko||an.webkit||an.opera){if((al=navigator.mimeTypes["application/x-shockwave-flash"])){if((am=al.enabledPlugin)){ap=am.description;}}}else{if(ar()){try{av=new ActiveXObject(at+"."+at+".6");av.AllowScriptAccess="always";}catch(ao){if(av!==null){ap=6;}}if(ap===0){try{Y=new ActiveXObject(at+"."+at);ap=Y.GetVariable("$version");}catch(aq){}}}}return ap;},generateHashCode:function(aq,an,ap){var ar=typeof aq,ao=0,am,Y,al;if(ar==="number"){aq+="";}else{if(ar!=="string"){return"invalid-71";}}Y=aq.length;if(Y===0){return"invalid-72";}for(al=0;al<Y;++al){am=aq.charCodeAt(al);ao=((ao<<5)-ao)+am;ao&=ao;}if(ao<0){ao=Y+""+ao;}else{ao=ao+"-"+Y;}an=((typeof an!=="string")&&(typeof an!=="number"))?"":an+"-";ap=((typeof ap!=="string")&&(typeof ap!=="number"))?"":"-"+ap;return an+ao+ap;},determineWindowMode:function(ao,al){var Y,an,am,ap="opaque";if(ao.flashMajor<"10"){return ap;}if(ao.flashMinor<"2"){return ap;}switch(ao.os){case"macintosh":am=/Mac OS X\s+([0-9_\.]+)/i;an=am.exec(al);if(an){Y=an[1].split(/[_.]/);if(Y[0]>=10&&Y[1]>=6){if(ao.chrome>0||ao.gecko>=4||ao.safari>=530){ap="direct";}}}break;case"windows":break;}return ap;},getHostUrl:function(){var Y;if(H.inIFrame()){try{Y=window.top.location.href;}catch(al){}if(!f.Lang.isValue(Y)){Y=document.referrer;}return Y;}if(f.UA.ie>0&&!H.isValidHostDomain(window.location.href,window.document.URL)){return"";}return window.location.href;},isValidHostDomain:function(am,al){var an,Y;if(!am||!al){return false;}an=H.parseUrl(am).host;Y=H.parseUrl(al).host;return an===Y;},parseUrl:function(al){var Y={url:"",protocol:"",host:"",path:"",file:""},am,an;if(al&&f.Lang.isString(al)){am=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/;an=al.match(am);if(an){Y.url=an[0]||Y.url;Y.protocol=an[1]||Y.protocol;Y.host=an[6]||Y.host;Y.path=an[10]||Y.path;Y.file=an[11]||Y.file;}}return Y;},isYahooDomain:function(al){var Y=f.Object.getValue(window,"YAHOO.VideoPlatform.WhiteListedDomains".split("."));if((typeof Y==="object")&&(typeof al==="string")){try{if(al.match(/(https?:\/\/)?(.[^\/:]+)/i)[2] in Y){return true;}}catch(am){}}return(/^https?:\/\/(|[^/]+\.)yahoo.com(:(6553[0-5]|655[0-2]\d|65[0-4]\d\d|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{0,3}|0))?($|\/)/.test(al)||/^https?:\/\/(|[^/]+\.)yimg.com($|\/)/.test(al)||/^https?:\/\/(|[^/]+\.)yahoo.net($|\/)/.test(al)||/^https?:\/\/(|[^/]+\.)yahooapis.com($|\/)/.test(al)||/^https?:\/\/(|[^/]+\.)rivals.com($|\/)/.test(al)||/^https?:\/\/(|[^/]+\.)tumblr.com($|\/)/.test(al)||/^https?:\/\/(|[^/]+\.)maktoob.com($|\/)/.test(al));},compareVersions:function(am,al){var ar,aq,ao,ap,an,Y;if(am===al){return 0;}aq=(am+"").split(".");ap=(al+"").split(".");for(an=0,Y=Math.max(aq.length,ap.length);an<Y;++an){ar=parseInt(aq[an],10);ao=parseInt(ap[an],10);if(isNaN(ar)){ar=0;}if(isNaN(ao)){ao=0;}if(ar<ao){return -1;}if(ar>ao){return 1;}}return 0;},inIFrame:function(){return(window.top!==window.self);},postMessage:function(Y){var al;if(parent&&parent.postMessage){al=window.location.hash.split("=")[1];if(!al){al=1;}parent.postMessage(Y+":"+al,"*");}},isFullscreenSupported:function(){if(!H.inIFrame()){return true;}if(window.location.hash.substr(0,4)==="#id="){return true;}return((document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled)===true);},getDuration:function(Y){Y=parseInt(Y,10);return Math.floor(Y/60)+":"+this.prefixZeroes(Y%60);},prefixZeroes:function(Y){if(Y<10){return"0"+Y.toString();}else{return Y.toString();}},isMobile:function(){var Y=f.UA;if(Y.android!==0||Y.ios!==null||Y.mobile!==null){return true;}return false;},isInternalUser:function(){var Y;if(!navigator.cookieEnabled){return false;
}Y=f.Cookie.getSubs("YBY");if(!f.Lang.isNull(Y)&&f.Lang.isObject(Y)){return true;}return false;},yuiUAKeys:["ie","opera","gecko","webkit","safari","chrome","phantomjs","ipad","iphone","ipod","ios","android","silk"],getYUIUserAgent:function(){var Y=[];f.each(this.yuiUAKeys,function(al){var am=f.UA[al];if(am){Y.push(al+":"+am);}});return Y.join(",");},clients:{MISC:"misc",APPLE:"apple",DESKTOP:"desktop"},formats:{FLV:"flv",MP4:"mp4",MP4B:"mp4b",M3U8:"m3u8",WEBM:"webm",F4M:"f4m"},protocols:{HTTP:"http",HTTPS:"https",RTMP:"rtmp",RTMPS:"rtmps",RTSP:"rtsp"},getFormatsAndProtocols:function(am,ao){var ap,an,Y,al;if("html"===am){Y=[H.protocols.HTTP];al=[H.protocols.HTTPS,H.protocols.HTTP];if(f.Lang.isNumber(f.UA.android)&&f.UA.android>0){ap=[H.formats.MP4B,H.formats.WEBM];if(f.UA.chrome>0){ap.push(H.formats.M3U8);}else{ap.push("h264");Y.push(H.protocols.RTSP);al.push(H.protocols.RTSP);}an=ap.slice();an.push(H.formats.MP4);}else{if(f.Lang.isNumber(f.UA.ios)){ap=[H.formats.M3U8,H.formats.MP4];}else{if(f.UA.chrome>0){ap=[H.formats.MP4,H.formats.WEBM];}else{if(f.UA.safari>0){ap=[H.formats.MP4,H.formats.M3U8];}else{if((f.Lang.isNumber(f.UA.gecko)&&f.UA.gecko>0&&!this.isIE11())||f.UA.opera>=10.6){ap=[H.formats.WEBM];}else{ap=[H.formats.MP4];}}}}an=ap;}}else{if(ao){ap=[H.formats.M3U8,H.formats.MP4,H.formats.FLV,H.formats.F4M];Y=[H.protocols.HTTP];al=[H.protocols.HTTPS,H.protocols.HTTP];}else{ap=[H.formats.MP4,H.formats.FLV,H.formats.F4M];Y=[H.protocols.RTMP,H.protocols.HTTP];al=[H.protocols.RTMPS,H.protocols.RTMP,H.protocols.HTTPS,H.protocols.HTTP];}an=ap;}return{requestFormats:ap,acceptFormats:an,requestProtocols:Y,acceptProtocols:al};},getCaptionsStringID:function(am){var Y=f.Object.getValue(window,"YAHOO.VideoPlatform.Captions".split(".")),al=(am&&Y)?Y[am]:null;return al;},getCaptionLocalizedString:function(aq,ap,am){var ao=this.getCaptionsStringID(ap),Y=null,an;if(ao&&aq&&aq.length){an=aq.toLowerCase();Y=ao[an];while(!Y&&an){var al=an.lastIndexOf("-");if(al>=0){an=an.substring(0,al);Y=ao[an];}else{an=null;}}}if(am){am.lang=an;}return Y;},filterBySupportedCaptionLocales:function(al){var Y={};this.getCaptionLocalizedString(al,"LANG_NAME",Y);return(Y)?Y.lang:null;},stripHtmlFromString:function(am){var Y=am;if(am){var al=document.createElement("DIV");al.innerHTML=am;Y=al.innerText||al.textContent;al=null;}return Y;},calculateElementSize:function(ao,Y){var an=0,am=0,al;for(al=0;al<Y.length;al++){am=parseInt(ao.getStyle(Y[al]),10);if(isNaN(am)){am=parseInt(ao.getComputedStyle(Y[al]),10);}if(!isNaN(am)){an+=am;}}return isNaN(an)?0:an;},calculateElementOuterHeight:function(al){var Y=["height","border-top-width","border-bottom-width","padding-top","padding-bottom","margin-top","margin-bottom"];return this.calculateElementSize(al,Y);},calculateElementHeight:function(al){var Y=["height"];return this.calculateElementSize(al,Y);},ellipsis:function(am,aq,ao){var al=this,Y=aq.length,an=aq.length/2,ap=aq;while(an>0){am.set("innerHTML",ap);if(al.calculateElementOuterHeight(am)<=ao){if(aq.length===ap.length){an=0;}else{Y+=an;ap=aq.substring(0,Y);}}else{Y-=an;ap=ap.substring(0,Y);}an=parseInt(an/2,10);}if(aq.length>ap.length){am.set("innerHTML",ap+"&#8230;");while(al.calculateElementOuterHeight(am)>ao&&ap.length>=1){ap=ap.substring(0,ap.length-1);am.set("innerHTML",ap+"&#8230;");}}}};H.PLAYER_ASSETS_URL=(document.location.protocol==="https:")?"https://s.yimg.com/rx/builds/4.15.0.1397589605/assets/":"http://l.yimg.com/rx/builds/4.15.0.1397589605/assets/";f.namespace("VideoPlatform").Utils=H;function n(al){var Y=this;Y.addAttrs({id:{},title:{},description:{},duration:{validator:f.Lang.isNumber},clipDuration:{validator:f.Lang.isString},comscoreC5:{validator:f.Lang.isString,writeOnce:true},images:{value:{large:null,medium:null,small:null,provider:null,thumbnail:null}},shareUrl:{},embedCode:{},isLive:{validator:f.Lang.isBoolean},autoContinue:{validator:f.Lang.isBoolean},isPreFetched:{validator:f.Lang.isBoolean},eventBeginTime:{validator:f.Lang.isNumber},eventEndTime:{validator:f.Lang.isNumber},showName:{validator:f.Lang.isString},pageSpaceId:{validator:f.Lang.isString},CC:{},adData:{validator:f.Lang.isObject},licensorName:{validator:f.Lang.isString},licensorId:{validator:f.Lang.isString},licenseName:{validator:f.Lang.isString},licenseId:{validator:f.Lang.isString},spaceId:{validator:f.Lang.isString},originatingProperty:{validator:f.Lang.isString},cms:{},embeddable:{value:undefined,validator:f.Lang.isBoolean},bitrate:{},sessionGUID:{},playlistId:{},streams:[],selectableStreams:{},visualseek:{},streamUrlOwner:{validator:f.Lang.isString},format:{},status:{},streamUrl:{},metrics:{validator:function(am){return f.Lang.isObject(am);}},adTargeting:{},adTargetingCategory:{},enforcedFormatAndProtocol:{},tryCount:{},mediaInfo:{value:{currentKbps:null,droppedFrames:null,playbackBytesPerSecond:null,frameRate:null,bufferLength:null,bufferingRatio:null,bufferSample:null,bufferTime:null,totalMemory:null,currentStreamIndex:null,currentStreamBitrate:null,qualityLevels:null,hwDecoding:null,hwRendering:null,minBitRate:null,maxBitRate:null,highestQualityPlaybackRatio:null,streamSwitchReason:null,mediaWidth:null,mediaHeight:null}},history:{value:{currentStreamBitrate:[],frameRate:[],currentKbps:[],streamSwitchReason:[],bufferSample:[]}},provider:{value:{name:null,logoUrl:null}},hdAvailable:{validator:f.Lang.isFunction},rendererType:{validator:function(am){return am==="html"||am==="flash";}},streamBitrate:{value:null},instrumentation:{value:{algoName:null,algoContext:null}},streamProtocol:{value:undefined},credits:{},copyright:{},genre:{}},al);Y.after("mediaInfoChange",function(an){var ao=an.newVal,aq=Y.get("history"),ap=["frameRate","currentStreamBitrate","currentKbps","streamSwitchReason","bufferSample"],ar,am;for(ar=0;ar<ap.length;ar++){am=ap[ar];aq[am].push(ao[am]);if(aq[am].length>240){aq[am].shift();}}},Y);}n.prototype={toObject:function(){return this.getAttrs();},hasStreamData:function(){var al=this.get("streams"),Y=this.get("streamUrl");return((al&&al.length)||(Y&&Y.length));
},_fireAttrChange:function(al,ap,ao,Y,an){f.Attribute.prototype._fireAttrChange.apply(this,arguments);var am=(an)?f.merge(an):this._ATTR_E_FACADE;this.fire("attrChange",am);}};f.augment(n,f.Attribute);f.namespace("VideoPlatform").MediaObject=n;function Z(al){if(f.Lang.isValue(al)){var Y=f.Lang.isArray(al)?al:f.Array(al);this._items=f.Array.map(Y,function(am){return f.instanceOf(am,n)?am:new n(am);});}else{this._items=this._items||[];}this._registerItems(this._items);this.publish("itemChange",{emitFacade:true});this.publish("clear",{emitFacade:true});}f.extend(Z,f.ArrayList,{toArray:function(){return f.Array.map(this._items.concat(),function(Y){return Y.toObject();});},add:function(an,al){var Y=this._items,ao=f.instanceOf(an,n)?an:new n(an),am;if(f.Lang.isNumber(al)){Y.splice(al,0,ao);am=al;}else{Y.push(ao);am=Y.length-1;}this.fire("add",{item:this.item(am)});return this;},reset:function(){this._items=[];},find:function(Y,al){return f.Array.find(this._items,Y,al);},getIndexById:function(al){var Y;Y=-1;f.Array.some(this._items,function(an,am){if(an.get("id")===al){Y=am;return true;}});return Y;},remove:function(ao,am,Y){var an=[],al;Y=Y||this.itemsAreEqual;for(al=this._items.length-1;al>=0;--al){if(Y.call(this,ao,this.item(al))){an=an.concat(this._items.splice(al,1));if(!am){break;}}}if(an.length>0){this._deregisterItems(an);this.fire("remove",{items:an});}return this;},removeItems:function(Y,am){var al;if(f.Lang.isUndefined(am)){throw new Error("Expected count, did you mean to use removeItem?");}al=this._items.splice(Y,am);this._deregisterItems(al);},removeItem:function(Y){this.removeItems(Y,1);},removeItemById:function(al){var Y=this.getIndexById(al);this.removeItem(Y);},removeItemsById:function(al){var Y=this;f.each(al,function(am){Y.removeItemById(am);});},clear:function(){this._deregisterItems(this._items);this._items=[];this.fire("clear");},_registerItems:function(Y){f.Array.each(Y,function(al){al.after("attrChange",this._onItemAttrChange,this);},this);},_deregisterItems:function(Y){f.Array.each(Y,function(al){al.detach("attrChange",this._onItemAttrChange,this);},this);},_onItemAttrChange:function(al){var Y=al.target;this.fire("itemChange",f.merge(al,{mediaObject:Y,index:this.indexOf(Y)}));}});f.augment(Z,f.EventTarget);f.namespace("VideoPlatform").MediaCollection=Z;function E(Y){this.addAttrs({id:{value:"",validator:function(am){return f.Lang.isValue(am);}},totalLength:{value:0,validator:function(am){return f.Lang.isNumber(am);}},totalRequested:{value:0,validator:function(am){return f.Lang.isNumber(am);}},title:{value:"",validator:function(am){return f.Lang.isValue(am);}},description:{value:"",validator:function(am){return f.Lang.isValue(am);}},mediaItems:{value:new f.VideoPlatform.MediaCollection(),writeOnce:"initOnly",setter:function(am){if(!f.instanceOf(am,f.VideoPlatform.MediaCollection)){return new f.VideoPlatform.MediaCollection(am);}}}},Y);var al=this.items();al.after("itemChange",this._onItemChange,this);al.after("add",this._onItemAdd,this);al.after("remove",this._onItemRemove,this);this.publish("mediaItemChange",{emitFacade:true});this.publish("mediaItemRemove",{emitFacade:true});this.publish("mediaItemAdd",{emitFacade:true});}E.prototype={items:function(){return this.get("mediaItems");},toObject:function(){var Y=this.getAttrs(),al=[];f.each(Y.mediaItems,function(am){al.push(am.toObject());});Y.mediaItems=al;return Y;},_onItemChange:function(Y){this.fire("mediaItemChange",{attrName:Y.attrName,index:Y.index,newVal:Y.newVal,prevVal:Y.prevVal,mediaObject:Y.mediaObject});},_onItemAdd:function(Y){this.fire("mediaItemAdd",{item:Y.item});},_onItemRemove:function(Y){this.fire("mediaItemRemove",{items:Y.items});},_fireAttrChange:function(al,ap,ao,Y,an){f.Attribute.prototype._fireAttrChange.apply(this,arguments);var am=(an)?f.merge(an):this._ATTR_E_FACADE;this.fire("attrChange",am);}};f.augment(E,f.Attribute);f.namespace("VideoPlatform").PlaylistObject=E;function ae(){this._items=[];}ae.prototype.items=function(){return this._items;};ae.prototype.add=function(Y){this._items.push(Y);this.fire("itemAdded",{item:Y});return this;};f.augment(ae,f.EventTarget);f.namespace("VideoPlatform").ProfileDataCollection=ae;function N(){N.superclass.constructor.apply(this,arguments);this.START_TIME=(new Date()).getTime();var Y=this.get("playlist");Y.after("attrChange",this._onPlaylistAttrChange,this);Y.after("mediaItemChange",this._onMediaItemChange,this);Y.after("mediaItemAdd",this._onMediaItemAdd,this);Y.after("mediaItemRemove",this._onMediaItemRemove,this);this.publish("playlistAttrChange",{emitFacade:true});this.publish("playlistItemChange",{emitFacade:true});this.publish("playlistItemAdd",{emitFacade:true});this.publish("playlistItemRemove",{emitFacade:true});}N.NAME="Model";N.NS="model";N.ATTRS={version:{value:"4.15.0.1397589605",readOnly:true},hostingData:{writeOnce:true,setter:function(Y){return{bucket:Y.bucket,colo:Y.colo,env:Y.env};}},config:{value:null,validator:function(Y){return f.Lang.isObject(Y);}},criticalError:{value:null,validator:function(Y){return f.Lang.isObject(Y);}},fullscreen:{value:false,validator:f.Lang.isBoolean},height:{validator:function(Y){return f.Lang.isNumber(Y)&&Y>=0;}},width:{validator:function(Y){return f.Lang.isNumber(Y)&&Y>=0;}},adClientSize:{value:{width:0,height:0}},volume:{value:0.7,validator:function(Y){return f.Lang.isNumber(Y);}},mute:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},autoplay:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},ybang:{value:true,validator:function(Y){return f.Lang.isBoolean(Y);}},carousel:{value:false,validator:function(Y){return f.Lang.isBoolean(Y);}},partnerCarouselItems:{value:null},endscreen:{value:true,validator:function(Y){return f.Lang.isObject(Y)||f.Lang.isBoolean(Y);},contentAlgo:{value:"",validator:function(Y){return f.Lang.isString(Y);}}},infoscreen:{value:true,validator:function(Y){return f.Lang.isObject(Y)||f.Lang.isBoolean(Y);}},errorscreen:{value:true,validator:function(Y){return f.Lang.isObject(Y)||f.Lang.isBoolean(Y);
}},startscreen:{value:{showProvider:false,showDesc:true,showButton:true,showTitle:true},validator:function(Y){return f.Lang.isObject(Y)||(f.Lang.isBoolean(Y)&&!Y);}},client:{value:""},YVAP:{value:null,setter:function(Y){return new f.Attribute().addAttrs({accountId:{value:""},playContext:{value:""},ruleSetId:{value:-1},timeout:{value:""}},Y);}},YVAPRequired:{value:true},synd:{value:"",validator:f.Lang.isString},adPluginMetric:{value:null},adPluginQosMetric:{value:null},mediaFormats:{validator:f.Lang.isArray},continuousPlay:{value:false,validator:f.Lang.isBoolean},guid:{writeOnce:true,validator:f.Lang.isString},playerSpaceId:{value:"0"},pageSpaceId:{value:"0"},reportingDomain:{value:"unknown.videoplayer.yahoo.com"},lang:{value:"",validator:f.Lang.isString},bitrate:{value:900,validator:function(Y){return f.Lang.isNumber(Y);}},shareUrlTemplate:{value:"http://video.yahoo.com/play/{videoId}"},chromeless:{value:false,validator:f.Lang.isBoolean},warning:{value:null},error:{value:null},errorDisplayDuration:{value:5,validator:f.Lang.isNumber},beacons:{value:[],validator:f.Lang.isArray},site:{value:""},region:{value:""},jurisdiction:{value:""},comscoreC4:{validator:function(Y){return f.Lang.isString(Y)&&(Y.length>0);}},comscoreC6:{value:"",validator:f.Lang.isString},isOffNetwork:{value:false,validator:f.Lang.isBoolean},lms:{value:"none",validator:function(Y){return"none"===Y||"all"===Y;}},rendererType:{validator:f.Lang.isString},videoRendererState:{},rendererReady:{value:false},videoPlaybackState:{value:null},currentMedia:{value:null},duration:{value:-1,validator:function(Y){return f.Lang.isNumber(Y)||Y===Number.POSITIVE_INFINITY;}},playbackPosition:{value:-1,validator:f.Lang.isNumber,setter:function(Y){this.set("currentTime",Y);return Math.floor(Y);}},currentTime:{value:-1,validator:f.Lang.isNumber},adPlaybackPosition:{value:-1,validator:f.Lang.isNumber},playlistPosition:{value:-1,validator:f.Lang.isNumber},playlist:{value:new E(),writeOnce:"initOnly",setter:function(Y){return new E(Y);}},startVideo:{value:"",validator:f.Lang.isString},playerState:{value:null},yvapState:{value:null},yvapData:{value:null},isInitialized:{value:false},activeScreenStr:{value:undefined},isLoading:{value:false},isLoaded:{value:false},isPreparing:{value:false},isPrepared:{value:false},isStarted:{value:false},isCompleted:{value:false},isPlaying:{value:false},isWaiting:{value:false},isSeeking:{value:false},isPaused:{value:false},isError:{value:false},isPlaybackError:{value:false},expType:{value:"",validator:f.Lang.isString},expName:{value:"",validator:f.Lang.isString},expBucket:{value:"",validator:f.Lang.isString},profileData:{value:null,setter:function(){return new f.VideoPlatform.ProfileDataCollection();}},isSpinnerShown:{value:false},userAuthenticated:{value:true,validator:f.Lang.isBoolean},ccAvailable:{value:false,validator:f.Lang.isBoolean},ccSettingsAvailable:{value:false,validator:f.Lang.isBoolean},ccSettings:{value:{show:false,lang:H.filterBySupportedCaptionLocales(f.config.lang)||"en",fontSize:24,fontName:"Helvetica Neue,Helvetica,Arial,_sans",fontColor:"#ffffff",fontOpacity:1,fontEffect:"none",bgColor:"#000000",bgOpacity:0.75},validator:function(ao){var am={show:f.Lang.isBoolean,lang:f.Lang.isString,fontSize:f.Lang.isNumber,fontName:f.Lang.isString,fontColor:f.Lang.isString,fontOpacity:f.Lang.isNumber,fontEffect:f.Lang.isString,bgColor:f.Lang.isString,bgOpacity:f.Lang.isNumber},al;for(al in am){if(f.Object.hasKey(am,al)){if(ao[al]===undefined){return false;}}}for(al in ao){if(f.Object.hasKey(ao,al)){var Y=am[al];if(Y!==undefined){var an=ao[al];if(!Y(an)){return false;}}else{return false;}}}return true;},setter:function(al,Y){Y=Y;return al;}},atlasEnv:{value:""},CMS:{value:{env:null,host:null,suppressAdContext:false}},SAPI_CONF:{value:{host:null}},emptySpaceIdContextInSapi:{value:false,validator:f.Lang.isBoolean},endScreenVideos:{value:new E(),writeOnce:"initOnly",setter:function(Y){return new E(Y);}},relatedVideosLinkContexts:{value:null,validator:f.Lang.isString},relatedVideosVideoContext:{value:null,validator:f.Lang.isString},showControls:{value:false,validator:f.Lang.isBoolean},closedCaptionUrl:{value:null,validator:f.Lang.isString},closedCaptions:{value:null,validator:f.Lang.isObject},maxConnectionAttempts:{value:"3",validator:f.Lang.isNumber},streamAd:{value:null},standaloneAdMode:{value:false},loop:{value:false,validator:f.Lang.isBoolean},isVisualSeekEnabled:{value:true,validator:f.Lang.isBoolean},pageLatency:{value:{pagePlayerJsDownloadStart:null,pagePlayerJsDownloadTime:null,pageMediaItemPrefetchTime:null}},selectedResolution:{value:null,validator:f.Lang.isNumber},changingResolution:{value:false,validator:f.Lang.isBoolean},useHlsFlash:{value:"false",validator:f.Lang.isString}};f.extend(N,f.Base,{_onPlaylistAttrChange:function(Y){this.fire("playlistAttrChange",Y);},_onMediaItemChange:function(Y){this.fire("playlistItemChange",Y);},_onMediaItemAdd:function(Y){this.fire("playlistItemAdd",Y);},_onMediaItemRemove:function(Y){this.fire("playlistItemRemove",Y);}});f.namespace("VideoPlatform").Model=N;function r(){r.superclass.constructor.apply(this,arguments);}r.CSS=".yui3-videoplayer-loading,.yui3-videoplayer-carousel-left,.yui3-videoplayer-carousel-right,.yui3-videoplayer-controls .embed-chainlink-button,.yui3-videoplayer-controls .fb-icon,.yui3-videoplayer-controls .mail-icon,.yui3-videoplayer-controls .tumblr-icon,.yui3-videoplayer-controls .twitter-icon,.yui3-videoplayer-errorscreen-download-flash-button,.yui3-videoplayer-partner-bar .branding-logo,.yui3-videoplayer-controls .play-pause span,.yui3-videoplayer-carousel-viewport-item .overlay .play-button,.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-button,.yui3-videoplayer-controls .settings span,.yui3-videoplayer-controls .size .full,.yui3-videoplayer-controls .y-logo,.yui3-videoplayer-controls .volume .mute span,.yui3-videoplayer-controls .accessibility-cc-icon,.yui3-videoplayer-controls .accessibility-cc-icon:hover,.yui3-videoplayer-ccoptions-container .effect-depressed,.yui3-videoplayer-ccoptions-container .effect-none,.yui3-videoplayer-ccoptions-container .effect-dropshadow,.yui3-videoplayer-ccoptions-container .effect-raised,.yui3-videoplayer-ccoptions-container .effect-uniform,.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back,.yui3-videoplayer-uiwidget-selector .dropdownicon,.yui3-videoplayer-ccoptions-container .settingnode-content .fwd-icon,.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close,.yui3-videoplayer-uiwidget-colorpicker .color-option.nocolor{background-image:url('http://l.yimg.com/rx/builds/4.15.0.1397589605/assets/main-images.png');background-repeat:no-repeat;background-color:transparent}.ssl.yui3-videoplayer-content .yui3-videoplayer-loading,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-left,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-right,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .embed-chainlink-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .fb-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mail-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .tumblr-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .twitter-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-errorscreen-download-flash-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-partner-bar .branding-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .play-pause span,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-viewport-item .overlay .play-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-carousel-node .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo,.ssl.yui3-videoplayer-controls .accessibility-cc-icon,.ssl.yui3-videoplayer-controls .accessibility-cc-icon:hover,.ssl.yui3-videoplayer-ccoptions-container .effect-depressed,.ssl.yui3-videoplayer-ccoptions-container .effect-none,.ssl.yui3-videoplayer-ccoptions-container .effect-dropshadow,.ssl.yui3-videoplayer-ccoptions-container .effect-raised,.ssl.yui3-videoplayer-ccoptions-container .effect-uniform,.ssl.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back,.ssl.yui3-videoplayer-uiwidget-selector .dropdownicon,.ssl.yui3-videoplayer-ccoptions-container .settingnode-content .fwd-icon,.ssl.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close,.ssl.yui3-videoplayer-uiwidget-colorpicker .color-option.nocolor{background-image:url('https://s.yimg.com/rx/builds/4.15.0.1397589605/assets/main-images.png');background-repeat:no-repeat;background-color:transparent}.yui3-videoplayer-loading{background-position:0 -39px;width:80px;height:80px}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-left{background-position:-80px -122px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left:hover{background-position:0 -119px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-right{background-position:-40px -119px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right:hover{background-position:0 -169px;width:40px;height:50px}.yui3-videoplayer-controls .embed-chainlink-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .embed-chainlink-button{background-position:-151px -280px;width:11px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMS4zNDUgMTIiIHdpZHRoPSIxMS4zNDUiPjxnIGZpbGw9IiM2NjY1NjQiPjxwYXRoIGQ9Ik00LjE5NyA0LjgzNGwuODc3Ljg3NnMxLjE2OC0xLjI3NyAyLjA4LS4yNTZjMCAwIDMuNzIyIDIuNjI5IDIuNDA4IDQuMzggMCAwLTEuNjA1IDEuOTM0LTMuMjg0LS44NGwtMS40MjMuMTFzMi4wMDcgNC41MjQgNS4yMTkgMi4yNjJjMCAwIDIuMDQzLTEuNDk2Ljk0OC0zLjc1OSAwIDAtMy4zOTQtNS43MjktNi44MjUtMi43NzN6TTcuMTQ4IDcuMTY2bC0uODc3LS44NzZzLTEuMTY4IDEuMjc3LTIuMDguMjU2YzAgMC0zLjcyMy0yLjYyOC0yLjQwOS00LjM4IDAgMCAxLjYwNi0xLjkzNCAzLjI4NS44NGwxLjQyMy0uMTFzLTIuMDA4LTQuNTI1LTUuMjE5LTIuMjYzYzAgMC0yLjA0NCAxLjQ5Ni0uOTQ5IDMuNzU5IDAgLjAwMSAzLjM5NSA1LjczIDYuODI2IDIuNzc0eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-151px -280px}.yui3-videoplayer-controls .resolution span.hd-icon{background-position:-154px -68px;width:16px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iLTAuMDMxIC0wLjMxMiAxNiAxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAtMC4wMzEgLTAuMzEyIDE2IDEyIj48ZyBmaWxsPSIjY2NjIj48cGF0aCBkPSJNMTIuMDcxIDQuMzM5Yy0uMTMtLjE3NS0uMjk4LS4zMDgtLjUwOC0uNDAxLS4yMS0uMDkzLS40NzMtLjE0LS43OC0uMTRoLS44OTd2My43NzhoMS4xMTljLjE4NCAwIC4zNTUtLjAyOC41MjgtLjA4OS4xNzItLjA2NS4zMi0uMTY1LjQ1Ny0uMzA3LjEzNS0uMTQ1LjIzNS0uMzI5LjMxNi0uNTU4LjA4MS0uMjMuMTItLjUxLjEyLS44NDIgMC0uMzA0LS4wMjktLjU3NS0uMDg0LS44MTktLjA1MS0uMjQtLjE0My0uNDUxLS4yNzEtLjYyMnpNMTEuMzk1LS4zMTJoLTYuODU1Yy0yLjUyNiAwLTQuNTczIDIuMTUtNC41NzMgNC44MDN2Mi4zOTdjMCAyLjY1MSAyLjA0NyA0LjggNC41NzMgNC44aDYuODU1YzIuNTI0IDAgNC41NzItMi4xNDggNC41NzItNC44di0yLjM5N2MwLTIuNjUzLTIuMDQ4LTQuODAzLTQuNTcyLTQuODAzem0tMy44NjkgOC45OTloLTEuMjU0di0yLjU4NGgtMi4zMTJ2Mi41ODRoLTEuMjU1di01Ljk5OWgxLjI1NXYyLjMwM2gyLjMxM3YtMi4zMDNoMS4yNTVsLS4wMDIgNS45OTl6bTYtMS44MjJjLS4xMDUuMzcyLS4yNjkuNjg4LS40ODMuOTU0LS4yMTQuMjY5LS40ODEuNDgtLjgwOS42MzktLjMyMy4xNTItLjcwMi4yMzEtMS4xNDEuMjMxaC0yLjQ2MnYtNmgyLjQ2M2MuMzcgMCAuNzEyLjA2NCAxLjAyNi4xODYuMzE3LjEyNS41OTMuMzExLjgyNC41NTguMjI5LjI0NS40MTIuNTUyLjU0Mi45MjMuMTMyLjM3LjE5NS44MDcuMTk1IDEuMzA0LjAwNS40MzItLjA0OC44MzYtLjE1NSAxLjIwNXoiLz48L2c+PC9zdmc+);background-position:0 0,0 0;*background-position:-154px -68px}.yui3-videoplayer-controls .resolution span:hover span.hd-icon{background-position:-154px -92px;width:16px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iLTAuMDMxIC0wLjMxMiAxNiAxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAtMC4wMzEgLTAuMzEyIDE2IDEyIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMTIuMDcxIDQuMzM5Yy0uMTMtLjE3NS0uMjk4LS4zMDgtLjUwOC0uNDAxLS4yMS0uMDkzLS40NzMtLjE0LS43OC0uMTRoLS44OTd2My43NzhoMS4xMTljLjE4NCAwIC4zNTUtLjAyOC41MjgtLjA4OS4xNzItLjA2NS4zMi0uMTY1LjQ1Ny0uMzA3LjEzNS0uMTQ1LjIzNS0uMzI5LjMxNi0uNTU4LjA4MS0uMjMuMTItLjUxLjEyLS44NDIgMC0uMzA0LS4wMjktLjU3NS0uMDg0LS44MTktLjA1MS0uMjQtLjE0My0uNDUxLS4yNzEtLjYyMnpNMTEuMzk1LS4zMTJoLTYuODU1Yy0yLjUyNiAwLTQuNTczIDIuMTUtNC41NzMgNC44MDN2Mi4zOTdjMCAyLjY1MSAyLjA0NyA0LjggNC41NzMgNC44aDYuODU1YzIuNTI0IDAgNC41NzItMi4xNDggNC41NzItNC44di0yLjM5N2MwLTIuNjUzLTIuMDQ4LTQuODAzLTQuNTcyLTQuODAzem0tMy44NjkgOC45OTloLTEuMjU0di0yLjU4NGgtMi4zMTJ2Mi41ODRoLTEuMjU1di01Ljk5OWgxLjI1NXYyLjMwM2gyLjMxM3YtMi4zMDNoMS4yNTVsLS4wMDIgNS45OTl6bTYtMS44MjJjLS4xMDUuMzcyLS4yNjkuNjg4LS40ODMuOTU0LS4yMTQuMjY5LS40ODEuNDgtLjgwOS42MzktLjMyMy4xNTItLjcwMi4yMzEtMS4xNDEuMjMxaC0yLjQ2MnYtNmgyLjQ2M2MuMzcgMCAuNzEyLjA2NCAxLjAyNi4xODYuMzE3LjEyNS41OTMuMzExLjgyNC41NTguMjI5LjI0NS40MTIuNTUyLjU0Mi45MjMuMTMyLjM3LjE5NS44MDcuMTk1IDEuMzA0LjAwNS40MzItLjA0OC44MzYtLjE1NSAxLjIwNXoiLz48L2c+PC9zdmc+);background-position:0 0,0 0;*background-position:-154px -92px}.yui3-videoplayer-controls .resolution span.selected span.hd-icon{background-position:-154px -80px;width:16px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iLTAuMDMxIC0wLjMxMiAxNiAxMiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAtMC4wMzEgLTAuMzEyIDE2IDEyIj48ZyBmaWxsPSIjNUYzRkZGIj48cGF0aCBkPSJNMTIuMDcxIDQuMzM5Yy0uMTMtLjE3NS0uMjk4LS4zMDgtLjUwOC0uNDAxLS4yMS0uMDkzLS40NzMtLjE0LS43OC0uMTRoLS44OTd2My43NzhoMS4xMTljLjE4NCAwIC4zNTUtLjAyOC41MjgtLjA4OS4xNzItLjA2NS4zMi0uMTY1LjQ1Ny0uMzA3LjEzNS0uMTQ1LjIzNS0uMzI5LjMxNi0uNTU4LjA4MS0uMjMuMTItLjUxLjEyLS44NDIgMC0uMzA0LS4wMjktLjU3NS0uMDg0LS44MTktLjA1MS0uMjQtLjE0My0uNDUxLS4yNzEtLjYyMnpNMTEuMzk1LS4zMTJoLTYuODU1Yy0yLjUyNiAwLTQuNTczIDIuMTUtNC41NzMgNC44MDN2Mi4zOTdjMCAyLjY1MSAyLjA0NyA0LjggNC41NzMgNC44aDYuODU1YzIuNTI0IDAgNC41NzItMi4xNDggNC41NzItNC44di0yLjM5N2MwLTIuNjUzLTIuMDQ4LTQuODAzLTQuNTcyLTQuODAzem0tMy44NjkgOC45OTloLTEuMjU0di0yLjU4NGgtMi4zMTJ2Mi41ODRoLTEuMjU1di01Ljk5OWgxLjI1NXYyLjMwM2gyLjMxM3YtMi4zMDNoMS4yNTVsLS4wMDIgNS45OTl6bTYtMS44MjJjLS4xMDUuMzcyLS4yNjkuNjg4LS40ODMuOTU0LS4yMTQuMjY5LS40ODEuNDgtLjgwOS42MzktLjMyMy4xNTItLjcwMi4yMzEtMS4xNDEuMjMxaC0yLjQ2MnYtNmgyLjQ2M2MuMzcgMCAuNzEyLjA2NCAxLjAyNi4xODYuMzE3LjEyNS41OTMuMzExLjgyNC41NTguMjI5LjI0NS40MTIuNTUyLjU0Mi45MjMuMTMyLjM3LjE5NS44MDcuMTk1IDEuMzA0LjAwNS40MzItLjA0OC44MzYtLjE1NSAxLjIwNXoiLz48L2c+PC9zdmc+);background-position:0 0,0 0;*background-position:-154px -80px}.yui3-videoplayer-controls .y-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo{background-position:-80px -98px;width:50px;height:12px}.yui3-videoplayer-controls .y-logo:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo:hover{background-position:-80px -110px;width:50px;height:12px}@media(-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.yui3-videoplayer-controls .y-logo,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo{background-size:50px 12px;background-image:none,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAYCAMAAAA73KjcAAADAFBMVEUAAADv7+/v7/Pt7vLt7/G/v8m/v8e/v8vt7vHv7++/v8+/v8j///++vsrv7/Ht7vK+vsq+vsm/v8m+vsq/v8nt7vLLytDJyc/Gx8/Tz9bv7/Lu7vK+vsnw8PLs7PHr6+/t7vHv7/S+vsnr6/K/v8rt7fG/v7/Ly8/LytDHyNDt7fHIyNDHx8/r7+/w8fPt7fDDxc/FxdHr7fC+v8fy8vTz8/P09PTv7/fLyc/z8/S9vsjy8vPDxdDr7fDGxtHl5urKyc/q6+/Bwcfu8PHGxs/Z2+HBwcbBwce9vsfp6e3x8fPGx9C8v8bFxtDx8fLn5+/o6e3q7PDd3+XGyNDr7PHTz9fJytXAwMfGyNC/v8S8vcjs7fG9vce+vsrw8fPy8/TKydDz8/Pp6vDT09jX19vLydDMyM/Bwcbz8/Pz8/Pj5OjQ0Njz8/PDxc7i4+jLy9PHz9fd3efl5evJydTu8PK8vMfHydTExc7P39/O0djZ2d7s7fHs7fLs7PHX09vX1dvBwcfx8fHLy9W9vcjMzdfk5OvP0dne4ObFxcrOztfs7PHa2+HHx9Dj5urAwMbu8PLq6+7V1dzIyNDMzNXn6ezCwsy/v8fd3uS+vsb29/q7vce/wcva2uHk5OTJytHOztPu7/K/v8ri4+jr7PDPz9fCws3p6e3t7fHf3+Xc3ePFxtDFxc/Ly9TExdDLytDJydDX197f4ObU1NzGx9DW2N/R0dnS0tjOztfT1NvIyNLw8PLZ2uG/v8e9vsjMzNLf3+LGx9HIydPb3OHNz9fl5+zHyNDIyNDt7vHQ0djV1t3p6evk5Obq6uzn6Ovg4eXa2d7Pz9bx8fPe3+Ti4ufq6+/n6O3q6/DAwszT1dzJytLMztfr7O/P0Njj5evNzdTZ2d/LzNXj5OnR09zb3OPDxM73+Pzc3OHX2Nzt7e/s6+3V1NnNz9nm5ujT09m+wMrV1drv7/HQz9TExMro6ezz8/bb3ePk5ejGxszk5OnX2N3NztTS0tnExtDY2Ny+v8rt7fIoagowAAAAoHRSTlMAIEDvgIAgQL8QEFBA32Dfr+8wn2Cfn2AwEHCPv1BgQK8wj1BwgBBA35/P7yAwv4+Av59gv3AwIIDv78/fj7+/cO/vv3Bgv2C/j6/fcO/PIO+Av2DvIL+PvzCv34DP7+/vQL/v749QcJ+A37/f79+AIICfMI/Pj78Qz7+/73BA789g75+vj2Cfv4/vz+/Pn8/Pv79QYO9A39+vgIBwML/PM2ASJgAABDJJREFUSMetlWdgFEUUx2fvct1LrqTnUkgjiRBCAggI0ougdESaXVHBgl2xK1bsvc/u5va8liuppJ6RABFDAkSRKkizN2zYZ2d3b8sdX4zvy5t9d/N+M+//Zga8BQgDEE0FDFrwv9vK6uYUCQN2egcIuXSU/Lv82GvARrrhoGgkiXZq/nv+QbeU9XR0dGz7YMTIs6IxeOwfADROWi9EMmG9GfvyKQQfsq3OmxLNkvzcrCw8MGSWX/Rhz+cXjxgp1nqofvs3JVdeNXhwWuolvV9cbRBrA4DRHISJXMCgpkgd3hADs/ipOpKC0TwaEuIFFam3X56ahrJdsW3MNfxvOZMazkzjxxmjazrWjOIhYQdyJpJRc9gU6LOwPhvWh9TxIMkYYijr6SvN4LKlftl8Np6c09+3IV2sXFpN7xhcsgToy2e9w8etWwXdVqx6Hu1sFHYng+gwJO+jPaXRUGrD97OQmzupqStdqs/omq/ncBCnifVaMoS1F1QnYIvdyghCkZReDnnx462zJdlKendkA/Doz7Wl8i4o+WHHAyyEJo34O9/LLjABhrHqaOA12YOQOA3klSOeqZJkE2v2zQEZde/XpsshEwO/sFvRUyu5b6M1CDMJNUOauD6mzMDmFaRXQFIWd+/1DJEkGxI43ky8sD9yvqKf0wOnmpFa+hY7Hyh0Muo86HMAXnZUNbNbHReSsPCQIt+GBphdEflzuPLUbP4DqhAknCwEzI0QhkgbHutpEslf6OOlJ6lnzhDsTQR546hfnu/5hi1Fy3b7YyEH2QzQpxWXSNFebl9IdraPjSRTxkOaqqOGIK+3fXaBLNmFm11FM//2Vyghs7u2FCHIS2LEsTFk5bogC3rxBu1hdrcs5FmdYIUIsqLtwAI5pM81f9lRBRlZ1x5XJiBoC5BW+1z+1IeseGBywpR4mlS1UfPkmuynC1Y4Dy9QQmq3unKBitLIIAl4kAgbm97FFnHjLlZ219LWThch7S5P+MDcqlZmnrK7PE00AbJbdHEgSQyp0aDKmDSWjTgUc05ePejKkSRb6PnkSVDcutM1VA6Z6ql7Cp25oDEWooJBBx/SkpvU8SBVrb8tlyQbF9n7CABP/+6qlEPGReqmoevwQQAUtxLqX1521iz1qAfj3F3TA/3jo6Hb/LtvZ1c0eRdSQGIV/vfuRG7dObEQ9o6MxkxOOkkOMeF/Fd8fODmMu7cNN9V9eysuyIxf+xdJCjbtq8h1NyN/x40SCDcdbaQxXwya3TAx3ntSvOTH764dVpBbMP76vrZ8vugzAiefELQyzN/UPdYW83Jy04nL1g6XPPGFD6+vtFlumCC+J/bHuUbXrpo+ub29fezM88S/L33sr33LETo3p3LR4UMPseyMCXffEwMZoL285J0TJ45/2l39Ns++d9dPjAwSHjgEW7FkvPi+zruQ+xcbJ37MpTXGuQAAAABJRU5ErkJggg==);background-position:0 0,0 0}.yui3-videoplayer-controls .y-logo:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .y-logo:hover{background-size:50px 12px;background-image:none,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAYCAMAAAA73KjcAAADAFBMVEUAAAD////f1+ft7vLt7/Hb2+XZ2eTb2+Pt7vHf39/v7+/v7/Pv7/Lv7/Hb2uXt7vLc2uTb2+Tt7vLd3ePf3OHf2+P39/fb2+Xb2+bX1+PZ2eL4+Pvc2uX3+Pnt7vH3+fvc2eTZ1+Hu7vLd3OLRz9fc2uXW1t/1+Pva2uP39/y/v8v////d3ePd3OPb2+Pv7/LZ2OPv7/Ha2uHZ2eL39/v19vnf3OP////8/Pz////d3OP3+fvp6vD8/P/b2+Tu8PHZ2OHf39/a2uPX2OT39//v8ffd3efv7/TZ2eXX1d/q7PHh4evr7fD29/rr7PHd3OLa3OXX1+L6+/za2uLj4+rY2OTr6/Dx8fTv///Z2OPX1+H39/v3+fv2+PvY2OPZ2uTn5+/7+/36/P3k4unw8PH6+vzj4uf9///9/f3////o5+v////d3eLg3uXz8/bh3+f4+Pz9/f39/f3////u8PX5+/3Y2OPn5/Dc3ejV1eDX1+PP39/5/Pzn6fH39/z4+Pv5+f3Pz9TW1t/z9Pjt7vHX1tvZ2N3f2eTs7fLo6OzV093q7fTc3OXs7/Tr7fDz8/fu8PLn5+/V2OHS1N719fjo5u3v7/fd3OLx8vfw8fP2+Pz09vng3uX09fjt7vTf4erz8/f19fj29/rc2+Xa2OLg4Obn5uvu7/Lc2+Xq6u/l5Oz4+Pzs7fDl5ezj4+rh4Oje3ufZ2ePd3Obu7fLu7vHo6O3o6e7k5Ovd3OPf4Onv7/Ti4unc2+Pc2+Tr6/De3eP3+Pr7/P3Y2OTj4uja2uT5+v33+Pvi4en4+fzk5On9/f709Pbq6u729vrz8/fk4+ny8/jf3+fi4+zn5u3w8Pb29vfy8vTu7fHv7vHp6e3g3+bi4ejc3Obm5evn6PDd3Obr7PPZ2uXn5+7m5+7s7PDa2uXq6/LY2eTX2OTp6vHh4unY2ePq6vD6+vvk5Oj19Pfi4ebj5O3g4Ojd3eXZ2uby8vXY2OHf4Orb2+Dt7fLk5e739/zk4+rw8ffc3ejv8PLEE/sIAAAAp3RSTlMAQCDvgIAwQL8QIEAQYO/fr9+fn2BAIFCfgL9AvzCvgGAgj48gcFBQcGAQEIDvn1CvcGCPj2BwcM/v34+/MI+/7yDf7yCfgDC/QL9gj+/Pz7/vz7+Pv3C/EO9g79+fn4Aw77+/r3Dv77+/74C/79+Az6+f3++P38/vj88QYGDPUL8wcO/P778w77+Av+9gn0DPIL+/UL8gv8+vv4/P799wgHCvz8+/z8hYIoUAAAQ+SURBVEjHrZV3fNNWEMcfOLEtJ3E84h0yCFmEhEz2XoVSRimrZZTuvffee09G93xyZXl86pXEdUhiJxSyCdBCwO2nFEihtA2ddD5NS5b7T9P7w/d0lu773v1OJ7AJqNJB3NJA+kjwv9t7zr91Agb0nRomZMQo8fUa4l0gx33wDD6S6Y2l/vf802+5/rt9+7x791wx0Rjfdls/AKlur5KLpEDnHMpXrZmpYkPyiy6eyWfJe2XraHox75ILL9i+59vLLp9Yxv856v6G1ikFRQZDlv6ajuYbyzgI+QkAmJaEGUxAJbPjCvpAYTiafVSB2yGfJxWH9IZyow2X6rMME/RX7p18FftfaWd3eTW7xsY1fXbTdHqZAdutyJlwh4zRPgf2VlJ+PHTaZf8OWXtv1/4KjMmmP9g8qYxhuGY9EK9cVtPhyUamOL01lM92MftGqqtp1XO8eDt3OhHEREO2dZ2q4EP6k803IGdc0hiSC/UZ17RrEgPBiyg/EvfT2nOqqyBpVjtYoeS4nZcMERGkrm1oTjwZNuXznfcBMP+LSIWQAbDy73fejbwujI+lAzPc1AZTYEDLyu8uMpOQlV4CeXPQ86Boy9tXgBeODEVEBwGgIPjTCuSU/vdZqpqEVSpZGDfRl5l2LVC4OekTILpNg/WeMYJks4O/RectPh05W8wAimBHFEmtJDeygcKYQ5YDXdmAlR1VTeuXJYWkvNX3tThf8GC0eEH9cWsCBIT+iNoAkDnP4wLadgj9OHNgpQNH8he6WOlx+/MjOFuNIOf/dWyVKNmy7h25C79seUkC6Y7WAQBd/LFRD3ndZsDKrqG7wfEwCyE/4g1BLEf7louSndNI5K5qOWaRQBp3vI0g58Yj2b1+NdP6OuimD6gJwDQGslTBWSF1kuN/nimBWAf6XpRCiHdAmqNSIBMOz6IX6TI/wzbFoC6ZJiWenjdEySLO31+ucfc/lcDAIt8QNpBmt4ggKfQCjYHdH9M25KO7OLG75KEG4lVBsnzPVz3G6lDbQwmQRZ7dhBFUkYokkEwHnvokqkyRReOiQ5L3RBsgSgXJSjyHloJ8RE4Y8TWewS3onXOOlULGw0A2G0LSy6jfREh1qGu9oCq3DvywGClIEhvE1ZobOfIMmlBPAyB+HJkSxvK4mMaJulg0u5i7Nh/orOVD5paB5cg9FuwinhNCLC31tyE3zSqFUDOSj5li3sxkUxhb1to5lZnb6fMPHb2T7sqs1s4lgoLd88uPt1Ov3V35AkgeA1FC14x4UO2DGcm+J1jB/o5rpxbbimtvJn++gy06oqyrY+9b+1rP6bkJs4x/XDVtwULBJ76wcuWzcs118dciz7ySafTZE64u/7T7wCxrSXyMGV4/3La+tthmK92wrr99I3U+7InHV0sgwzRDwYfhsP3EicAHJUyVFp3c5RNBAsOH0CZoWTDmkV8fRe4fI7GTadNsuN8AAAAASUVORK5CYII=);background-position:0 0,0 0}}.yui3-videoplayer-errorscreen-download-flash-button{background-position:0 0;width:158px;height:39px}.yui3-videoplayer-partner-bar .branding-logo{background-position:-80px -39px;width:74px;height:59px}.yui3-videoplayer-controls .pause span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .pause span{background-position:-91px -253px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjQgNiAxMiAxMiIgd2lkdGg9IjEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDQgNiAxMiAxMiI+PGcgZmlsbD0iI2NjYyI+PHBhdGggZD0iTTQuMDE1IDZoM3YxMmgtM3pNMTIuOTg1IDZoM3YxMmgtM3pNNC4wMTUgNmgzdjEyaC0zek0xMi45ODUgNmgzdjEyaC0zeiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-91px -253px}.yui3-videoplayer-controls .pause:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .pause:hover span{background-position:-79px -253px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjQgNiAxMiAxMiIgd2lkdGg9IjEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDQgNiAxMiAxMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQuMDE1IDZoM3YxMmgtM3pNMTIuOTg1IDZoM3YxMmgtM3oiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-79px -253px}.yui3-videoplayer-controls .play span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .play span{background-position:-158px -38px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMC41IDExIiB3aWR0aD0iMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwLjUgMTEiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMC4zNTIgNS40OThsLTEwLjIwNCA1LjUwMnYtMTF6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-158px -38px}.yui3-videoplayer-controls .play:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .play:hover span{background-position:-158px -26px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMC41IDExIiB3aWR0aD0iMTIiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEwLjUgMTEiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMC4zNTIgNS40OThsLTEwLjIwNCA1LjUwMnYtMTF6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-158px -26px}.yui3-videoplayer-carousel-viewport-item .overlay .play-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-carousel-viewport-item .overlay .play-button{background-position:0 -219px;width:33px;height:23px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjIuODI4IiB2aWV3Qm94PSIwIDAgMzEuOTAxIDIyLjgyOCIgd2lkdGg9IjMxLjkwMSI+PHBhdGggZD0iTS4xNDYgNC40MzhjMC0yLjMyMSAxLjg1OS00LjIwNSA0LjE1NC00LjIwNSAwIDAgMTEuNDczLS41MjMgMjMuMjI5IDAgMi4yOTQgMCA0LjE1NSAxLjg4NCA0LjE1NSA0LjIwNSAwIDAgLjQ4NiA2Ljc5NyAwIDE0LjAzOSAwIDIuMzIyLTEuODYxIDQuMjAzLTQuMTU1IDQuMjAzIDAgMC0xMS44MDQuMzM0LTIzLjIyOSAwLTIuMjk1IDAtNC4xNTQtMS44ODEtNC4xNTQtNC4yMDMgMCAwLS4zMy0zLjM2IDAtMTQuMDM5eiIgZmlsbD0iIzMyNEZFMSIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0yMS4wOTggMTEuNDE0bC04LjAyOCA0LjM5M3YtOC43ODd6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:0 -219px}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-endscreen-carousel-node .overlay .replay-button{background-position:0 -249px;width:39px;height:43px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iNDIuNSIgdmlld0JveD0iMCAwIDM4LjUgNDIuNSIgd2lkdGg9IjM4LjUiPjxwYXRoIGQ9Ik0xLjU3OCAyMy4wMzZjMCA5LjczNCA3Ljg5IDE3LjYyNCAxNy42MjMgMTcuNjI0IDkuNzMyIDAgMTcuNjIzLTcuODkgMTcuNjIzLTE3LjYyNCAwLTkuNzMzLTcuODkxLTE3LjYyMy0xNy42MjMtMTcuNjIzLTEuMDI4IDAtMi4wMzQuMDk0LTMuMDE0LjI2MnYtNC4xMDVsLTYuNTg0IDYuNTk4IDYuNTg0IDYuNjExdi00LjEwNmMuOTY3LS4yMzYgMS45NzYtLjM2NCAzLjAxNC0uMzY0IDcuMDE4IDAgMTIuNzI4IDUuNzEgMTIuNzI4IDEyLjcyOCAwIDcuMDE5LTUuNzEgMTIuNzI5LTEyLjcyOCAxMi43MjlzLTEyLjcyOS01LjcxMS0xMi43MjktMTIuNzNoLTQuODk0eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:0 -249px}.yui3-videoplayer-controls .settings span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings span{background-position:-152px -104px;width:20px;height:20px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjIwIj48cGF0aCBkPSJNMTAgMi42NjdjNC4wNDMgMCA3LjMzMyAzLjI5IDcuMzMzIDcuMzMzIDAgNC4wNDQtMy4yOSA3LjMzMy03LjMzMyA3LjMzM3MtNy4zMzMtMy4yODktNy4zMzMtNy4zMzNjMC00LjA0MyAzLjI5LTcuMzMzIDcuMzMzLTcuMzMzbTAtMi42NjdjLTUuNTIxIDAtMTAgNC40NzgtMTAgMTAgMCA1LjUyMyA0LjQ3OSAxMCAxMCAxMCA1LjUyMyAwIDEwLTQuNDc3IDEwLTEwIDAtNS41MjItNC40NzctMTAtMTAtMTB6TTExLjkyNiA3LjkxNmwzLjM4MSAzLjM4Mi0xLjg4NSAxLjg4Ni0zLjM4MS0zLjM4Mi0zLjM4MSAzLjM4Mi0xLjg4Ny0xLjg4NiAzLjM4My0zLjM4MiAxLjg4NS0xLjg4NnoiIGZpbGw9IiNjY2MiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-152px -104px}.yui3-videoplayer-controls .settings:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings:hover span{background-position:-150px -144px;width:20px;height:20px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjIwIj48cGF0aCBkPSJNMTAgMi42NjdjNC4wNDMgMCA3LjMzMyAzLjI5IDcuMzMzIDcuMzMzIDAgNC4wNDQtMy4yOSA3LjMzMy03LjMzMyA3LjMzM3MtNy4zMzMtMy4yODktNy4zMzMtNy4zMzNjMC00LjA0MyAzLjI5LTcuMzMzIDcuMzMzLTcuMzMzbTAtMi42NjdjLTUuNTIxIDAtMTAgNC40NzgtMTAgMTAgMCA1LjUyMyA0LjQ3OSAxMCAxMCAxMCA1LjUyMyAwIDEwLTQuNDc3IDEwLTEwIDAtNS41MjItNC40NzctMTAtMTAtMTB6TTExLjkyNiA3LjkxNmwzLjM4MSAzLjM4Mi0xLjg4NSAxLjg4Ni0zLjM4MS0zLjM4Mi0zLjM4MSAzLjM4Mi0xLjg4Ny0xLjg4NiAzLjM4My0zLjM4MiAxLjg4NS0xLjg4NnoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-150px -144px}.yui3-videoplayer-controls .settings:hover.on span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings:hover.on span,.yui3-videoplayer-controls .settings.on span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .settings.on span{background-position:-152px -124px;width:20px;height:20px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjIwIj48Y2lyY2xlIGN5PSIxMCIgY3g9IjEwIiByPSIxMCIgZmlsbD0iIzVGMzNGRiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik04LjExNCAxMi4zOThsLTMuMzgyLTMuMzggMS44ODYtMS44ODggMy4zODIgMy4zODQgMy4zODItMy4zODQgMS44ODYgMS44ODgtMy4zODIgMy4zOC0xLjg4NiAxLjg4NnoiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-152px -124px}.yui3-videoplayer-controls .fb-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .fb-icon{background-position:-146px -190px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjM0Q1NzlFIiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTQuMzc5IDIyLjMwOHYtOC4xMzRoMi43M2wuNDE0LTMuMTY5aC0zLjE0NXYtMi4wMjZjMC0uOTE3LjI1NS0xLjU0MiAxLjU3NC0xLjU0MmwxLjY3Ny0uMDAydi0yLjgzNGMtLjI5LS4wMzctMS4yODUtLjEyNS0yLjQ0NC0uMTI1LTIuNDIzIDAtNC4wNzggMS40NzYtNC4wNzggNC4xOXYyLjMzOWgtMi43Mzd2My4xNjloMi43Mzl2OC4xMzRoMy4yN3oiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-146px -190px}.yui3-videoplayer-controls .fb-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .fb-icon:hover{background-position:-120px -175px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMkU0NTgyIiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTQuMzc5IDIyLjA4NHYtOC4xMzRoMi43M2wuNDE0LTMuMTY5aC0zLjE0NXYtMi4wMjVjMC0uOTE3LjI1NS0xLjU0MiAxLjU3NC0xLjU0MmwxLjY3Ny0uMDAydi0yLjgzNWMtLjI5LS4wMzctMS4yODUtLjEyNS0yLjQ0NC0uMTI1LTIuNDIzIDAtNC4wNzggMS40NzYtNC4wNzggNC4xOTF2Mi4zMzhoLTIuNzM3djMuMTY5aDIuNzM5djguMTM0aDMuMjd6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-120px -175px}.yui3-videoplayer-controls .mail-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mail-icon{background-position:-146px -164px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjNkMzQjk3IiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAuMjAzIDcuNDM1djEwLjYwOWgtMTV2LTEwLjYwOWw3LjYwOSA2LjYwOWguNDU5ek01LjIxMiA3LjA0NGgxNS41Nzh2MTFoLTE1LjU3OHoiLz48cGF0aCBzdHJva2U9IiM2QzNCOTciIHN0cm9rZS13aWR0aD0iLjkzNCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBmaWxsPSJub25lIiBkPSJNNC45NjggNi45NTZsOC4wMjQgNi41NjQgNy45NzMtNi41NjQiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-146px -164px}.yui3-videoplayer-controls .mail-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .mail-icon:hover{background-position:-120px -149px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjNTYyRDgyIiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAuMjAzIDcuNDM1djEwLjYwOWgtMTV2LTEwLjYwOWw3LjYwOSA2LjYwOWguNDU5ek01LjIxMiA3LjA0NGgxNS41Nzh2MTFoLTE1LjU3OHoiLz48cGF0aCBzdHJva2U9IiM1NTJEODIiIHN0cm9rZS13aWR0aD0iLjkzNCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBmaWxsPSJub25lIiBkPSJNNC45NjggNi45NTZsOC4wMjQgNi41NjQgNy45NzMtNi41NjQiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-120px -149px}.yui3-videoplayer-controls .tumblr-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .tumblr-icon{background-position:-146px -216px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjM0M1NTc1IiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTYuNjczIDE3LjU4NGMtLjI4Ny4xMzctLjgzMS4yNTYtMS4yMzkuMjY2LTEuMjI4LjAzMy0xLjQ2Ny0uODYzLTEuNDc3LTEuNTE0di00Ljc3N2gzLjA4MnYtMi4zMjVoLTMuMDcxdi0zLjkxaC0yLjI0N2MtLjAzOCAwLS4xMDIuMDMzLS4xMTEuMTE1LS4xMzIgMS4xOTctLjY5MSAzLjI5Ny0zLjAyIDQuMTM3djEuOTgyaDEuNTUzdjUuMDE2YzAgMS43MTcgMS4yNjYgNC4xNTYgNC42MTEgNC4xIDEuMTI3LS4wMjEgMi4zOC0uNDk0IDIuNjU3LS45bC0uNzM4LTIuMTl6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-146px -216px}.yui3-videoplayer-controls .tumblr-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .tumblr-icon:hover{background-position:-120px -201px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMkM0NTYzIiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTYuNjczIDE3LjU4NGMtLjI4Ny4xMzctLjgzMS4yNTYtMS4yMzkuMjY2LTEuMjI4LjAzMy0xLjQ2Ny0uODYzLTEuNDc3LTEuNTE0di00Ljc3N2gzLjA4MnYtMi4zMjVoLTMuMDcxdi0zLjkxaC0yLjI0N2MtLjAzOCAwLS4xMDIuMDMzLS4xMTEuMTE1LS4xMzIgMS4xOTctLjY5MSAzLjI5Ny0zLjAyIDQuMTM3djEuOTgyaDEuNTUzdjUuMDE2YzAgMS43MTcgMS4yNjYgNC4xNTYgNC42MTEgNC4xIDEuMTI3LS4wMjEgMi4zOC0uNDk0IDIuNjU3LS45bC0uNzM4LTIuMTl6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-120px -201px}.yui3-videoplayer-controls .twitter-icon,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .twitter-icon{background-position:-146px -242px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMzZBN0RFIiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAuODMxIDguODE2Yy0uNTUzLjI0NC0xLjE0OC40MS0xLjc3My40ODQuNjM4LS4zODEgMS4xMjgtLjk4NiAxLjM1Ny0xLjcwNy0uNTk2LjM1NC0xLjI1Ni42MTEtMS45NTkuNzUtLjU2Mi0uNi0xLjM2NC0uOTc1LTIuMjUyLS45NzUtMS43MDIgMC0zLjA4NCAxLjM4MS0zLjA4NCAzLjA4NSAwIC4yNDEuMDI2LjQ3OC4wOC43MDItMi41NjMtLjEyOC00LjgzNi0xLjM1Ny02LjM1OC0zLjIyMy0uMjY1LjQ1Ny0uNDE4Ljk4Ny0uNDE4IDEuNTUyIDAgMS4wNy41NDUgMi4wMTQgMS4zNzMgMi41NjctLjUwNi0uMDE2LS45ODEtLjE1NS0xLjM5Ny0uMzg2bC0uMDAxLjAzOWMwIDEuNDk0IDEuMDYzIDIuNzQxIDIuNDc1IDMuMDI1LS4yNTguMDY4LS41My4xMDctLjgxMi4xMDctLjE5OSAwLS4zOTMtLjAyLS41OC0uMDU2LjM5MiAxLjIyNiAxLjUzMSAyLjExNyAyLjg4MiAyLjE0My0xLjA1OC44MjctMi4zODYgMS4zMi0zLjgzMSAxLjMyLS4yNSAwLS40OTUtLjAxNS0uNzM3LS4wNDQgMS4zNjYuODc2IDIuOTg3IDEuMzg3IDQuNzI5IDEuMzg3IDUuNjc0IDAgOC43NzUtNC43MDEgOC43NzUtOC43NzdsLS4wMDktLjM5OGMuNjAzLS40MzMgMS4xMjgtLjk3NyAxLjU0LTEuNTk1eiIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-146px -242px}.yui3-videoplayer-controls .twitter-icon:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .twitter-icon:hover{background-position:-120px -227px;width:26px;height:26px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNiIgaGVpZ2h0PSIyNiIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMUY4OEJBIiBkPSJNMCAwaDI2djI2aC0yNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjAuODMxIDguODE2Yy0uNTU0LjI0NC0xLjE0Ny40MS0xLjc3Mi40ODQuNjM3LS4zODEgMS4xMjctLjk4NiAxLjM1Ni0xLjcwNy0uNTk3LjM1NC0xLjI1Ni42MTEtMS45NTkuNzUtLjU2Mi0uNi0xLjM2NC0uOTc1LTIuMjUyLS45NzUtMS43MDIgMC0zLjA4NCAxLjM4MS0zLjA4NCAzLjA4NSAwIC4yNDEuMDI2LjQ3OC4wOC43MDItMi41NjMtLjEyOC00LjgzNi0xLjM1Ny02LjM1OC0zLjIyMy0uMjY1LjQ1Ny0uNDE4Ljk4Ny0uNDE4IDEuNTUyIDAgMS4wNy41NDUgMi4wMTQgMS4zNzMgMi41NjctLjUwNi0uMDE2LS45ODEtLjE1NS0xLjM5Ny0uMzg2bC0uMDAxLjAzOWMwIDEuNDk0IDEuMDYzIDIuNzQxIDIuNDc1IDMuMDI0LS4yNTguMDY4LS41My4xMDctLjgxMi4xMDctLjE5OSAwLS4zOTMtLjAyLS41OC0uMDU3LjM5MiAxLjIyNyAxLjUzMSAyLjExNyAyLjg4MiAyLjE0NC0xLjA1OC44MjctMi4zODYgMS4zMi0zLjgzMSAxLjMyLS4yNSAwLS40OTUtLjAxNS0uNzM3LS4wNDQgMS4zNjYuODc2IDIuOTg3IDEuMzg3IDQuNzI5IDEuMzg3IDUuNjc0IDAgOC43NzUtNC43MDEgOC43NzUtOC43NzdsLS4wMDktLjM5OGMuNjA0LS40MzIgMS4xMjgtLjk3NiAxLjU0LTEuNTk0eiIvPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-120px -227px}.yui3-videoplayer-controls .size .full,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full{background-position:-130px -98px;width:22px;height:17px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAyMiAxNyIgd2lkdGg9IjIyIj48cGF0aCBmaWxsPSIjQ0RDQ0NDIiBkPSJNMjIgNmgtMnYtNGgtNHYtMmg2ek0yMiAxN2gtNnYtMmg0di00aDJ6TTIgNmgtMnYtNmg2djJoLTR6TTYgMTdoLTZ2LTZoMnY0aDR6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-130px -98px}.yui3-videoplayer-controls .size .full:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full:hover{background-position:-128px -132px;width:22px;height:17px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAyMiAxNyIgd2lkdGg9IjIyIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMjIgNmgtMnYtNGgtNHYtMmg2ek0yMiAxN2gtNnYtMmg0di00aDJ6TTIgNmgtMnYtNmg2djJoLTR6TTYgMTdoLTZ2LTZoMnY0aDR6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-128px -132px}.yui3-videoplayer-controls .size .full.on,.yui3-videoplayer-controls .size .full.on:hover,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full.on,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .size .full.on:hover{background-position:-130px -115px;width:22px;height:17px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAyMiAxNyIgd2lkdGg9IjIyIj48cGF0aCBmaWxsPSIjNUYzRkZGIiBkPSJNMjIgNmgtMnYtNGgtNHYtMmg2ek0yMiAxN2gtNnYtMmg0di00aDJ6TTIgNmgtMnYtNmg2djJoLTR6TTYgMTdoLTZ2LTZoMnY0aDR6Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-130px -115px}.yui3-videoplayer-controls .volume .mute span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute span{background-position:-151px -268px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjY2NjIj48cGF0aCBkPSJNMi4zNiA0LjE3NmgtMS44Mzh2My42NjhoMS44NTJsMy42NSAzLjY1NnYtMTFsLTMuNjY0IDMuNjd6TTcuNDMzIDMuNjg2bC0uNTUzIDEuMDg1di4wMjVjLjM0Ni4yODQuNTcyLjcwOC41NzIgMS4xOSAwIC40OC0uMjI3LjkwNC0uNTcyIDEuMTg4di4wMDRsLjU2IDEuMTAxYy43NDItLjQ5NCAxLjIzMi0xLjMzNiAxLjIzMi0yLjI5My4wMDEtLjk2My0uNDkxLTEuODA4LTEuMjM5LTIuM3pNMTEuNDc4IDUuOTg2YzAtMi4wNDctMS4xMjUtMy44MjgtMi43ODktNC43NjhsLS41NDUgMS4wN3YuMDI3YzEuMjYyLjczOCAyLjExMyAyLjEwNCAyLjExMyAzLjY3IDAgMS41NjQtLjg1MiAyLjkzLTIuMTEzIDMuNjY4di4wMDRsLjU1NSAxLjA4OGMxLjY1Ny0uOTM4IDIuNzc5LTIuNzE4IDIuNzc5LTQuNzU5eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-151px -268px}.yui3-videoplayer-controls .volume .mute:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute:hover span{background-position:-127px -253px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMi4zNiA0LjE3NmgtMS44Mzh2My42NjhoMS44NTJsMy42NSAzLjY1NnYtMTFsLTMuNjY0IDMuNjd6TTcuNDMzIDMuNjg2bC0uNTUzIDEuMDg1di4wMjVjLjM0Ni4yODQuNTcyLjcwOC41NzIgMS4xOSAwIC40OC0uMjI3LjkwNC0uNTcyIDEuMTg4di4wMDRsLjU2IDEuMTAxYy43NDItLjQ5NCAxLjIzMi0xLjMzNiAxLjIzMi0yLjI5My4wMDEtLjk2My0uNDkxLTEuODA4LTEuMjM5LTIuM3pNMTEuNDc4IDUuOTg2YzAtMi4wNDctMS4xMjUtMy44MjgtMi43ODktNC43NjhsLS41NDUgMS4wN3YuMDI3YzEuMjYyLjczOCAyLjExMyAyLjEwNCAyLjExMyAzLjY3IDAgMS41NjQtLjg1MiAyLjkzLTIuMTEzIDMuNjY4di4wMDRsLjU1NSAxLjA4OGMxLjY1Ny0uOTM4IDIuNzc5LTIuNzE4IDIuNzc5LTQuNzU5eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-127px -253px}.yui3-videoplayer-controls .volume .mute.on span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute.on span{background-position:-103px -253px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjNUYzRkZGIj48cGF0aCBkPSJNMi4zNDYgNC4xNjd2LjAwN2gtMS44Mzh2My42NjloMS44NWwzLjY1IDMuNjU1di00LjMwNmwtMy4yODMtMy40MDV6TTYuMDA4LjQ5OGwtMi4yMDMgMi4yMDkgMi4yMDMgMi4xNDF6TTcuNDExIDYuMjcybC45Ny45MThjLjE3OC0uMzY0LjI3OC0uNzc0LjI3OC0xLjIwOCAwLS45NjMtLjQ5NC0xLjgwOC0xLjI0LTIuM2wtLjU1NSAxLjA4NnYuMDI2Yy4zNDkuMjgyLjU3NC43MDYuNTc0IDEuMTg4bC0uMDI3LjI5ek0xMC4yNDMgNS45ODNjMCAuODk1LS4yNzggMS43MjUtLjc1MyAyLjQxMmwuODY5Ljg4M2MuNjkzLS45MTYgMS4xMDQtMi4wNTggMS4xMDQtMy4yOTQgMC0yLjA0Ny0xLjEyNS0zLjgyNy0yLjc4OS00Ljc2N2wtLjU0NSAxLjA3di4wMjZjMS4yNjIuNzM5IDIuMTE0IDIuMTA0IDIuMTE0IDMuNjd6TTExLjg2OCAxMS4xOTNsLTEwLjk1OS0xMC45OHMtLjMzMy0uNDM4LS44MzMgMGMwIDAtLjIwOC4zNTQuMTI1LjcwOGwxMC44OTcgMTAuODc2cy4zMTIuNDE2Ljc3MSAwYy0uMDAxIDAgLjI3LS4yOTEtLjAwMS0uNjA0eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-103px -253px}.yui3-videoplayer-controls .volume .mute.on:hover span,.ssl.yui3-videoplayer-content .yui3-videoplayer-controls .volume .mute.on:hover span{background-position:-115px -253px;width:12px;height:12px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMiAxMiIgd2lkdGg9IjEyIj48ZyBmaWxsPSIjZmZmIj48cGF0aCBkPSJNMi4zNDYgNC4xNjd2LjAwN2gtMS44Mzh2My42NjloMS44NWwzLjY1IDMuNjU1di00LjMwNmwtMy4yODMtMy40MDV6TTYuMDA4LjQ5OGwtMi4yMDMgMi4yMDkgMi4yMDMgMi4xNDF6TTcuNDExIDYuMjcybC45Ny45MThjLjE3OC0uMzY0LjI3OC0uNzc0LjI3OC0xLjIwOCAwLS45NjMtLjQ5NC0xLjgwOC0xLjI0LTIuM2wtLjU1NSAxLjA4NnYuMDI2Yy4zNDkuMjgyLjU3NC43MDYuNTc0IDEuMTg4bC0uMDI3LjI5ek0xMC4yNDMgNS45ODNjMCAuODk1LS4yNzggMS43MjUtLjc1MyAyLjQxMmwuODY5Ljg4M2MuNjkzLS45MTYgMS4xMDQtMi4wNTggMS4xMDQtMy4yOTQgMC0yLjA0Ny0xLjEyNS0zLjgyNy0yLjc4OS00Ljc2N2wtLjU0NSAxLjA3di4wMjZjMS4yNjIuNzM5IDIuMTE0IDIuMTA0IDIuMTE0IDMuNjd6TTExLjg2OCAxMS4xOTNsLTEwLjk1OS0xMC45OHMtLjMzMy0uNDM4LS44MzMgMGMwIDAtLjIwOC4zNTQuMTI1LjcwOGwxMC44OTcgMTAuODc2cy4zMTIuNDE2Ljc3MSAwYy0uMDAxIDAgLjI3LS4yOTEtLjAwMS0uNjA0eiIvPjwvZz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-115px -253px}.yui3-videoplayer-startscreen-button,.ssl.yui3-videoplayer-content .yui3-videoplayer-startscreen-button{background:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGhlaWdodD0iNTRweCIgdmlld0JveD0iMCAwIDc2IDU0IiB3aWR0aD0iNzZweCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDc2IDU0Ij4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjUxLjExNiAyNy42MzcgMzEgMzguNTIyIDMxIDE2Ljc1IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo=');background-repeat:no-repeat;background-color:#324fe1;background-position:50% 50%;border-radius:7px;height:60px;left:50%;position:absolute;margin-left:-42px;margin-top:-30px;top:50%;width:85px;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIBJREFUeNpiPHPmzH4GBoYHQNxoYmIConECJiidAMTngRobgFiAkGIQACmqB+L7IE2EFKNoAmoAaUogpBgGFIB4PlADyHkOhBTDgAEQ7wc5jYUIxReAuBAYUgfwKYYF5wKYADbFH6CKJqBLsKApmgjEE4AKP2CzCqZ4ATExCBBgACJTMAloE9JCAAAAAElFTkSuQmCC');*background-image:url('http://l.yimg.com/rx/builds/4.15.0.1397589605/assets/play.png');background-image:url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIGhlaWdodD0iNTRweCIgdmlld0JveD0iMCAwIDc2IDU0IiB3aWR0aD0iNzZweCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDc2IDU0Ij4KICAgICAgICA8cG9seWdvbiBwb2ludHM9IjUxLjExNiAyNy42MzcgMzEgMzguNTIyIDMxIDE2Ljc1IiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo='),none}.ssl.yui3-videoplayer-content .yui3-videoplayer-startscreen-button{*background-image:url('https://s.yimg.com/rx/builds/4.15.0.1397589605/assets/play.png')}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-button{background-size:40px 28px;width:45px;height:30px;margin-left:-22px;margin-top:-15px}.yui3-videoplayer-content.medium .yui3-videoplayer-startscreen-button{background-size:59px 50px;width:65px;height:45px;margin-left:-32px;margin-top:-22px}.yui3-videoplayer-controls .accessibility-cc-icon{background-position:-79px -268px;width:36px;height:24px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDM2IDI0Ij48cGF0aCBmaWxsPSIjQ0RDQ0NDIiBkPSJNMzYgMjJjMCAxLjEwNC0uODk1IDItMiAyaC0zMmMtMS4xMDQgMC0yLS44OTYtMi0ydi0yMGMwLTEuMTA0Ljg5Ni0yIDItMmgzMmMxLjEwNSAwIDIgLjg5NiAyIDJ2MjB6Ii8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTYuNjEyIDYuNjc5aDIzLjQxMnYxMC44NDdoLTIzLjQxMnoiLz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2LjYxMiAxNi42NzUpIiBmb250LWZhbWlseT0iJ0hlbHZldGljYSBOZXVlJyxoZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZvbnQtc2l6ZT0iMTQiPjx0c3BhbiB4PSIwIiB5PSIwIiBmaWxsPSIjZmZmIiBsZXR0ZXItc3BhY2luZz0iMSI+QzwvdHNwYW4+PHRzcGFuIHg9IjEyLjMzMyIgeT0iMCIgZmlsbD0iI2ZmZiI+QzwvdHNwYW4+PC90ZXh0Pjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-79px -268px}.yui3-videoplayer-controls .accessibility-cc-icon:hover{background-position:-115px -268px;width:36px;height:24px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDM2IDI0Ij48cGF0aCBmaWxsPSIjRkNGREZDIiBkPSJNMzYgMjJjMCAxLjEwNC0uODk1IDItMiAyaC0zMmMtMS4xMDQgMC0yLS44OTYtMi0ydi0yMGMwLTEuMTA0Ljg5Ni0yIDItMmgzMmMxLjEwNSAwIDIgLjg5NiAyIDJ2MjB6Ii8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTYuNjEyIDYuNjc5aDIzLjQxMnYxMC44NDdoLTIzLjQxMnoiLz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2LjYxMiAxNi42NzUpIiBmb250LWZhbWlseT0iJ0hlbHZldGljYSBOZXVlJyxoZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZvbnQtc2l6ZT0iMTQiPjx0c3BhbiB4PSIwIiB5PSIwIiBmaWxsPSIjNzM3MzczIiBsZXR0ZXItc3BhY2luZz0iMSI+QzwvdHNwYW4+PHRzcGFuIHg9IjEyLjMzMyIgeT0iMCIgZmlsbD0iIzczNzM3MyI+QzwvdHNwYW4+PC90ZXh0Pjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-115px -268px}.yui3-videoplayer-ccoptions-container .effect-depressed{background-position:-40px -253px;width:38px;height:38px;*background-position:-40px -253px}.yui3-videoplayer-ccoptions-container .effect-dropshadow{background-position:-81px -213px;width:38px;height:38px;*background-position:-81px -213px}.yui3-videoplayer-ccoptions-container .effect-none{background-position:-41px -170px;width:38px;height:38px;*background-position:-41px -170px}.yui3-videoplayer-ccoptions-container .effect-raised{background-position:-81px -173px;width:38px;height:38px;*background-position:-81px -173px}.yui3-videoplayer-ccoptions-container .effect-uniform{background-position:-41px -210px;width:38px;height:38px;*background-position:-41px -210px}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back{background-position:-120px -122px;width:8px;height:14px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjE0IiB2aWV3Qm94PSIwIDAgOCAxNCI+PHBhdGggZmlsbD0iI2NjYyIgZD0iTTcuOTgzIDExLjMxNGwtNC45MzEtNC4zMTYgNC45MzMtNC4zMTYuMDE1LTIuNjgyLTggNi45OTYgNy45OTkgNy4wMDQiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-120px -122px}.yui3-videoplayer-uiwidget-selector .dropdownicon{background-position:0 -242px;width:11px;height:6px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMSIgaGVpZ2h0PSI1LjUiIHZpZXdCb3g9IjAgMCAxMSA1LjUiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik04Ljg5LS4wMDhsLTMuMzkzIDMuMzg5LTMuMzkxLTMuMzkxLTIuMTA2LS4wMSA1LjQ5NyA1LjUgNS41MDMtNS41Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:0 -242px}.yui3-videoplayer-ccoptions-container .settingnode-content .fwd-icon{background-position:-120px -136px;width:6px;height:11px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1LjUiIGhlaWdodD0iMTEiIHZpZXdCb3g9IjAgMCA1LjUgMTEiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0uMDA2IDIuMTAzbDMuMzk5IDMuNC0zLjQwMSAzLjM5OC0uMDA5IDIuMTEyIDUuNTExLTUuNTEtNS41MTEtNS41MTYiLz48L3N2Zz4=);background-position:0 0,0 0;*background-position:-120px -136px}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close{background-position:-158px 0;width:13px;height:13px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDEzIDEzIj48cGF0aCBmaWxsPSIjY2NjIiBkPSJNMi40OTIgMTIuOTg0bDQuMDEtNC45MjMgNC4wMDggNC45MjUgMi40OS4wMTQtNi40OTgtNy45ODgtNi41MDIgNy45ODhNMTAuNTA3LjAxN2wtNC4wMDkgNC45MjQtNC4wMDgtNC45MjctMi40OS0uMDE0IDYuNDk4IDcuOTg4IDYuNTAyLTcuOTg4Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-158px 0}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close:hover{background-position:-158px -13px;width:13px;height:13px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDEzIDEzIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMi40OTIgMTIuOTg0bDQuMDEtNC45MjMgNC4wMDggNC45MjUgMi40OS4wMTQtNi40OTgtNy45ODgtNi41MDIgNy45ODhNMTAuNTA3LjAxN2wtNC4wMDkgNC45MjQtNC4wMDgtNC45MjctMi40OS0uMDE0IDYuNDk4IDcuOTg4IDYuNTAyLTcuOTg4Ii8+PC9zdmc+);background-position:0 0,0 0;*background-position:-158px -13px}.yui3-videoplayer-uiwidget-colorpicker .color-option.nocolor{background-position:-154px -50px;width:18px;height:18px;background-image:none,url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9Ii0xIC0xIDE4IDE4IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IC0xIC0xIDE4IDE4Ij48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTS0uOTc4LS45NzhoMTcuOTU1djE3Ljk1NWgtMTcuOTU1eiIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9ImIiPjx1c2UgeGxpbms6aHJlZj0iI2EiIG92ZXJmbG93PSJ2aXNpYmxlIi8+PC9jbGlwUGF0aD48ZyBjbGlwLXBhdGg9InVybCgjYikiPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0tLjk3OCAxNi45NzhsMTcuOTU2LTE3Ljk1NiIvPjxwYXRoIGZpbGw9IiNGQzA2MDYiIGQ9Ik0tLjU4MSAxNy4zNzRsLS43OTMtLjc5MyAxNy45NTUtMTcuOTU1Ljc5My43OTN6Ii8+PC9nPjwvc3ZnPg==);background-position:0 0,0 0;*background-position:-154px -50px}.yui3-videoplayer-content{position:relative;width:100%;height:100%;overflow:hidden;font-family:Helvetica Neue Regular,Helvetica Neue,helvetica,arial,sans-serif;font-size:16px;cursor:default;background-color:black}.yui3-videoplayer-content:-webkit-full-screen{width:100%!important;height:100%!important}.yui3-videoplayer-content h3,.yui3-videoplayer-content p,.yui3-videoplayer-content label,.yui3-videoplayer-content span,.yui3-videoplayer-content input{margin:0}.yui3-videoplayer-content h2:focus,.yui3-videoplayer-content h3:focus,.yui3-videoplayer-content h4:focus{outline:0}.yui3-videoplayer-yvap{position:absolute;top:0;left:0;width:100%;height:100%}.yui3-videoplayer-content a{color:#6cc5fd}.yui3-videoplayer-content a:hover{color:white}.yui3-videoplayer-content input:focus{outline:0}.yui3-videoplayer-video{position:absolute;width:100%;height:100%;top:0;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-video>video{margin:auto;position:absolute;top:0;right:0;bottom:0;left:0}.yui3-videoplayer-loading{position:absolute;top:50%;left:50%;margin-top:-40px;margin-left:-40px;-moz-opacity:.30;opacity:.30;filter:alpha(opacity=30);-webkit-animation:yui3-videoplayer-spinner .6s infinite linear;-moz-animation:yui3-videoplayer-spinner .6s infinite linear}@-webkit-keyframes yui3-videoplayer-spinner{from{-webkit-transform:rotateZ(0deg)}to{-webkit-transform:rotateZ(360deg)}}@-moz-keyframes yui3-videoplayer-spinner{from{-moz-transform:rotateZ(0deg)}to{-moz-transform:rotateZ(360deg)}}.yui3-videoplayer-content.ie .yui3-videoplayer-loading{margin-left:-13px;margin-top:-13px}.yui3-videoplayer-main{width:100%;position:relative}.yui3-videoplayer-startscreen-container{width:100%;height:100%;background-color:black;position:absolute;cursor:pointer}.yui3-videoplayer-startscreen-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-startscreen-container h3{font-size:1.3em;font-weight:bold;margin-bottom:5px}.yui3-videoplayer-startscreen-container h4{font-size:1.1em;font-weight:normal;margin-bottom:5px}.yui3-videoplayer-startscreen-desc{-webkit-font-smoothing:antialiased;font-weight:200}.small .yui3-videoplayer-startscreen-container p{font-size:82%}.medium .yui3-videoplayer-startscreen-container h3{font-size:100%}.small .yui3-videoplayer-startscreen-container h4{font-size:85%}.small .yui3-videoplayer-startscreen-container h3,.medium .yui3-videoplayer-startscreen-container h4{font-size:91%}.small .yui3-videoplayer-startscreen-container h3,.small .yui3-videoplayer-startscreen-container h4,.medium .yui3-videoplayer-startscreen-container h3,.medium .yui3-videoplayer-startscreen-container h4{margin-bottom:3px}.yui3-videoplayer-startscreen-container .yui3-videoplayer-startscreen-desc{font-size:85%;letter-spacing:.07em}.small .yui3-videoplayer-startscreen-container .yui3-videoplayer-startscreen-desc{display:none}.yui3-videoplayer-startscreen-bar-wrapper{position:absolute;top:0;left:0;height:100%;width:100%}.yui3-videoplayer-startscreen-bar{background-color:transparent;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-startscreen-container:hover .yui3-videoplayer-startscreen-bar{background-color:rgba(0,0,0,.4)}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-startscreen-bar-wrapper{background:black}.yui3-videoplayer-transition{-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-startscreen-bar{position:absolute;width:100%;height:100%;padding:0;min-height:75px}.yui3-videoplayer-startscreen-bar-right{position:absolute;width:100%;bottom:0;padding:12px;background-image:-webkit-gradient(linear,50% 0,50% 100%,color-stop(0%,transparent),color-stop(100%,rgba(0,0,0,0.7)));background-image:-webkit-linear-gradient(top,transparent,rgba(0,0,0,0.7));background-image:-moz-linear-gradient(top,transparent,rgba(0,0,0,0.7));background-image:-o-linear-gradient(top,transparent,rgba(0,0,0,0.7));background-image:linear-gradient(top,transparent,rgba(0,0,0,0.7));display:-webkit-box;display:-moz-box;display:box;-webkit-box-align:bottom;-moz-box-align:bottom;box-align:bottom;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.yui3-videoplayer-startscreen-image{height:auto;width:100%;display:block}.yui3-videoplayer-startscreen-title-wrapper{color:#fff;max-height:95px;overflow:hidden;text-shadow:#000 0 1px 3px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-title-wrapper{min-height:35px;max-height:60px}.yui3-videoplayer-content.medium .yui3-videoplayer-startscreen-title-wrapper{max-height:70px}.yui3-videoplayer-startscreen-container:hover{background-color:rgba(0,0,0,.4)}.yui3-videoplayer-errorscreen-container{width:100%;position:relative;display:block;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);font-family:HelveticaNeue,Helvetica,Arial,sans-serif;height:100%;background-color:black}.yui3-videoplayer-errorscreen-container.show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-wrapper{position:absolute;background-color:#000;display:block;vertical-align:middle;top:15%;color:#eee;margin-left:13%;margin-right:2%}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-title{margin-top:10px;line-height:1.2;font-size:20px}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-title{line-height:1;font-size:12px}.yui3-videoplayer-errorscreen-sub-desc-try{color:#5eb2e8;cursor:pointer;text-decoration:none}.yui3-videoplayer-errorscreen-sub-desc-try:hover{text-decoration:underline}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-type-code{text-align:center;color:#626262;font-size:12px;font-weight:lighter;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;bottom:15px;right:22px;position:absolute;padding:3px;background-color:black}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-download-flash-title{display:inline-block;*display:inline;zoom:1;font-size:16px;font-weight:normal}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-download-flash-button{display:inline-block;*display:inline;zoom:1;margin-top:5%}.yui3-videoplayer-errorscreen-image{display:inline-block}.yui3-videoplayer-infoscreen-container{width:100%;height:100%;position:absolute;color:white;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-infoscreen-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-infoscreen-tint{width:100%;height:100%;position:absolute;background-color:black}.yui3-videoplayer-infoscreen-top{position:absolute;width:100%}.yui3-videoplayer-infoscreen-left{display:inline-block;margin-left:15px;zoom:1;*display:inline}.yui3-videoplayer-infoscreen-right{display:inline-block;vertical-align:top;margin-left:15px;zoom:1;*display:inline}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-now-playing{margin-left:15px;margin-top:10px;padding-bottom:5px;font-weight:bold;font-size:.9em}.yui3-videoplayer-infoscreen-title{overflow:hidden}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-title{font-size:.8em}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-desc{font-size:.75em;color:#aaa;margin-top:5px;overflow:hidden}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-desc{font-size:.6em}.yui3-videoplayer-infoscreen-image-link{position:relative;border:3px solid #61cbff;display:block;cursor:pointer}.yui3-videoplayer-infoscreen-image{position:relative;background-color:black;display:block}.yui3-videoplayer-infoscreen-share{margin-top:7px;border-spacing:3px;width:100%}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-share{display:none}.yui3-videoplayer-infoscreen-share td{font-size:12px;white-space:pre;padding-top:3px}.yui3-videoplayer-infoscreen-link-text-box-td,.yui3-videoplayer-infoscreen-embed-text-box-td{width:100%;padding-left:3px}.yui3-videoplayer-infoscreen-link-text-box,.yui3-videoplayer-infoscreen-embed-text-box{background-color:black;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border-bottom:1px solid #333;border-right:1px solid #333;border-top:0;border-left:0;padding:2px 5px;width:100%;color:#aaa;font-size:11px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .5s,color .5s;-moz-transition:background-color .5s,color .5s;-o-transition:background-color .5s,color .5s;transition:background-color .5s,color .5s}.yui3-videoplayer-infoscreen-link-text-box:hover,.yui3-videoplayer-infoscreen-embed-text-box:hover{background-color:#222;color:#ccc}.yui3-videoplayer-infoscreen-link-text-box::-moz-selection,.yui3-videoplayer-infoscreen-embed-text-box::-moz-selection{color:black!important;background:#6cc5fd!important}.yui3-videoplayer-infoscreen-link-text-box::selection,.yui3-videoplayer-infoscreen-embed-text-box::selection{color:black!important;background:#6cc5fd!important}.yui3-videoplayer-infoscreen-fb-link{margin-top:5px;display:inline-block;text-decoration:none}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-fb-link{display:none}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-fb-share{padding:0;margin-top:3px;vertical-align:top;display:inline-block;font-size:12px;color:white;margin-left:5px}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-infoscreen-fb-share{background-color:black}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-closed-captions-complaint-link{text-align:center;color:#20bcfa;font-size:12px;font-weight:bold;margin-top:3px;position:absolute;right:0;bottom:0;padding:5px;background-color:black;text-decoration:none}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-container p{padding:0 15px}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-profile-log-link{position:absolute;right:20px;bottom:8px;color:#aaa;font-size:12px;font-weight:bold;cursor:pointer;font-style:italic}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-profile-log-link:hover{color:#aaa}.yui3-videoplayer-detailscreen-container{position:absolute;color:white;right:-300px;z-index:9998;top:5px;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out;transition:all .5s ease-out;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-detailscreen-container.yui3-videoplayer-show{right:5px;-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-detailscreen-wrapper{width:inherit;position:relative;vertical-align:middle;text-align:right;font-family:monospace}.yui3-videoplayer-detailscreen-table-wrapper{display:inline-block;text-align:center;overflow-y:auto;overflow-x:hidden;height:200px;background:#000;background:rgba(0,0,0,0.6);border-radius:4px 0 0 4px;padding:0 10px 6px 10px;width:300px;border:2px solid white;position:relative;-webkit-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);-moz-box-shadow:0 0 8px 2px rgba(0,0,0,0.3)}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-detailscreen-table-wrapper{background:black}.yui3-videoplayer-detailscreen-details-table{float:right}.yui3-videoplayer-detailscreen-details-table td.title{font-size:10px;text-align:left;color:#61cbff;text-align:center;padding:5px 0 3px 0}.yui3-videoplayer-detailscreen-details-table td{border:0}.yui3-videoplayer-detailscreen-details-table td.label{color:white;font-size:10px;text-align:right;white-space:pre}.yui3-videoplayer-detailscreen-details-table td.value{color:#ccc;font-size:10px;text-align:left;padding-left:5px}.yui3-videoplayer-detailscreen-details-table-body canvas{cursor:pointer}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-container .close{position:absolute;top:5px;right:20px;text-align:center}.yui3-videoplayer-ccoptions-container h2,.yui3-videoplayer-ccoptions-container ul{margin:0}.yui3-videoplayer-ccoptions-container{position:absolute;top:0;width:100%;max-width:960px;text-align:center;background-color:black;height:145px;z-index:10;left:0;right:0;margin:0 auto;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;-moz-opacity:0;opacity:0;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yui3-videoplayer-ccoptions-container.cc-show{-moz-opacity:1;opacity:1}.yui3-videoplayer-ccoptions-header{width:100%;height:39px}.yui3-videoplayer-ccoptions-title{position:relative;color:#fff;font:18px Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:normal;text-align:center}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-back{position:absolute;top:0;left:2%;outline:0;cursor:pointer;padding:0;border:0}.yui3-videoplayer-ccoptions-container .yui3-videoplayer-ccoptions-close{position:absolute;top:0;right:2%;cursor:pointer;border:0;padding:0;outline:0}.yui3-videoplayer-ccoptions-header .yui3-videoplayer-ccoptions-title,.yui3-videoplayer-ccoptions-header .yui3-videoplayer-ccoptions-back,.yui3-videoplayer-ccoptions-header .yui3-videoplayer-ccoptions-close{top:15px}.yui3-videoplayer-ccoptions-content{width:100%;padding-top:10px}.yui3-videoplayer-ccoptions-settingswrapper{width:100%;height:100%;*position:relative;*display:inline-block}.yui3-videoplayer-ccoptions-settingswrapper.hidden{display:none}.yui3-videoplayer-ccoptions-settingnode-small{float:left;border-right:2px solid #5f5f5f;display:inline-block;height:87px;width:33%}.yui3-videoplayer-content.ie8 .yui3-videoplayer-ccoptions-settingnode-small{border-right:0;border-left:2px solid #5f5f5f}.yui3-videoplayer-content.ie8 .yui3-videoplayer-ccoptions-settingnode-small:first-child{border-left:none}.yui3-videoplayer-ccoptions-settingnode-small:last-child{border-right:0}.yui3-videoplayer-ccoptions-settingnode-small .node-title{color:#ccc;font:16px Helvetica Neue,Helvetica,Arial,sans-serif}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content{padding-top:20px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content.size-selector{padding-top:40px;width:90%;margin:0 auto}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content.style-link-box{padding-top:25px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-node{width:100%;margin:0 auto;height:36px;position:relative}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .current-style{border:1px solid #646464;display:inline-block;color:#ccc;width:33%;max-width:55px;font-size:1.5em;height:36px;line-height:36px;*position:absolute;*left:25px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-btn{color:#ccc;background-color:transparent;outline:0;border:0;font-size:13px;position:relative;*margin-left:60px;*margin-top:10px;*width:67%}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-btn .fwd-icon{display:inline-block;margin-left:7px;position:relative;top:1px}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .style-btn:hover{color:#fff}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .sizetexts{margin:0 auto 10px auto;padding-bottom:10px;position:relative}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .sizetexts .right{position:absolute;right:1.5%;bottom:0;font-size:28px;display:block;background-color:transparent;color:#ccc;font-weight:bold}.yui3-videoplayer-ccoptions-settingnode-small .settingnode-content .sizetexts .left{position:absolute;left:2.5%;bottom:0;font-size:14px;display:block;background-color:transparent;color:#ccc;font-weight:bold}.yui3-videoplayer-ccoptions-container .availblity-icon{display:inline-block;background-color:#3db224;width:6px;height:6px;border-radius:8px;position:relative;top:-9px;left:3px;*display:inline;*zoom:1}.yui3-videoplayer-ccoptions-container .availblity-icon.unavailable{background-color:#ccc}.yui3-videoplayer-ccoptions-presets{float:left;width:33.33%;height:87px;padding:0 2%;border-right:2px solid #5f5f5f;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*position:absolute;*left:0;*padding:0 1%}.yui3-videoplayer-ccoptions-presets .preset-container{width:100%;height:100%;*position:relative;*display:inline-block}.yui3-videoplayer-ccoptions-presets .preset{float:left;padding:5px;width:29%;margin-left:6.5%;height:46%;border:2px solid #5f5f5f;font-size:1.3em;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*padding:0;*margin-left:3%;*height:42%}.yui3-videoplayer-ccoptions-presets .preset.first-in-row{margin-left:0}.yui3-videoplayer-ccoptions-presets .preset:hover{border-color:#5f32fb}.yui3-videoplayer-ccoptions-presets .separator{clear:both;width:100%;height:7%}.yui3-videoplayer-ccoptions-styleconfig{float:right;width:66.67%;padding:0 2%;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*width:62%;*padding:0;*margin-right:8px}.yui3-videoplayer-ccoptions-styleconfig .fontselector{display:inline-block;width:auto;position:absolute;right:98px;left:2%;margin-right:3%;*right:105px}.yui3-videoplayer-ccoptions-styleconfig .fontcolorpicker{display:inline-block;width:96px;padding:0 0 0 2%;float:right;*margin-top:-1px;*margin-right:2px;*padding:0 2px 2px 0}.yui3-videoplayer-ccoptions-styleconfig .fontopacityselector{display:inline-block;width:21%}.yui3-videoplayer-ccoptions-styleconfig .fontbgcolorpicker{display:inline-block;width:144px;padding-right:3%;float:left;*margin:0 0 0 2px;*padding:0 1% 1% 0}.yui3-videoplayer-ccoptions-styleconfig .font-bg-opacityselector{display:inline-block;width:auto;position:absolute;left:146px;right:2%;margin-left:3%}.yui3-videoplayer-ccoptions-styleconfig .effect-picker{display:block;width:100%;height:100%}.yui3-videoplayer-ccoptions-styleconfig .effect{display:inline-block;width:17%;background-color:#898989;border:2px solid #a2a2a2;height:38px;margin-left:3%;position:relative;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;*float:left;*margin-left:1%;*margin-right:1%;*width:16%}.yui3-videoplayer-ccoptions-styleconfig .effect.selected{border-color:#5f32fb}.yui3-videoplayer-ccoptions-styleconfig .effect:first-child{margin-left:0}.yui3-videoplayer-ccoptions-styleconfig .effect .preview-icon{bottom:0;right:0;left:0;position:absolute;margin:auto}.yui3-videoplayer-ccoptions-container .effect .tooltip{display:none;position:absolute;top:-60px;z-index:5;left:-1000px;right:-1000px;pointer-events:none;*top:-35px}.yui3-videoplayer-ccoptions-styleconfig .effect:hover .tooltip{display:block}.yui3-videoplayer-ccoptions-container .tooltip-content{display:inline-block;background-color:#5f32fb;height:23px;padding:10px 8px;white-space:nowrap;text-align:center;pointer-events:none;*display:inline}.yui3-videoplayer-ccoptions-container .tooltip-content:after{content:'';display:block;position:absolute;width:0;height:0;left:0;right:0;margin:0 auto;bottom:-14px;border-style:solid;border-width:14px 10px 0 10px;border-color:#5e32fb transparent transparent transparent}.yui3-videoplayer-hotkeyoverlay-title{font-size:1.2em;color:#6cc5fd}.yui3-videoplayer-hotkeyoverlay-container{position:absolute;width:100%;text-align:center;top:50%;margin-top:-110px;z-index:9999;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-hotkeyoverlay-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-hotkeyoverlay-table{margin-top:10px}.yui3-videoplayer-hotkeyoverlay-table td{padding:1px}.yui3-videoplayer-hotkeyoverlay-table td.label{color:#6cc5fd;padding-right:10px}.yui3-videoplayer-hotkeyoverlay-table td.value{font-style:italic}.yui3-videoplayer-hotkeyoverlay-table-wrapper{display:inline-block;background:#000;background:rgba(0,0,0,0.8);padding:30px;color:white;border-radius:4px;border:2px solid white;position:relative;-webkit-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);-moz-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);zoom:1;*display:inline}.yui3-videoplayer-content.lt-ie8 .yui3-videoplayer-hotkeyoverlay-table-wrapper{background:black}.yui3-videoplayer-uiwidget-slider{margin:0 auto 0 auto;width:90%;color:#ccc;background-color:#000}.yui3-videoplayer-uiwidget-slider .track{display:block;height:0;width:100%;border-top:1px solid #646464;border-bottom:1px solid #646464;position:relative}.yui3-videoplayer-uiwidget-slider .track .hitzone{width:100%;height:14px;position:relative;top:-7px;margin:0 auto}.yui3-videoplayer-uiwidget-slider .mark{position:absolute;display:block;border-radius:1px;background-color:#fff;height:2px;width:4px;margin-top:-1px;margin-left:-2px}.yui3-videoplayer-uiwidget-slider .thumb{position:absolute;display:inline-block;background-color:#ccc;border-radius:8px;height:8px;width:8px;margin-top:-4px;margin-left:-4px;background-color:#fff;z-index:3;border:0 solid #fff;-webkit-transition:all .28s linear;-moz-transition:all .28s linear;-o-transition:all .28s linear;transition:all .28s linear}.yui3-videoplayer-uiwidget-slider .track.drag .thumb{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.yui3-videoplayer-uiwidget-slider .track.drag .thumb,.yui3-videoplayer-uiwidget-slider .thumb:hover{background-color:#5f33ff;border-width:4px;border-radius:10px;width:10px;height:10px;margin-left:-9px;margin-top:-9px}.yui3-videoplayer-uiwidget-selector{margin-left:auto;margin-right:auto;padding:0;width:90%;color:#ccc}.yui3-videoplayer-uiwidget-selector .yep-uiselector-wrapper{border:0;position:relative;border:2px solid #5f5f5f;background-color:black;height:40px;*width:100%}.yui3-videoplayer-uiwidget-selector.open .yep-uiselector-wrapper{border:2px solid #5f32fb;cursor:pointer}.yui3-videoplayer-uiwidget-selector .yep-uiselector-wrapper .yep-uiselector-selection{float:left;display:inline-block;color:#fff;white-space:nowrap;padding-right:17px;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;*width:auto;*margin-right:7px}.yui3-videoplayer-uiwidget-selector .yep-uiselector-selection.yep-uiselector-disabled{color:#ccc}.yui3-videoplayer-uiwidget-selector .yep-uiselector-wrapper .yep-uiselector-selection,.yui3-videoplayer-uiwidget-selector li.yep-uiselector-listitem{text-align:left;padding-left:5px;overflow:hidden;text-overflow:ellipsis;height:40px;line-height:40px}.yui3-videoplayer-uiwidget-selector .dropdownicon-bg{height:100%;width:17px;background-color:inherit;position:absolute;right:0;*height:6px;*width:11px;*right:4px;*top:17px}.yui3-videoplayer-uiwidget-selector .dropdownicon{position:absolute;top:0;bottom:0;margin:auto 0}.yui3-videoplayer-uiwidget-selector ul.yep-uiselector-listbox{max-height:120px;display:none;padding:5px 0;background-color:black;opacity:.9;min-width:100%;overflow-x:hidden;overflow-y:auto;*overflow-y:scroll;padding-right:5px;border:2px solid #636363;border-top:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;*padding-right:0;*position:relative}.yui3-videoplayer-uiwidget-selector ul.yep-uiselector-listbox::-webkit-scrollbar{width:5px}.yui3-videoplayer-uiwidget-selector ul.yep-uiselector-listbox::-webkit-scrollbar-thumb{border-radius:8px;background-color:#959595}.yui3-videoplayer-uiwidget-selector.open ul.yep-uiselector-listbox{display:inline-block}.yui3-videoplayer-uiwidget-selector li.yep-uiselector-listitem{list-style-type:none;white-space:nowrap;display:block;outline:0;position:relative;width:100%}.yui3-videoplayer-uiwidget-tab{margin-left:auto;margin-right:auto;padding:0;width:100%;color:#ccc;border:1px solid #606060}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav{width:100%;padding-bottom:0;margin-bottom:0;height:27px;display:block;background-color:transparent;text-align:center;overflow:hidden;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;*padding-right:2px}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav .yep-uitab{display:block;float:left;margin:0;padding:0;border-right:1px solid #606060;background-color:#222;height:27px;line-height:27px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav .yep-uitab:last-child{border-right:0}.yui3-videoplayer-uiwidget-tab .yep-uitabs-nav .yep-uitab.selected{background-color:#e8e8e8;border-bottom:1px solid #e8e8e8;color:#000}.yui3-videoplayer-uiwidget-tab .tabs-content .tabcontent{display:none;background-color:#e8e8e8;padding:9px 2%;height:40px;position:relative;*width:100%;*padding-right:0;*padding-left:1px}.yui3-videoplayer-uiwidget-tab .tabs-content .tabcontent.tab-show{display:block}.yui3-videoplayer-uiwidget-colorpicker{margin-left:auto;margin-right:auto;padding:0;width:100%;margin-left:-4px;margin-top:1px}.yui3-videoplayer-uiwidget-colorpicker .color-option{border:1px solid #8b8b8b;width:18px;height:18px;display:inline-block;margin-left:4px;margin-top:-1px;*float:left;*margin-top:2px}.yui3-videoplayer-uiwidget-colorpicker .color-option.selected{border:2px solid #5f32fb;margin:-2px -1px -1px 3px;*margin:1px -1px -1px 3px}.yui3-videoplayer-endscreen-container{position:relative;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);background-color:#000;height:100%;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;color:#fff;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.yui3-videoplayer-endscreen-container.show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-button,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-button{left:50%;top:50%;position:absolute;margin-left:-20px;margin-top:-26px;background-color:transparent;border:0;cursor:pointer;outline:0}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-text,.yui3-videoplayer-endscreen-carousel-node .overlay .replay-text{font-size:13px;overflow:hidden;position:absolute;bottom:24px;left:82px;color:white}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node .overlay .replay-text,.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay .replay-text{bottom:10px;left:56px}.yui3-videoplayer-controls{font:12px Helvetica Neue,Helvetica,Arial,sans-serif;line-height:13px;color:#fff;font-weight:lighter;direction:ltr}.yui3-videoplayer-controls,.yui3-videoplayer-drag *{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.yui3-videoplayer-controls.hide,.yui3-videoplayer-controls .disable{display:none}.yui3-videoplayer-controls .ie-gradient{position:absolute;bottom:-18px;width:100%;height:36px;z-index:1;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#99000000',GradientType=0)}.yui3-videoplayer-controls.show .ie-gradient{bottom:0}.yui3-videoplayer-controls .accessibility-cc-icon{position:absolute;left:15px;top:15px;z-index:2;-moz-opacity:0;opacity:0;-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.yui3-videoplayer-controls.show .accessibility-cc-icon{-moz-opacity:1;opacity:1}.lt-ie9 .yui3-videoplayer-controls .accessibility-cc-icon,.lt-ie9 .yui3-videoplayer-controls .accessibility-cc-icon.disable{display:none}.lt-ie9 .yui3-videoplayer-controls.show .accessibility-cc-icon{display:block}.lt-ie9 .yui3-videoplayer-controls.show .accessibility-cc-icon.disable{display:none}.yui3-videoplayer-controls .bar{position:absolute;bottom:-3px;width:100%;height:36px;z-index:2;-moz-opacity:0;opacity:0;background:-webkit-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-o-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-ms-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);-webkit-transition:opacity .2s ease-in-out,bottom .2s ease-in-out;-moz-transition:opacity .2s ease-in-out,bottom .2s ease-in-out;-o-transition:opacity .2s ease-in-out,bottom .2s ease-in-out;transition:opacity .2s ease-in-out,bottom .2s ease-in-out}.yui3-videoplayer-controls.show .bar{bottom:0;-moz-opacity:1;opacity:1}.yui3-videoplayer-controls .item{height:36px;cursor:pointer}.yui3-videoplayer-controls button{border:0;padding:0;cursor:pointer;outline:0}.yui3-videoplayer-controls button.disable{cursor:default}.yui3-videoplayer-controls .main,.yui3-videoplayer-controls .aux{height:36px}.yui3-videoplayer-controls .aux .item{margin:8px 18px 0 12px}.yui3-videoplayer-controls .main{position:absolute;bottom:0;left:0}.yui3-videoplayer-controls .play-pause{width:40px;*float:left}.yui3-videoplayer-controls .play-pause span{display:block;margin-top:-1px;margin-left:16px;*margin-left:5px}.yui3-videoplayer-controls .seek{position:relative;margin:0 56px 0 44px;cursor:pointer;height:9px;border-top:13px solid transparent;border-bottom:14px solid transparent}.yui3-videoplayer-controls .seek.disable-drag{cursor:default}.yui3-videoplayer-controls .seek .slider,.yui3-videoplayer-controls .seek .buffer,.yui3-videoplayer-controls .seek .progress,.yui3-videoplayer-controls .seek .handle{height:7px;border-radius:4px}.yui3-videoplayer-controls .seek .slider{width:100%;position:relative;background:#000;background:rgba(0,0,0,0.4);*background-color:#000;filter:alpha(opacity=40);*filter:none;border:1px solid #555;border-color:rgba(255,255,255,0.1)}.yui3-videoplayer-controls .seek .buffer{width:0;background:#371f83;background:rgba(95,51,255,0.5);*background-color:#371f83;-webkit-transition:width .28s linear;-moz-transition:width .28s linear;-o-transition:width .28s linear;transition:width .28s linear}.yui3-videoplayer-controls .seek .progress{width:0;position:absolute;top:0;background:#5f33ff;-webkit-transition:width .28s linear;-moz-transition:width .28s linear;-o-transition:width .28s linear;transition:width .28s linear}.yui3-videoplayer-controls .seek .handle,.yui3-videoplayer-controls .seek.disable-drag .handle:hover{width:7px;height:7px;position:absolute;top:0;margin-left:-4px;margin-top:0;background:#fff;border:0 solid #fff;z-index:3;-webkit-transition:all .28s linear;-moz-transition:all .28s linear;-o-transition:all .28s linear;transition:all .28s linear}.yui3-videoplayer-controls .seek.drag .handle,.yui3-videoplayer-controls .seek .handle:hover{border-width:4px;border-radius:9px;background-color:#5f33ff;width:9px;height:9px;margin-left:-9px;margin-top:-5px}.yui3-videoplayer-controls .seek .time{position:absolute;top:-24px;padding:3px 0;text-align:center;font-size:14px;color:#fff;text-shadow:1px 1px 2px #000;background-color:#000;background-color:rgba(0,0,0,0.5);*background-color:#000;border-radius:5px;-moz-opacity:0;opacity:0;-webkit-transition:all .28s linear;-moz-transition:all .28s linear;-o-transition:all .28s linear;transition:all .28s linear}.yui3-videoplayer-controls .seek .time.show{-moz-opacity:1;opacity:1}.yui3-videoplayer-controls .seek.drag .progress,.yui3-videoplayer-controls .seek.drag .handle,.yui3-videoplayer-controls .seek.drag .time{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.yui3-videoplayer-controls .aux,.yui3-videoplayer-controls .settings{position:absolute;bottom:0;right:0}.yui3-videoplayer-controls .seek .vseek{display:none;position:absolute;top:-65px;width:112px;height:63px;z-index:2;background-color:#000;border:1px solid #424242;text-align:center}.yui3-videoplayer-controls .vseek .vseek-thumb{margin:auto;background-size:1120px 630px;image-rendering:-moz-crisp-edges;image-rendering:-o-crisp-edges;image-rendering:-webkit-optimize-contrast;-ms-interpolation-mode:nearest-neighbor}.yui3-videoplayer-controls .vseek .vseek-time{position:absolute;bottom:4px;left:56px;width:48px;padding:3px 0;text-align:center;font-size:14px;color:#fff;text-shadow:1px 1px 2px #000;background-color:#000;background-color:rgba(0,0,0,0.5);*background-color:#000;border-radius:5px}.yui3-videoplayer-controls .settings{width:20px;height:30px;margin:auto 18px 10px auto}.yui3-videoplayer-controls .settings span{display:block}.yui3-videoplayer-controls .settings-panel-box{position:absolute;right:0;bottom:22px;z-index:3;padding:18px 16px 12px 0;background-color:rgba(0,0,0,0)}.yui3-videoplayer-controls .settings-panel{padding:16px 12px 8px;background-color:#000;background-color:rgba(0,0,0,0.9);*background-color:#000;border:1px solid #555;border-color:rgba(255,255,255,0.1);border-radius:4px;z-index:3}.yui3-videoplayer-controls .settings-panel,.yui3-videoplayer-controls .settings-panel button,.yui3-videoplayer-controls .settings-panel .resolution span{font-size:13px;font-weight:400}.yui3-videoplayer-controls .settings-panel table{border-collapse:separate!important;border-spacing:0!important;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;-o-hyphens:none;hyphens:none}.yui3-videoplayer-controls .settings-panel th,.yui3-videoplayer-controls .settings-panel .share-embeds-hdr{font-weight:400;text-align:right;cursor:default;border:0}.yui3-videoplayer-controls .settings-panel th{padding:5px 12px 5px 0;vertical-align:middle}.yui3-videoplayer-controls .settings-panel .share-embeds-hdr{padding:0 12px 10px 0;vertical-align:bottom}.yui3-videoplayer-controls .settings-panel .share-embeds-buttons{padding:0 0 10px 0}.yui3-videoplayer-controls .settings-panel td{min-width:50px;border:0;text-align:left;padding:5px 0 5px}.yui3-videoplayer-controls .settings-panel .on{cursor:default}.yui3-videoplayer-controls .share-embeds{vertical-align:bottom}.yui3-videoplayer-controls .settings-panel button.text{margin-right:8px;padding:3px 1px;background:0;color:#ccc}.yui3-videoplayer-controls .settings-panel button.text:hover{color:#fff}.yui3-videoplayer-controls .settings-panel button.text.on{color:#5f33ff}.yui3-videoplayer-controls .settings-panel .fb-icon,.yui3-videoplayer-controls .settings-panel .mail-icon,.yui3-videoplayer-controls .settings-panel .tumblr-icon,.yui3-videoplayer-controls .settings-panel .twitter-icon{float:left;cursor:pointer}.yui3-videoplayer-controls .settings-panel .y-logo{float:right;cursor:pointer;margin-top:7px}.yui3-videoplayer-controls .settings-panel .embed-button{float:left;width:40px;height:26px;font-size:10px;cursor:pointer;background:#ccc;color:#5c3aff}.yui3-videoplayer-controls .settings-panel .fb-icon,.yui3-videoplayer-controls .settings-panel .mail-icon,.yui3-videoplayer-controls .settings-panel .twitter-icon,.yui3-videoplayer-controls .settings-panel .embed-button{margin-left:8px}.yui3-videoplayer-controls .settings-panel .embed-button:hover{background:#606060;color:#fff}.yui3-videoplayer-controls .embed-hidden .embed-button{background:#b7b7b7;color:#fff}.yui3-videoplayer-controls .settings-panel .embed-chainlink-button{float:left;margin:2px 10px 0 8px;background-color:transparent;cursor:pointer}.yui3-videoplayer-controls .settings-panel .embed-link th{border-top:1px solid #5a5958;border-left:1px solid #5a5958;padding:4px 12px 4px 0;font-size:11px}.yui3-videoplayer-controls .settings-panel .embed-link td{border-top:1px solid #5a5958;border-right:1px solid #5a5958;padding:4px 0}.yui3-videoplayer-controls .settings-panel .embed-link-text{float:left;border:0;background-color:transparent;color:#fff;width:165px;font-size:11px}.yui3-videoplayer-controls .embed-hidden .embed-link,.yui3-videoplayer-controls .embed-hidden .embed-code{display:none}.yui3-videoplayer-controls .settings-panel .embed-code th{border-left:1px solid #5a5958;border-bottom:1px solid #5a5958;padding:4px 12px 4px 0;font-size:11px}.yui3-videoplayer-controls .settings-panel .embed-code td{border-bottom:1px solid #5a5958;border-right:1px solid #5a5958;padding:4px 0}.yui3-videoplayer-controls .settings-panel .embed-code-text{float:left;border:0;background-color:transparent;color:#fff;width:165px;font-size:11px}.yui3-videoplayer-controls .settings-panel .embed-code .embed-error{min-width:280px;opacity:2;background-color:transparent}.yui3-videoplayer-controls .settings-panel .embed-error-text{float:left;border:0;background:#686868;color:#ccc;font-size:11px;padding-left:3px;width:98%}.yui3-videoplayer-controls .settings-panel input{padding:0;border-radius:0}.embed-link-text::-moz-selection,.embed-code-text::-moz-selection{background:#686868!important}.embed-link-text::selection,.embed-link-text::selection{background:#686868!important}.yui3-videoplayer-controls .settings-panel .cc-feedback{cursor:pointer}.yui3-videoplayer-controls .resolution span{margin-right:10px;cursor:pointer;color:#ccc}.yui3-videoplayer-controls .resolution span.hd-icon{display:inline-block;vertical-align:top;margin-left:2px;margin-right:0}.yui3-videoplayer-controls .resolution span.last{margin-right:0}.yui3-videoplayer-controls .resolution span:hover{color:#fff}.yui3-videoplayer-controls .resolution span.selected{color:#5f33ff}.yui3-videoplayer-controls .settings-panel .cc-feedback{//margin-left:23px;cursor:pointer}.yui3-videoplayer-controls .size button{display:inline;vertical-align:middle}.yui3-videoplayer-controls .size .small{background:0;border:2px solid #ccc;width:18px;height:13px;margin:4px 10px 3px 3px;*cursor:pointer}.yui3-videoplayer-controls .size .small:hover{border-color:#fff;*background:0}.yui3-videoplayer-controls .size .small.on,.yui3-videoplayer-controls .size .small.on:hover{border-color:#5f33ff;cursor:default}.yui3-videoplayer-controls .size .full{margin-top:1px}.yui3-videoplayer-controls .size .full.on,.yui3-videoplayer-controls .size .full.on:hover{cursor:default}.yui3-videoplayer-controls .volume .mute{float:left;width:20px;height:20px;margin-top:2px;background:0;cursor:pointer}.yui3-videoplayer-controls .volume .mute span{display:block;margin-left:4px}.yui3-videoplayer-controls .volume .bars{float:left;width:42px;margin-top:7px;padding-left:3px;cursor:pointer}.yui3-videoplayer-controls .volume .bars div{width:4px;height:10px;float:left;margin-right:3px;background:#ccc;cursor:pointer}.yui3-videoplayer-controls .volume .bars.drag div:hover{background:#ccc}.yui3-videoplayer-controls .volume .bars div:hover{background:#fff}.yui3-videoplayer-controls .volume .bars:not(.drag) div:hover{-webkit-transition:background-color .3s ease-in-out;-moz-transition:background-color .3s ease-in-out;-o-transition:background-color .3s ease-in-out;transition:background-color .3s ease-in-out}.yui3-videoplayer-controls .volume .bars div.on{background:#5f33ff}.yui3-videoplayer-controls .volume .bars:hover div.on{*background-color:#5f33ff}.yui3-videoplayer-main .accessible-controls{position:absolute;top:0;left:0;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-lightbox{overflow:hidden!important}.yui3-videoplayer-lightbox .yui3-videoplayer-content{position:fixed;top:0;left:0;width:100%!important;height:100%!important;z-index:2147483647}.yui3-videoplayer-lightbox-ancestor{z-index:2147483647!important}.yui3-videoplayer-slug{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-weight:lighter;font-size:13px;color:white;position:absolute;top:14px;left:24px;cursor:default;z-index:1;display:none}.yui3-videoplayer-main .provider-logo{position:absolute;top:14px;right:14px}.yui3-videoplayer-main.ad-mode .provider-logo,.yui3-videoplayer-main .provider-logo.hidden{display:none}.yui3-videoplayer-content .close{position:absolute;top:5px;right:5px;font-size:10px;color:#333;cursor:pointer;font-family:Arial;background-color:white;border-radius:8px;width:17px;height:17px;vertical-align:middle;font-weight:bold;text-decoration:none;padding:0;border:0}.yui3-videoplayer-content .close:hover{background-color:#61cbff;color:black}.yui3-videoplayer-carousel-viewport li.load .metadata{bottom:0;*bottom:0;*left:0;width:100%;position:absolute;height:35px;background:-webkit-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-moz-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-o-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:-ms-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);background:linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.6) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#99000000',GradientType=0)}.yui3-videoplayer-carousel-viewport .metadata .title{font-size:13px;line-height:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:#fff;margin:16px 6px;*filter:alpha(opacity=100)}.overlay .overlay-background{filter:alpha(opacity=40);background:#000;width:100%;height:100%}.yui3-videoplayer-carousel-viewport-item .overlay .play-button{position:absolute;border:0;*border:0;cursor:pointer;outline:0;background-color:transparent;*background-color:transparent;left:50%;top:50%}.desktop .yui3-videoplayer-carousel-viewport-item .overlay .play-button{margin:-26px 0 0 -16px}.mobile .yui3-videoplayer-carousel-viewport-item .overlay .play-button{margin:-12px 0 0 -16px}.yui3-videoplayer-carousel-viewport li.load .overlay{background-color:rgba(0,0,0,0.4);width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden}.desktop .yui3-videoplayer-carousel-viewport li.load .overlay{-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-moz-transition:opacity .2s ease-in;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.mobile .yui3-videoplayer-carousel-viewport li.load,.desktop .yui3-videoplayer-carousel-viewport li.load:hover .overlay{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport-item .overlay .play-video-text{font-size:13px;overflow:hidden;position:absolute;bottom:44px;left:74px;color:#fff;*filter:alpha(opacity=100)}.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport-item .overlay .play-video-text{bottom:30px;left:52px}.yui3-videoplayer-carousel-container{position:relative;height:inherit;background:0;overflow:hidden;padding:0;height:100%;background:0;padding:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.yui3-videoplayer-carousel-viewport{position:relative;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;*width:9999px;height:100%;margin:0 auto}.yui3-videoplayer-carousel-viewport.touch,.yui3-videoplayer-carousel-viewport.touch li{-webkit-transition:none;-moz-transition:none;-o-transition:color 0 ease-in;transition:none;-webkit-user-select:none}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-viewport,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport{margin-left:20px}.yui3-videoplayer-carousel-container.yui3-videoplayer-enabled .yui3-videoplayer-carousel-viewport{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport li{display:inline-block;zoom:1;*display:inline;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .3s ease-in-out;-moz-opacity:.60;opacity:.60;filter:alpha(opacity=60);position:relative}.yui3-videoplayer-carousel-container li.load,.yui3-videoplayer-carousel-viewport li.load:hover{cursor:pointer;-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport img{display:block;filter:alpha(opacity=100)}.card-m .yui3-videoplayer-content.large img,.card-m .yui3-videoplayer-content.medium img{width:190px;height:107px}.card-m .yui3-videoplayer-content.small img{width:125px;height:71px}.yui3-videoplayer-carousel-viewport-item-play{position:absolute;left:0;bottom:0}.yui3-videoplayer-carousel-title{color:#34c4ff;font-weight:bold;margin-left:2%;width:96%;text-align:center;position:absolute;bottom:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.yui3-videoplayer-carousel-title.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-title{font-size:12px;margin-top:2px}.yui3-videoplayer-content.small .yui3-videoplayer-carousel-title{font-size:12px;margin-top:2px}.yui3-videoplayer-carousel-viewport-item-indicator{position:absolute;background-color:#21beff;padding:5px;color:white;top:0;left:0;font-size:12px;font-weight:bold;*filter:alpha(opacity=100)}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-viewport-item-indicator,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport-item-indicator{font-size:8px}.yui3-videoplayer-carousel-container li,.yui3-videoplayer-carousel-container li:hover{-moz-opacity:0;opacity:0;filter:alpha(opacity=0);float:left;position:absolute;overflow:hidden;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-viewport-item-img{width:190px;height:107px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container{position:absolute;top:0;height:inherit;width:30px}.yui3-videoplayer-content .yui3-videoplayer-left-enabled .yui3-videoplayer-carousel-left,.yui3-videoplayer-content .yui3-videoplayer-right-enabled .yui3-videoplayer-carousel-right{-moz-opacity:1;opacity:1;filter:alpha(opacity=100);display:block;*zoom:1}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container{height:100px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow{display:inline-block;position:absolute;margin-top:-30px;margin-left:-10px;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);top:50%;display:none;cursor:pointer}.yui3-videoplayer-content .yui3-videoplayer-carousel-left{margin-left:0}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-left-container{left:0}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-right-container{right:0}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-carousel-node,.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-blank-node,.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched-center-wrapper{width:100%;position:relative;height:100%;z-index:2}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched-wrapper{height:100%;margin:0 auto;width:200px;text-align:left}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched{position:relative;top:50%}.yui3-videoplayer-endscreen-watched img{width:208px;height:117px}.yui3-videoplayer-endscreen-watched img:hover{cursor:pointer}.yui3-videoplayer-endscreen-container .yui3-videoplayer-arrow-container{background:0;bottom:0;margin:auto;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-endscreen-carousel-node p{margin:0;text-align:left}.yui3-videoplayer-endscreen-carousel-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left{*margin:-25px 0 0 -15px}.yui3-videoplayer-endscreen-carousel-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right{*margin:-25px 0 0 -25px}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node li,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node li{width:208px;height:117px}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node li{width:157px;height:88px}.yui3-videoplayer-endscreen-watched-wrapper .yui3-videoplayer-endscreen-watched .overlay{width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden;background-color:transparent;background-color:rgba(0,0,0,0.4)}.desktop .yui3-videoplayer-endscreen-carousel-node li.replay .overlay{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-videos-node,.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-flash-download-node{width:100%;position:absolute;height:120px;z-index:2;margin:auto auto;bottom:15%}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-flash-download-node a{color:#5eb2e8;text-decoration:none}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-flash-download-node{position:absolute;background-color:#000;display:block;vertical-align:middle;font-size:16px;color:#5eb2e8;margin-left:13%;width:100%}.yui3-videoplayer-errorscreen-download-flash{cursor:pointer;position:relative;z-index:3;display:inline-block;zoom:1;*display:inline}.yui3-videoplayer-errorscreen-container .yui3-videoplayer-arrow-container{background:0;bottom:0;margin:auto;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-errorscreen-videos-node p{margin:0;text-align:left}.yui3-videoplayer-errorscreen-videos-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left{*margin:-25px 0 0 -15px}.yui3-videoplayer-errorscreen-videos-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right{*margin:-25px 0 0 -25px}.yui3-videoplayer-content.large .yui3-videoplayer-errorscreen-videos-node li,.yui3-videoplayer-content.medium .yui3-videoplayer-errorscreen-videos-node li{width:208px;height:117px}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-container .yui3-videoplayer-errorscreen-videos-node{top:25%}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node li{width:157px;height:88px}.yui3-videoplayer-content.large .yui3-videoplayer-errorscreen-wrapper{font-size:20px}.yui3-videoplayer-content.medium .yui3-videoplayer-errorscreen-wrapper{font-size:18px;margin-left:10%;margin-right:1%}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-wrapper{position:absolute;background-color:#000;display:block;vertical-align:middle;top:15%;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;color:#eee;font-size:13px;margin-left:8%;margin-right:2%}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel{margin-left:auto;margin-right:auto}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container,.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel h4{background-color:#000}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li{margin:10px 0}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li.load{-moz-opacity:.6;opacity:.6;filter:alpha(opacity=60)}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li.load:hover{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-closedcaptions{opacity:0;-moz-opacity:0;filter:alpha(opacity=0);z-index:0;width:100%;height:24%;position:absolute;bottom:0}.yui3-videoplayer-closedcaptions-text{color:#fff;font-size:20px;text-align:center;margin:0 40px 0 40px}.partner-bar-clearfix:before,.partner-bar-clearfix:after{content:'.';display:block;visibility:hidden;height:0;font-size:0;line-height:0}.yui3-videoplayer-partner-bar{position:relative;width:100%;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;background:#001633;background:-moz-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:-webkit-gradient(linear,left top,right top,color-stop(0%,#001633),color-stop(19%,#103359),color-stop(100%,#011e3c));background:-webkit-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:-o-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:-ms-linear-gradient(left,#001633 0,#103359 19%,#011e3c 100%);background:linear-gradient(to right,#001633 0,#103359 19%,#011e3c 100%);*background:#001633;white-space:nowrap;font-size:0;height:94px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-branding{position:relative;margin:10px auto;top:10;left:0;text-align:center;vertical-align:middle;display:inline-block;*display:inline;zoom:1;width:20%}.yui3-videoplayer-partner-bar .branding-logo{display:block;text-indent:100%;overflow:hidden;white-space:nowrap;vertical-align:middle;margin:0 auto}.yui3-videoplayer-partner-bar .branding-text{color:white;font-weight:300;font-size:9px;display:block;padding-top:4px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos{vertical-align:middle;width:80%;display:inline-block;*display:inline;zoom:1}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos ul{list-style:none;white-space:nowrap;max-width:100%;overflow:hidden;font-size:0;padding:7px 2px 7px 0;position:relative}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos ul li{display:inline-block;*display:inline;zoom:1;position:relative;width:24%;margin-right:1%;cursor:pointer}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .img-wrap-16x9{padding-bottom:56.25%;height:0;position:relative;overflow:hidden}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos img{width:100%;height:auto;display:block}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay{font-size:13px;height:100%;width:100%;position:absolute;left:0;top:0;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-moz-transition:opacity .2s ease-in;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in;background-color:rgba(0,0,0,0.4)}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay:hover{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay .play-text{font-family:HelveticaNeue,Helvetica,Arial,sans-serif;color:#FFF;font-size:12px;font-weight:300;position:absolute;text-align:left;bottom:6px;margin-left:30px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .icon-overlay .title-text{font-family:HelveticaNeue,Helvetica,Arial,sans-serif;font-size:12px;line-height:13px;height:26px;overflow:hidden;white-space:normal;text-overflow:ellipsis;position:absolute;color:#fff;margin-left:5px;margin-top:5px}.yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .play-icon{border-radius:2px;background-color:#324fe1;cursor:pointer;position:absolute;bottom:5px;left:5px;width:20px;height:14px;background-image:url('http://l.yimg.com/rx/builds/4.15.0.1397589605/assets/play.png');background-image:url('http://l.yimg.com/rx/builds/4.15.0.1397589605/assets/play-white.svg'),none;background-repeat:no-repeat;background-size:100% 100%;text-indent:100%;overflow:hidden}.ssl.yui3-videoplayer-content .yui3-videoplayer-partner-bar .yui3-videoplayer-partner-videos .play-icon{background-image:url('https://s.yimg.com/rx/builds/4.15.0.1397589605/assets/play.png');background-image:url('https://s.yimg.com/rx/builds/4.15.0.1397589605/assets/play-white.svg'),none}.yui3-videoplayer-opacity-0{-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-opacity-70{-moz-opacity:.7;opacity:.7;filter:alpha(opacity=70)}.yui3-videoplayer-opacity-80{-moz-opacity:.8;opacity:.8;filter:alpha(opacity=80)}.yui3-videoplayer-opacity-100{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.ssl.yui3-videoplayer-content .yui3-videoplayer-transparent{background:url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');*background:url('https://s.yimg.com/rx/builds/4.15.0.1397589605/assets/transparent.gif')}.yui3-videoplayer-transparent{background:url('data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');*background:url('http://l.yimg.com/rx/builds/4.15.0.1397589605/assets/transparent.gif')}";
r.NAME="View";r.NS="view";r.ATTRS={screenSize:{value:"LARGE"},activeScreen:{value:undefined},activeOverlay:{value:undefined},state:{value:"INIT"},_skipFlashCheck:{value:false},startScreenCreated:{value:false}};r.PLAYLIST_CAROUSEL_DIMENSIONS={LARGE:{HEIGHT:150,IMAGE_HEIGHT:105,HORIZONTAL_SPACING:20,VERTICAL_SPACING:20,MARGIN:3},MEDIUM:{HEIGHT:100,IMAGE_HEIGHT:63,HORIZONTAL_SPACING:10,VERTICAL_SPACING:10,MARGIN:3},SMALL:{HEIGHT:100,IMAGE_HEIGHT:63,HORIZONTAL_SPACING:10,VERTICAL_SPACING:10,MARGIN:3}};r.FACEBOOK_URL_TEMPLATE="https://www.facebook.com/sharer.php?t={title}&u={shareUrl}";r.TWITTER_URL_TEMPLATE="https://twitter.com/intent/tweet?text={twitterTitle}&url={shareUrl}&via=Yahoo";r.MAIL_URL_TEMPLATE="mailto:?subject={titleNoHtml}&body={shareUrl}%0D%0D{bodyText}";r.CC_COMPLAINTS_URL_TEMPLATE="http://info.yahoo.com/legal/{region}/yahoo/cc/{lang}/";r.CSS_STATE={AD_MODE:"ad-mode",AD_ERROR:"ad-error",PLAYING:"yep-playing",PAUSED:"yep-paused",SEEKING:"yep-seeking",BUFFERING:"yep-buffering",MUTED:"yep-muted",FULLSCREEN:"yep-fullscreen"};r.KEYS={SHIFT:16,CTRL:17,OPTION:18,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,M:77,QUESTION:191,ESC:27};var V=r.KEYS;r.GOLDEN_RATIO=16/9;r.SMALL_MAX_WIDTH=495;r.MEDIUM_MAX_WIDTH=729;f.extend(r,f.Base,{initializer:function(am){var al=this,Y,ao,an;this._model=am.model;this._controller=am.controller;al._providerLogo=null;al._providerLogoLink=null;Y=this._model.get("version");ao="yvpstyle_"+Y;an=f.one("head").getById(ao);if(!an){an=f.Node.create("<style id="+ao+">"+r.CSS+"</style>");f.one("head").append(an);}this.controls=new F({model:this._model,controller:this._controller,view:this});},getController:function(){return this._controller;},_createRenderers:function(){this.createVideoRenderer(this.videoBox);if(this._model.get("error")!==null){return false;}this.set("state","RENDERED");return true;},render:function(ao){this._node=ao;this.contentBox=this.createNode("div","content");this.main=this.createNode("div","main");this.controlsContent=this.createNode("div","controls");this.loading=this.createNode("div","loading");this.slug=this.createNode("div","slug");this.loading.setStyle("display","none");if(this._controller.isHtmlCCSupported()){this.closedCaptions=this.createNode("div","closedcaptions");this.main.append(this.closedCaptions);}this.main.append(this.controlsContent);this.main.append(this.loading);this.main.append(this.slug);this._addContentClasses();var am=this,al=am._model,Y=am.main,ap=al.get("carousel")?am.getCarouselPlayerHeight():"100%",an=am.createNode("div","video"),aq;Y.setStyle("height",ap);am.contentBox.append(am.main);ao.appendChild(am.contentBox);am._model.set("height",am.contentBox.get("offsetHeight"));am._model.set("width",am.contentBox.get("offsetWidth"));am._model.set("adClientSize",{width:am.contentBox.get("offsetWidth"),height:am.contentBox.get("offsetHeight")});an.setStyle("opacity",0.001);am._providerLogo=f.Node.create('<img src=""/>');am._providerLogoLink=f.Node.create('<a class="provider-logo" target="_blank"/>');am._providerLogoLink.append(am._providerLogo);am._providerLogoLink.on("click",function(){f.Global.fire("VideoPlayer.Carousel.partnerLogoClick","partner-logo");});am.setProviderLogo(al.get("currentMedia"));Y.appendChild(an);am.videoBox=an;aq=al.get("playerState");if(aq===aa.ERROR){am._displayErrorScreen();return;}else{if(!al.get("autoplay")&&aq===aa.LOADED){this._handleLoadedState();}}am._scheduleCreateRenderers();am._bindUI();f.later(1000,this,"_delaySpinner");},getCarouselPlayerHeight:function(){return(this._node.get("offsetHeight")-r.PLAYLIST_CAROUSEL_DIMENSIONS[this.get("screenSize")].HEIGHT).toString()+"px";},_unHideCarousel:function(){var Y;Y=this.contentBox;if(Y.one(".yui3-videoplayer-carousel-container")&&Y.one(".yui3-videoplayer-playlist-carousel").getStyle("display")==="none"){Y.one(".yui3-videoplayer-playlist-carousel").setStyle("display","block");Y.one(".yui3-videoplayer-main").setStyle("height",this.getCarouselPlayerHeight());}},_delaySpinner:function(){var Y=this._model,an=Y.get("playerState"),am=["begin","initialized","loading","loaded","prepared","preparing","prestarted"],al=Y.get("autoplay");if(f.Array.indexOf(am,an)>=0){if(al||an!=="loaded"){Y.set("isSpinnerShown",true);}else{if(Y.get("isSpinnerShown")===true){Y.set("isSpinnerShown",false);}}}},_scheduleCreateRenderers:function(){var Y=this,al=function(){Y.controls.render(Y.controlsContent);Y._createRenderers();};if(Y._model.get("autoplay")||H.isMobile()){al();}else{setTimeout(al,5);}},setCSSState:function(am,Y){var al=this;if(!al.main){return;}if(am){al.main.addClass(am);}f.Array.each(Y,function(an){al.main.removeClass(an);});},setCSSStateNoPlayback:function(){this.setCSSState(null,[r.CSS_STATE.PAUSED,r.CSS_STATE.PLAYING,r.CSS_STATE.BUFFERING,r.CSS_STATE.SEEKING]);},_addContentClasses:function(){var al=this._node,ao=this.contentBox,an=this._model,aq=ao.getAttribute("class"),ap=f.UA.ie,Y=al.get("offsetWidth"),au=al.get("offsetHeight"),am;if(Y<r.SMALL_MAX_WIDTH||au<=Math.floor(r.SMALL_MAX_WIDTH/r.GOLDEN_RATIO)){am="SMALL";}else{if(Y<r.MEDIUM_MAX_WIDTH||au<=Math.floor(r.MEDIUM_MAX_WIDTH/r.GOLDEN_RATIO)){am="MEDIUM";}else{am="LARGE";}}this.set("screenSize",am);aq+=" "+am.toLowerCase();if(H.isMobile()){aq+=" mobile";}else{aq+=" desktop";}if(document.location.protocol==="https:"){aq+=" ssl";}for(var at in f.UA){if(f.Object.hasKey(f.UA,at)){var ar=f.UA[at];if(ar&&f.Lang.isNumber(ar)){ar|=0;aq+=" "+at+" "+at+ar;}}}if(ap>0){for(var av=11;av>6;av--){if(ap<av){aq+=" lt-ie"+av;}}}if(!an.get("ybang")){aq+=" noybang";}ao.setAttribute("class",aq);},_fireAssetsRequestComplete:function(){if(this.get("state")==="LOADING"){f.fire("VideoPlayer.assetsRequestComplete");}},_hideVideoTag:function(){this._node.one(".yui3-videoplayer-video").setStyle("marginTop","-2000px");},_showVideoTag:function(){this._node.one(".yui3-videoplayer-video").setStyle("marginTop","0px");},createVideoRenderer:function(ao){var am=this,ap=this._controller,al=this._model,an=ap.getRendererClass(al.get("rendererType")),Y=new an({model:al,controller:ap,skipFlashCheck:this.get("_skipFlashCheck")});
ap.registerRenderer(Y);Y.render(ao);ao.append(am._providerLogoLink);this.videoRenderer=Y;al.set("rendererReady",true);},_resizeAndPositionImage:function(Y,al){var an=Y.get("src"),am=new Image();am.onload=function(){var at=am.width,ao=am.height,ar=at/ao,aq=al.get("offsetWidth"),au=al.get("offsetHeight"),ap=aq/au;if(ar>=ap){if(ao>au){ao=au;at=au*ar;}}else{if(at>aq){at=aq;ao=aq/ar;}}Y.set("width",at);Y.set("height",ao);};am.src=an;},unrenderPlugin:function(){this.videoBox.clear();},onPluginInstanceChange:function(Y){if(Y.oldVal){this.unrenderPlugin(Y.oldVal);}if(Y.newVal){this.renderPlugin(Y.newVal);}},_bindUI:function(){var Y=this._model,al=this,am=["VideoPlayer.Carousel.navigationClick","VideoPlayer.Carousel.touch","VideoPlayer.Carousel.partnerLogoClick","VideoPlayer.Carousel.partnerBarView","VideoPlayer.ErrorScreen.flashDownloadClick","VideoPlayer.ErrorScreen.tryAgainLink"];this._bindKeys();Y.after("partnerCarouselItemsChange",function(an){al._removePartnerBar();if(an.newVal!==null){al._renderPartnerBar();}},al);Y.after("isSpinnerShownChange",function(an){if(an.newVal===true){al.loading.setStyle("display","block");}else{al.loading.setStyle("display","none");}});Y.after("yvapStateChange",function(ap){var ao=al.slug,an;switch(ap.newVal){case"adProgress":al.videoBox.setStyle("opacity",1);break;case"adStart":al.setCSSState(r.CSS_STATE.AD_MODE);if(Y.get("rendererType")==="html"){al.videoBox.setStyle("opacity",1);}al.controlsContent.removeClass("hide");an=Y.get("yvapData");if(an&&an.adslug===true){ao.set("innerHTML",al._controller.getStrings().ADVERTISEMENT);ao.setStyle("display","block");}break;case"adError":case"adComplete":ao.set("innerHTML","");ao.setStyle("display","none");al.setCSSState(null,[r.CSS_STATE.AD_MODE]);break;}al.setCSSState("yvap-"+ap.newVal,["yvap-"+ap.prevVal]);},this);Y.after("currentMediaChange",function(ao){var an=ao.newVal;al.removeMediaLoadHandler();if(an&&!an.hasStreamData()){al.mediaLoadHandler=Y.after("playerStateChange",function(ap){if(ap.newVal===aa.PREPARED){al.removeMediaLoadHandler();al.setProviderLogo(an);}});}else{al.setProviderLogo(an);}});Y.after("isPlayingChange",function(an){if(an.newVal===true){al.videoBox.setStyle("opacity",1);al.controlsContent.removeClass("hide");al.setCSSState(r.CSS_STATE.PLAYING,[r.CSS_STATE.PAUSED]);}else{if(Y.get("playerState")===aa.STARTED){al.setCSSState(r.CSS_STATE.PAUSED,[r.CSS_STATE.PLAYING]);}else{al.setCSSStateNoPlayback();}}});Y.after("isWaitingChange",function(an){if(an.newVal===true){al.setCSSState(r.CSS_STATE.BUFFERING);}else{al.setCSSState(null,[r.CSS_STATE.BUFFERING]);}});Y.after("isSeekingChange",function(an){if(an.newVal===true){al.setCSSState(r.CSS_STATE.SEEKING);}else{}});Y.after("isCompletedChange",function(an){if(an.newVal===true){al.setCSSStateNoPlayback();}});Y.after("isErrorChange",function(an){if(an.newVal===true){al.setCSSStateNoPlayback();}});Y.before("playerStateChange",function(an){al._playerStateChange(an);});Y.after("playerStateChange",function(an){if(an.newVal===aa.PLAYBACKCOMPLETE){al._handlePlaybackCompleteStateChange(an);}else{if(an.newVal!==aa.STARTED&&an.newVal!==aa.PAUSED){al.setCSSStateNoPlayback();}}});Y.after("fullscreenChange",function(an){if(an.newVal){al.set("activeScreen",undefined);al.setCSSState(r.CSS_STATE.FULLSCREEN);}else{al.setCSSState(null,[r.CSS_STATE.FULLSCREEN]);}});Y.after("muteChange",function(an){if(an.newVal===true){al.setCSSState(r.CSS_STATE.MUTED);}else{al.setCSSState(null,[r.CSS_STATE.MUTED]);}});Y.before("activeScreenStrChange",function(an){al._activeScreenStrChange(an);});Y.after("ccSettingsChange",function(an){if((!f.Lang.isValue(an.subAttrName)||an.subAttrName==="ccSettings.show")&&f.Lang.isValue(an.newVal)&&f.Lang.isValue(an.newVal.show)&&(!f.Lang.isValue(an.prevVal)||an.newVal.show!==an.prevVal.show)){al._displayCaptionsChange(an.newVal.show);al._storeCaptionPref();}},al);this.after("activeScreenChange",function(an){if(undefined===an.newVal){Y.set("activeScreenStr",undefined,{src:"internal"});}if(an.prevVal!==undefined){an.prevVal.destructor();}});this.after("activeOverlayChange",function(an){if(an.prevVal!==undefined){an.prevVal.destructor();}if(an.newVal!==undefined){an.newVal.render(al.main);}});f.Global.on("VideoPlayer.Carousel.thumbnailClick",function(at){var ar,aq,au,an={},ap=at.index,ao=parseInt(ap+1,10);switch(at.plType){case"endScreen":if(ap===0){ar="endscreenReplayButton";}else{ar="endscreenPlayButton";--ao;aq=Y.get("endScreenVideos").items().item(ao);au=aq.get("instrumentation");an={linkContext:au.linkContext||"",videoContext:au.videoContext||""};}break;case"errorScreen":ar="err-rel-vid-"+ao;break;default:ar="pc-vid-"+ao;break;}Y.fire("uiInteract",{source:ar,instrData:an,index:ao});if(Y.get("rendererType")==="html"){al._showVideoTag();}if(ar==="endscreenReplayButton"){ap=al._model.get("playlistPosition");al._controller.playIndex(ap,at.plType,ar);if(Y.get("carousel")){al._unHideCarousel();}}else{if(Y.get("carousel")&&at.plType==="endScreen"){al.carousel.destroy();Y.set("carousel",false);}al._controller.playIndex(ap,at.plType,ar);}});f.Global.on(am,function(an){Y.fire("uiInteract",{source:an});});},removeMediaLoadHandler:function(){if(this.mediaLoadHandler){this.mediaLoadHandler.detach();this.mediaLoadHandler=null;}},setProviderLogo:function(al){var Y=this,an=al?al.get("provider.logoUrl"):null,am=al?al.get("shareUrl"):null;if(an){Y._providerLogoLink.removeClass("hidden");Y._providerLogo.set("src",an);}else{Y._providerLogoLink.addClass("hidden");}if(am){Y._providerLogoLink.set("href",am);}else{Y._providerLogoLink.removeAttribute("href");}},_activeScreenStrChange:function(ao){var am=this._model,ap=this._controller,an=this,al,Y;if(ao.src==="internal"){return;}al=an._node.one(".yui3-videoplayer-content");switch(ao.newVal){case"info":if(am.get("infoscreen")){if(!an.prevPlayerState){an.prevPlayerState=am.get("playerState");}an._controller.pause();Y=new X({model:am,view:an});if(ap._renderer){ap._renderer.setFullscreen(false);}Y.render(an.main);an.set("activeScreen",Y);
}break;case undefined:if(an.prevPlayerState!=="paused"){an._controller.play();}an.prevPlayerState=undefined;an.set("activeScreen",undefined);break;default:break;}},_displayErrorScreen:function(){var Y=this._model,al;if(this._node&&Y.get("errorscreen")){al=new v({model:Y,view:this});this.slug.setStyle("display","none");al.render(this.main);this.set("activeScreen",al);if(Y.get("rendererType")==="html"){this._hideVideoTag();}this.controlsContent.addClass("hide");}},_handleLoadedState:function(){var al=this._model,Y=this.main;if(!al.get("autoplay")&&!this.startScreen&&al.get("startscreen")){this.startScreen=new a({model:al,view:this});this.startScreen.render(Y);this.set("activeScreen",this.startScreen);this.set("startScreenCreated",true);}if(al.get("carousel")&&!this.carousel){this.renderPlaylistCarousel();}if(al.get("partnerCarouselItems")!==null&&!this.partnerCarousel){this.renderPartnerCarousel();}},renderPlaylistCarousel:function(){var Y=this._model.get("playlist").get("mediaItems").toArray(),am=this.get("screenSize"),al=Math.floor(r.PLAYLIST_CAROUSEL_DIMENSIONS[am].IMAGE_HEIGHT*r.GOLDEN_RATIO),ao=this.createNode("div","playlist-carousel"),an;ao.setStyle("width",this.contentBox.get("offsetWidth"));ao.setStyle("height",r.PLAYLIST_CAROUSEL_DIMENSIONS[am].HEIGHT-20);this.contentBox.append(ao);this.carousel=new g({view:this,mediaItems:Y,pltype:"default",showMetadata:false,showNavigation:true,dimensions:{itemWidth:al,itemHeight:r.PLAYLIST_CAROUSEL_DIMENSIONS[am].IMAGE_HEIGHT,imageWidth:al,imageHeight:r.PLAYLIST_CAROUSEL_DIMENSIONS[am].IMAGE_HEIGHT,horizontalSpacing:r.PLAYLIST_CAROUSEL_DIMENSIONS[am].HORIZONTAL_SPACING,verticalSpacing:r.PLAYLIST_CAROUSEL_DIMENSIONS[am].VERTICAL_SPACING,carouselMargin:r.PLAYLIST_CAROUSEL_DIMENSIONS[am].MARGIN}});this.carousel.render(ao);an=this.createNode("h4","title","carousel");ao.setStyle("height",r.PLAYLIST_CAROUSEL_DIMENSIONS[am].HEIGHT+20);this.contentBox.one(".yui3-videoplayer-carousel-viewport").delegate("mouseout",function(){an.removeClass("yui3-videoplayer-show");},"li");this.contentBox.append(an);this._model.fire("uiInteract",{source:"pc-view"});},_renderPartnerBar:function(){var aw=this,ax=aw._controller.getStrings(),aq=aw._model,ap=aq.get("partnerCarouselItems"),ay="partner",au=ap.toArray(),an=aw.createNode("div","partner-branding"),am=aw.createNode("div","partner-videos"),ar=f.Node.create('<ul class="partner-bar-clearfix"></ul>'),at="",al=null,av,Y,ao;f.publish("VideoPlayer.Carousel.partnerLogoClick",{broadcast:2});f.publish("VideoPlayer.Carousel.partnerBarView",{broadcast:2});f.each(["#videoPlayerContainer",".mod-player","#player"],function(aA){var az=f.Node.one(aA);if(az!==null){al=az;return;}},aw);if(al===null){return;}aw.partnerBar=aw.createNode("div","partner-bar");Y=aq.get("site")||"";ao=aq.get("expName")||"";at='<a href="http://www.nfl.com/?campaign=partner_yahoo_syndicatevideo_'+Y+ao+'"';at+=' target="nfl_site"><span class="branding-logo">nfl</span></a>';at+='<span class="branding-text">More NFL Videos</span>';an.set("innerHTML",at);an.on("click",function(){f.Global.fire("VideoPlayer.Carousel.partnerLogoClick","partner-logo");});aw.partnerBar.append(an);f.each(au,function(aJ,aE){var aG=f.Node.create,aA=aJ.images.thumbnail||"",aK,aC,aM,aH,aF,aI,aB,az,aD,aL;aK=aG("<li/>");aB=aG("<div/>").setAttribute("class","img-wrap-16x9");aD=aG("<img/>").setAttribute("src",aA);aB.append(aD);aK.append(aB);aI=aG("<div/>").setAttribute("class","icon-overlay");aC=aG("<div/>").setAttribute("class","title");aM=aG("<p/>").setAttribute("class","title-text").set("innerHTML",aJ.title);aC.append(aM);aI.append(aC);az=aG("<span/>").setAttribute("class","play-text").set("innerHTML",ax.PLAY_VIDEO);aI.append(az);aH=aG("<div/>").setAttribute("class","play-button");aF=aG("<span/>").setAttribute("class","play-icon").set("innerHTML",".");aH.append(aF);if(f.UA.ie>0&&f.UA.ie<9){aI.hide();aK.on("hover",function(){aI=aK.one(".icon-overlay");aI.show();},function(){aI=aK.one(".icon-overlay");aI.hide();});aL=aG("<div/>").setAttribute("class","overlay-background");aI.append(aL);}aK.append(aI);aK.append(aH);aK.setData("videoId",aJ.id);aK.setData("param",{"index":aE,"plType":ay});aK.on("click",function(aQ){var aR=aq.get("playlist"),aT=aR.items().size(),aS=aQ.currentTarget.getData("videoId"),aP=ap.find(function(aU){return aS===aU.get("id");}),aN,aO=aQ.currentTarget.getData("param");if(aP){aN=aR.after("mediaItemAdd",function(aV){var aU=aV.item||null;if(aU&&aU.get("id")===aS){aN.detach();aw._controller.preparePlaylistPosition(aT);}},aw);aw._controller.addToPlaylist(aP);}aq.fire("uiInteract",{source:"partner-t-"+parseInt(aO.index+1,10)});},aw);ar.append(aK);},aw);am.append(ar);aw.partnerBar.append(am);if(al.getAttribute("id")==="player"){aw.contentBox.setStyle("height","360");}al.append(aw.partnerBar);f.Global.fire("VideoPlayer.Carousel.partnerBarView","partner-view");av=f.Node.one(".yom-card-main .thumbstrip");if(av){av.setStyle("display","none");}},_removePartnerBar:function(){var Y,al,am=this.partnerBar;if(am){am.detachAll();am.remove(true);am=null;Y=f.Node.one(".yom-card-main .thumbstrip");if(Y){Y.setStyle("display","block");}al=f.Node.one(".slideshow-main-col .caption-wrap");if(al){al.setStyle("position","absolute");}}},_displayCaptionsChange:function(al){var Y=this.videoRenderer;if(Y){Y.updateControls({ccShow:al});}},_storeCaptionPref:function(){var Y=this,al=Y._model.get("ccSettings");if(!f.UA.mobile){Y._controller.storeCaptionConfig(al);}},_handlePlaybackCompleteStateChange:function(){var an=this._model,ao=this._controller,au=this,al=this.main,ar,ap,Y,at,am,aq;ar=an.get("playlistPosition");ap=ar+1;aq=an.get("playlist").items().item(ap);if(an.get("continuousPlay")&&aq||an.get("loop")===true){ao.playNext();}else{if(an.get("fullscreen")||an.get("rendererType")==="html"){ao.setFullscreen(false);at=1000;}else{at=0;}setTimeout(function(){if(an.get("endscreen")){am=au._node.one(".yui3-videoplayer-content");Y=new p({model:an,view:au});Y.render(al);au.set("activeScreen",Y);au.videoBox.setStyle("opacity",0);
au.controlsContent.addClass("hide");}},at);}},_playerStateChange:function(ar){var an=this._model,al=this._controller,ap=al.getStrings(),aq=ar.newVal,ao,Y,am;switch(aq){case"loaded":this._handleLoadedState();break;case"preparing":if(this.get("activeScreen")){this.set("activeScreen",undefined);}break;case"prestarted":if(this.get("activeScreen")){this.set("activeScreen",undefined);}if(this.carousel){this.carousel.setIndicator(an.get("playlistPosition"),ap.UP_NEXT.replace(":","").toUpperCase());}break;case"started":this.set("activeScreen",undefined);if(this.carousel){this.carousel.setIndicator(an.get("playlistPosition"),ap.NOW_PLAYING.toUpperCase());}break;case"poststarted":ao=an.get("playlistPosition");Y=ao+1;am=an.get("playlist").items().item(Y);if(this.carousel&&am&&an.get("autoplay")){this.carousel.setIndicator(Y,ap.UP_NEXT.replace(":","").toUpperCase());}break;case"paused":this.set("activeScreen",undefined);break;case"error":this._displayErrorScreen();break;}},_bindTouch:function(){var al=null,Y=this;Y._node.on("touchstart",function(am){am.preventDefault();clearTimeout(al);al=setTimeout(function(){Y.openProfiler();},5000);});Y._node.on("touchend",function(){clearTimeout(al);});},_bindKeys:function(){var am=this,ar=[],ao=false,Y=false,al=false,ap=[79,80,69,78,83,73,77,83,73,77],aq=[79,80,83,83],an;if(f.Node.DOM_EVENTS.key.eventDef!==undefined){f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.shift=16;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.ctrl=17;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.space=32;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.esc=27;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.m=77;f.Node.DOM_EVENTS.key.eventDef.KEY_MAP.n=78;f.one("doc").on("key",function(){am.controls._play();},"space+shift");f.one("doc").on("key",function(){am.controls._nextVideo();},"n+ctrl+shift");f.one("doc").on("key",function(){am.controls._muteChange();},"m+ctrl+shift");f.one("doc").on("key",function(){am.set("activeOverlay",undefined);var at=am.get("activeScreen");if(at!==undefined&&at.name==="InfoScreen"){at._closeScreen();}},"esc");}f.one("doc").on("yui3-videoplayer|keypress",function(at){var au=at.keyCode;if(au===63){am.controls._hotkeyMenu();}});f.one("body").on("yui3-videoplayer|keydown",function(at){var au=at.keyCode;switch(au){case V.CTRL:ao=true;break;case V.OPTION:Y=true;break;case V.SHIFT:al=true;break;}ar.push(au);if(ar.length>ap.length){ar.shift();}an=ar.slice(Math.max(ar.length-4,0));if(this._node&&(ar.toString()===ap.toString()||an.toString()===aq.toString())){am.openDetailScreen();}});f.one("body").on("yui3-videoplayer|keyup",function(at){var au=at.keyCode;switch(au){case V.CTRL:ao=false;break;case V.OPTION:Y=false;break;case V.SHIFT:al=false;break;case V.ESC:am.set("activeOverlay",undefined);break;}});},openDetailScreen:function(){var al=this,an=this.get("activeOverlay"),Y=this._model,am;if(!an||an.name!=="DetailScreen"){am=new s({model:Y,view:al});this.set("activeOverlay",am);}},openProfiler:function(){var Y="",am=this._model,an=this._controller,ao,al,ar,aq=an?an.getAdPluginInstance():null,at=an?an.getProfiler():null;Y+="<p>Yahoo Video Player: "+am.get("version")+"<p>";if(at){Y+=at.draw();}Y+='<p><table border="1">';Y+="<tr><td>Event</td><td>START</td><td>END</td><td>DIFF</td><td>QOS KEY</td></tr>";ar=this._model.get("profileData").items();f.each(ar,function(au){Y+="<tr><td>"+au.message+"</td><td>"+au.startTime+"</td><td>"+au.endTime+"</td><td>"+au.timeDiff+"</td><td>"+au.type+"</td></tr>";});Y+="</table></p>";Y+='<p><table border="1">';ar=this._model.get("profileData").items();f.each(f.UA,function(av,au){if(av){Y+="<tr><td>"+au+"</td><td>"+av+"</td></tr>";}});Y+="</table></p>";Y+='<p><table border="1"><tr><td colspan="2">MediaObject Data</td></tr>';al=am.get("currentMedia").toObject();f.each(al,function(av,au){if(typeof av!=="object"){Y+="<tr><td>"+au+"</td><td>"+av+"</td></tr>";}});Y+="</table></p>";try{if(aq){if(aq.adsStatus){Y+=aq.adsStatus.toTable();}else{Y+="<p>adsStatus is not available</p>";}}else{Y+="<p>adPlugin is not available</p>";}}catch(ap){Y+="<p>adsStatus is not available</p>";}if(H.isMobile()){document.write(Y);}else{ao=window.open();ao.document.write(Y);}},createNode:function(aq,al,ao){var an,Y={img:true,input:true},ap=ao?"-"+ao:"",am;an=f.ClassNameManager.getClassName("videoplayer"+ap,al);if(aq in Y){am=f.Node.create("<"+aq+"/>").setAttribute("class",an);}else{am=f.Node.create("<"+aq+"></"+aq+">").setAttribute("class",an);}return am;},_buildFbLink:function(an){var aq=this._controller.getStrings(),am=this._model.get("currentMedia"),ap=am.get("shareUrl"),ao=this.createNode("a","fb-link",an),al=this.createNode("span","fb-icon",an),Y=this.createNode("span","fb-share",an);if(ap){Y.set("innerHTML",aq.SHARE_ON_FACEBOOK);ao.setAttribute("target","_blank");ao.setAttribute("href",f.substitute(r.FACEBOOK_URL_TEMPLATE,{title:encodeURIComponent(am.get("title")),shareUrl:encodeURIComponent(ap)}));ao.append(al);ao.append(Y);return ao;}return false;},destructor:function(){var Y=this;if(Y.videoRenderer){Y.videoRenderer.destroy();}Y.videoRenderer=null;if(Y._model){Y._model.detachAll();}Y._model=null;Y._providerLogo=null;Y._providerLogoLink=null;Y.removeMediaLoadHandler();f.one("body").detach("yui3-videoplayer|*");}});f.namespace("VideoPlatform").View=r;var ad={HD_HEIGHT_CONSTANT:720,HD_WIDTH_CONSTANT:1280,HD_BITRATE_CONSTANT:1400};var aa={BEGIN:"begin",INITIALIZED:"initialized",LOADING:"loading",LOADED:"loaded",PREPARING:"preparing",PREPARED:"prepared",PRESTARTED:"prestarted",STARTED:"started",POSTSTARTED:"poststarted",PAUSED:"paused",PLAYBACKCOMPLETE:"playbackComplete",ERROR:"error"};function e(){}e.prototype.log=function(Y,al){};function k(){k.superclass.constructor.apply(this,arguments);}k.NAME="Timer";k.NS="Timer";k.ATTRS={};f.extend(k,f.Base,{initializer:function(Y){this._m=Y.model;},start:function(){this._start=(new Date()).getTime();},stop:function(Y,ao){var an=this._m.get("profileData"),al,am,ap;if(an){al=(new Date()).getTime();am=al-this._m.START_TIME;ap=al-this._start;an.add({type:Y,message:ao,timeDiff:ap,startTime:am-ap,endTime:am});
}},setStartTime:function(Y){this._start=Y;},getStartTime:function(){return this._start;},recordTime:function(Y,an,ao,al){var am=this._m.get("profileData");if(am){am.add({type:Y,message:an,timeDiff:ao,startTime:al,endTime:al+ao});}},destructor:function(){}});f.namespace("VideoPlatform").Timer=k;function ac(al,Y){this.model=al;this.controller=Y;}ac.NAME="BaseState";ac.prototype={activate:function(){},init:function(){},load:function(){},prepare:function(){},start:function(){},play:function(){},pause:function(){},seek:function(){},setFullscreen:function(){},readyStateHandler:function(Y){this.model.set("rendererState",Y.newVal);},playbackReadyHandler:function(){var am=this.controller,al=am._renderer,Y=this.model.get("currentMedia");am.updateDuration(Y,al.getDuration());},playbackPlayHandler:function(){var Y=aa.STARTED;this.controller._setState(Y);this.model.set("playerState",Y);},playbackPlayingHandler:function(){this.model.set("isPlaying",true);this.model.set("isWaiting",false);},playbackPausedHandler:function(){var Y=aa.PAUSED;this.controller._setState(Y);this.model.setAttrs({playerState:Y,isPlaying:false});},playbackProgressHandler:function(al){var Y=(al.currentTime)?al.currentTime:"";this.model.set("playbackPosition",Y);},mediaInfoUpdateHandler:function(Y){this.model.get("currentMedia").set("mediaInfo",Y.mediaInfo);},playbackSeekHandler:function(){this.model.set("isSeeking",true);},playbackSeekedHandler:function(){this.model.set("isSeeking",false);},playbackCompleteHandler:function(){this.controller._setState(aa.POSTSTARTED);},playbackErrorHandler:function(Y){this.controller.error(Y);},playbackWarningHandler:function(Y){this.controller.warn(Y);},playbackWaitingHandler:function(){this.model.set("isWaiting",true);},bitrateChangeHandler:function(Y){this.model.set("bitrate",Y.bitrate);},resizeHandler:function(Y){this.model.set("width",Y.width);this.model.set("height",Y.height);},clientResizeHandler:function(Y){this.model.set("adClientSize",{width:Y.width,height:Y.height});},adPluginReadyHandler:function(){this.model.set("yvapState",YVAPEvents.ADPLUGIN_READY);},adStartHandler:function(){},adEndHandler:function(){},adCompleteHandler:function(){},adProgressHandler:function(){},adErrorHandler:function(){},adNoneHandler:function(){},adPluginMetricHandler:function(Y){this.model.set("adPluginMetric",Y);},adPluginQosMetricHandler:function(Y){this.model.set("adPluginQosMetric",Y);},adPluginRemovedHandler:function(){this.model.set("yvapState",YVAPEvents.PLUGIN_REMOVED);},volumeChangeHandler:function(Y){this.model.set("volume",Y.details[0]);},muteChangeHandler:function(Y){this.model.set("mute",Y.details[0]);},fullscreenEnterHandler:function(){this.model.set("fullscreen",true);},fullscreenExitHandler:function(){this.model.set("fullscreen",false);},uiInteractHandler:function(Y){this.model.fire(Y);},durationChangeHandler:function(){},ccAvailabilityChangeHandler:function(Y){this.model.set("ccAvailable",Y.details[0]);},toString:function(){return"{state "+this.constructor.NAME+"}";}};f.augment(ac,e);function d(){d.superclass.constructor.apply(this,arguments);}d.NAME="AdBaseState";f.extend(d,ac,{adStartHandler:function(am){var al=false,Y=this.model;Y.set("yvapData",am);Y.set("yvapState",YVAPEvents.AD_START);Y.set("isSpinnerShown",al);K.init(this.controller._controls);K.updateControls({seekbarVisible:true,seekDragEnable:false,playPauseEnable:false,ccEnable:false});},adEndHandler:function(){this._resumePlayback();},adCompleteHandler:function(){this._resumePlayback();},adNoneHandler:function(){this.model.set("yvapState",YVAPEvents.AD_NONE);this._resumePlayback();},adProgressHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_PROGRESS);this.controller._controls.setAdDuration(al.duration);Y.set("adPlaybackPosition",al.position);},adErrorHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_ERROR);this._resumePlayback();},_resumePlayback:function(){var Y=this.model;if(Y.get("rendererType")==="html"){this.controller._returnVideoControl();}if(Y.get("yvapState")!==YVAPEvents.AD_ERROR){Y.set("yvapState",YVAPEvents.AD_COMPLETE);}K.init(this.controller._controls);K.updateControls({seekbarVisible:true,seekDragEnable:true,playPauseEnable:true,ccEnable:true});}});function D(){D.superclass.constructor.apply(this,arguments);}D.NAME="BeginState";f.extend(D,ac,{activate:function(){this.model.setAttrs({isInitialized:false,isLoading:false,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,hasError:false});},init:function(){var Y=this.model,am=this.controller,al=Y.get("ccSettingsAvailable");am.cookieHandler=new G({model:Y});am.cookieHandler.createAndLoadCookies();if(!f.UA.mobile&&!al&&Y.get("userAuthenticated")===true){am._cmsService.getCaptionSettings({success:function(an){if(an&&an.cc){var ao=an.cc;if(ao.err){ao.err==="Invalid_GUID"&&Y.set("userAuthenticated",false);}else{Y.set("ccSettings",ao);Y.set("ccSettingsAvailable",true);Y.set("userAuthenticated",true);}}else{}},failure:function(an){}});}am._setState(aa.INITIALIZED);Y.set("playerState",aa.INITIALIZED);},adErrorHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function C(){C.superclass.constructor.apply(this,arguments);}C.NAME="InitializedState";f.extend(C,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});},adErrorHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_ERROR);},load:function(){var am=this,aq=am.controller,Y=am.model,ao=Y.get("playlist"),ap=new k({model:Y}),al=aq?aq.getProfiler():null;if(Y.get("standaloneAdMode")){aq._createYVAP();aq._setState(aa.LOADED);Y.set("playerState",aa.LOADED);return;}ap.start();if(al){al.setEndTime(aj.INIT_TO_LOAD_PLAYLIST.type);al.add(aj.PLAYLIST_LOADED);}function an(){ap.stop(aj.PLAYLIST_LOADED.type,aj.PLAYLIST_LOADED.desc);
if(al){al.setEndTime(aj.PLAYLIST_LOADED.type);}if(Y.get("YVAPRequired")===true){aq._createYVAP();}aq.setPlaylistPosition(0);if(Y.get("rendererReady")){aq.preLoadVideo();}else{Y.after("rendererReadyChange",function(ar){if(true===ar.newVal){aq.preLoadVideo();}},am);}if(Y.get("playerState")!==aa.ERROR&&(Y.get("playerState")===aa.INITIALIZED||Y.get("playerState")===aa.LOADING)){aq._setState(aa.LOADED);Y.set("playerState",aa.LOADED);}}aq.getLoadStrategy().call(aq,{loadFromCMS:function(){if(ao.get("id").length>0||ao.items().size()>0){aq._setState(aa.LOADING);Y.set("playerState",aa.LOADING);ap.start();am.loadPlaylist(ao,{success:an,failure:function(ar){aq.error(ar);}});}},loadData:function(){setTimeout(an,1);}});},loadPlaylist:function(am,ar){var au=this.controller,Y=ar.context||null,at=am.items(),aw,av,aq=this.model,ap=this.constructor.NAME;function ao(){ar.success.call(Y,am);}function al(ax){ar.failure.call(Y,f.merge({type:c.ERROR.CMS_REQUEST.type},ax));}function an(aC){var ay,aA,ax,aB;function az(){if(typeof ay!=="undefined"){return ay;}for(aA=0,ax=aC.length;aA<ax;aA++){aB=aC[aA];if(aB.height>=ad.HD_HEIGHT_CONSTANT&&aB.width>=ad.HD_WIDTH_CONSTANT){ay=true;return ay;}}ay=false;return ay;}return az;}if(am.get("id").length>0){au._cmsService.loadPlaylist(am.get("id"),0,0,null,{success:function(ay){var aB=ay.mediaItems,aA,az,aC=aq.get("playlist"),ax=ay.status;if(aB.length===0){aC.set("status",ax);al(new f.VideoPlatform.ErrorObject(c.ERROR.NO_PLAYLIST_CONTENT.type,ax.code,ap,ax.msg+"; playlistId "+aC.get("id"),c.LEVEL.CRITICAL));}else{am.set("totalLength",ay.total);am.set("totalRequested",au._cmsService.get("playlistCount"));for(aA=0;aA<aB.length;aA++){az=aB[aA];az.hdAvailable=an(az.streams);if(az.images){az.images.large=az.images.medium=az.images.thumbnail;}at.add(az);}ao();}},failure:al});}else{aw=at.item(0);av=at.filter(function(ax){return ax.get("id");});if(av.size()>0){au._cmsService.loadClips(av,{success:function(ax){if(ax){f.each(ax,function(aA,ay){var aB=aA.id,az=at.item(ay);if(aB!==az.get("id")){az=at.find(function(aC){return aB===aC.get("id");});}if(aA.streams){aA.hdAvailable=an(aA.streams);}if(az){f.Object.each(aA,function(aD,aC){var aE,aF=az.get(aC);if(f.Lang.isObject(aF)&&f.Lang.isObject(aD)){for(aE in aD){if(!aF[aE]){aF[aE]=aD[aE];}}}else{if(aF===undefined){az.set(aC,aD);}}});}});ao();}else{al(new f.VideoPlatform.ErrorObject(c.ERROR.NO_PLAYLIST_CONTENT.type,c.ERROR.NO_PLAYLIST_CONTENT.code,ap,"no clips found",c.LEVEL.CRITICAL));}},failure:al});}else{ao();}}}});function B(){B.superclass.constructor.apply(this,arguments);}B.NAME="LoadingState";f.extend(B,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:true,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});},adErrorHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function ak(){ak.superclass.constructor.apply(this,arguments);}ak.NAME="LoadedState";f.extend(ak,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(this.model.get("autoplay")===false){this.model.set("isSpinnerShown",false);}},prepare:function(){var ar=this.controller,am=this.model,ap,av,at,au=ar?ar.getProfiler():null,al=am.get("currentMedia"),an=aj.VP_PREPARED.type,aq=ar.preparedProfileKey,ao,Y=2;ar._setState(aa.PREPARING);am.set("playerState",aa.PREPARING);ao=al.get("tryCount");if(!ao){ao=1;al.set("tryCount",1);}else{al.set("tryCount",++ao);}if(ao>Y){ar.error(new f.VideoPlatform.ErrorObject(c.ERROR.PLAYBACK.type,c.ERROR.PLAYBACK.code,this.constructor.NAME,"Video object has no stream and sapi request count exceeds limit.",c.LEVEL.CRITICAL));return;}if(am.get("standaloneAdMode")){ar._setState(aa.PREPARED);am.set("playerState",aa.PREPARED);ar.play();return;}ar.getPrepareStrategy(al).call(ar,al,{success:function(aw){ap=am.get("currentMedia");if(ap){if(ap.get("id")===al.get("id")){ar.updateMediaAttrs(al,aw);ar._setState(aa.PREPARED);am.set("playerState",aa.PREPARED);if(au&&isNaN(au.getItem(an,aq).endTime)){au.setEndTime(an,aq);}av=ap.get("streams");at=ap.get("streamUrl");if((av&&av.length>0)||(at&&at.length>0)){if(am.get("rendererType")==="flash"&&am.get("useHlsFlash")==="true"&&al.get("isLive")&&!al.get("enforcedFormatAndProtocol")){al.set("streams",null);al.set("isPreFetched",false);al.set("enforcedFormatAndProtocol",H.getFormatsAndProtocols(am.get("rendererType"),false));am.set("currentMedia",al);this.prepare();}else{ar.play();}}else{this.prepare();}}else{this.prepare();}}else{}},failure:function(ax,aw){if(aw){ar.updateMediaAttrs(al,aw);}if(au&&isNaN(au.getItem(an,aq).endTime)){au.setEndTime(an,aq);}ar.error(ax);},context:this});},play:function(){this.controller.prepare();},adErrorHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function P(){P.superclass.constructor.apply(this,arguments);}P.NAME="PreparingState";f.extend(P,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:true,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(this.model.get("autoplay")===false){this.model.set("isSpinnerShown",true);}},adErrorHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function Q(){Q.superclass.constructor.apply(this,arguments);}Q.NAME="PreparedState";f.extend(Q,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});var Y=this.model.get("endScreenVideos").items().size();if(Y>0){this.model.get("endScreenVideos").items().reset();}},play:function(){this.controller._setState(aa.PRESTARTED);
},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},adErrorHandler:function(al){var Y=this.model;Y.set("yvapData",al);Y.set("yvapState",YVAPEvents.AD_ERROR);}});function W(){W.superclass.constructor.apply(this,arguments);}W.NAME="StartedState";f.extend(W,d,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false,isSpinnerShown:false});var am=this,Y=am.model,an=Y.get("ccAvailable"),al=am.controller;if(an===true&&al.isHtmlCCSupported()){if(!Y.get("closedCaptions")){Y.after("playbackPositionChange",am._loadClosedCaptionContent,am);}else{}}am._loadRelatedContent();},_loadRelatedContent:function(){var at=this,an=at.model,al=an.get("currentMedia"),Y=an.get("continuousPlay"),ar=an.get("playlistPosition"),am=an.get("playlist").items().size(),ap=an.get("endScreenVideos").items().size(),aq=false,ao;if(!an.get("endscreen")){return;}if(ap!==0){return;}aq=(al.get("id")&&an.get("loop")===false&&((Y&&ar===am-1)||!Y));if(!aq){return;}ao=al.get("duration");if(isNaN(ao)||ao===0){an.after("durationChange",at._startLoadingEndScreenContent,at,true);}else{at._startLoadingEndScreenContent({newVal:ao});}},_startLoadingEndScreenContent:function(ao,Y){var al=this,am=al.model,an=3;if(ao.newVal<=an){return;}am.after("playbackPositionChange",al.loadEndScreenContent,al);if(Y){am.detach("durationChange",al._startLoadingEndScreenContent,al);}},loadEndScreenContent:function(){var al=this,Y=al.model,am=Y.get("currentMedia"),an=al.controller;if(Y.get("playbackPosition")>3){Y.detach("playbackPositionChange",al.loadEndScreenContent,al);al.loadEndScreenVideos(am,{success:function(ao){if(Y.get("endScreenVideos").get("mediaItems")._items.length===0){Y.set("endScreenVideos",ao);}al._setRelatedVideosInstrumentContexts(ao);},failure:function(ao){an.warn(ao);}});}else{}},loadEndScreenVideos:function(al,aq){var ar=aq.context||null,an=this.model,ao=this.constructor.NAME,ap=this.controller,at={success:function(av){var aw=c.ERROR.NO_RELATED_CONTENT;if("100"===av.status.code){am(au(av));}else{Y(new f.VideoPlatform.ErrorObject(aw.type,aw.code,ao,"error loading related videos",c.LEVEL.WARNING));}},failure:function(av){Y(av);}};function am(av){aq.success.call(ar,av);}function Y(av){aq.failure.call(ar,av);}function au(av){an.get("endScreenVideos").items().reset();var az=an.get("endScreenVideos"),ax=az.items(),ay,aw;for(ay=0;ay<av.mediaItems.length;ay++){if("100"===av.mediaItems[ay].status.code||"101"===av.mediaItems[ay].status.code){aw=av.mediaItems[ay];if(aw.images){aw.images.large=aw.images.medium=aw.images.thumbnail;}ax.add(aw);}}return ax;}ap._cmsService.loadRelatedVideos(al,at);},_setRelatedVideosInstrumentContexts:function(al){var ao=[],an=al?al.size():0,Y,am;for(Y=0;Y<an;Y++){am=al.item(Y);ao[Y]=am.get("instrumentation").linkContext;}this.model.set("relatedVideosLinkContexts",ao.join(";"));this.model.set("relatedVideosVideoContext",this.model.get("currentMedia").get("id"));},loadClosedCaptions:function(an){var aq=an.context||null,am=this.constructor.NAME,Y=this.controller,ao={success:function(ar){var at=c.ERROR.NO_CLOSED_CAPTION_CONTENT;if(!f.Object.isEmpty(ar.entries)){al(ar);}else{ap(new f.VideoPlatform.ErrorObject(at.type,at.code,am,"error loading closed captions",c.LEVEL.WARNING));}},failure:function(ar){ap(ar);}};function al(ar){an.success.call(aq,ar);}function ap(ar){an.failure.call(aq,ar);}Y._cmsService.fetchClosedCaptionContent(ao);},_loadClosedCaptionContent:function(){var al=this,am=al.controller,Y=al.model;if(Y.get("playbackPosition")>1){Y.detach("playbackPositionChange",al._loadClosedCaptionContent,al);al.loadClosedCaptions({success:function(an){Y.set("closedCaptions",an);},failure:function(an){am.warn(an);}});}else{}},pause:function(){this.controller._renderer.pause();},seek:function(Y){this.controller._renderer.seek(Y);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},durationChangeHandler:function(Y){this.controller.updateDuration(this.model.get("currentMedia"),Y.details[0]);},uiInteractHandler:function(Y){this.constructor.superclass.uiInteractHandler.call(this,Y);if(Y.source==="controlsInfoButton"){this.controller.toggleInfoScreen();}else{if(Y.source==="controlsCCButton"){this.controller.toggleClosedCaptions();}}},mediaInfoUpdateHandler:function(Y){this.model.get("currentMedia").set("mediaInfo",Y.mediaInfo);},prepare:function(){ak.prototype.prepare.apply(this,arguments);},adStartHandler:function(Y){if(this.model.get("rendererType")==="flash"){this.pause();}W.superclass.adStartHandler.call(this,Y);},_resumePlayback:function(){}});function z(){z.superclass.constructor.apply(this,arguments);}z.NAME="PausedState";f.extend(z,d,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:true,isSeeking:false,isCompleted:false,isError:false});},play:function(){this.controller._renderer.play();},seek:function(){W.prototype.seek.apply(this,arguments);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},uiInteractHandler:function(Y){W.prototype.uiInteractHandler.call(this,Y);},mediaInfoUpdateHandler:function(Y){W.prototype.mediaInfoUpdateHandler.call(this,Y);},durationChangeHandler:function(Y){this.controller.updateDuration(this.model.get("currentMedia"),Y.details[0]);},_resumePlayback:function(){z.superclass._resumePlayback.call(this);this.play();},prepare:function(){ak.prototype.prepare.apply(this,arguments);}});function T(){T.superclass.constructor.apply(this,arguments);}T.NAME="PlaybackCompleteState";f.extend(T,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:true,isError:false});},play:function(){this.model.set("playbackPosition",0);ak.prototype.prepare.apply(this,arguments);
},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},prepare:function(){ak.prototype.prepare.apply(this,arguments);}});function L(){L.superclass.constructor.apply(this,arguments);}L.NAME="ErrorState";f.extend(L,ac,{activate:function(){this.model.setAttrs({isError:true});},prepare:function(){ak.prototype.prepare.apply(this,arguments);},playbackPausedHandler:function(){}});function I(){I.superclass.constructor.apply(this,arguments);}I.NAME="PreStartedState";f.extend(I,d,{activate:function(){var am=this.controller,Y=this.model,al=am._yvapRenderer;if(Y.get("rendererReady")===false){Y.after("rendererReadyChange",function(an){if(true===an.newVal){this.activate();}},this);return;}this.model.setAttrs({playerState:aa.PRESTARTED,isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(al&&!al.get("criticalError")&&!al.shouldSkipAd()){if(Y.get("rendererType")==="html"){am._suspendVideoControl();}al.requestPreRollAd();}else{this._resumePlayback();}},_resumePlayback:function(){var al=this.controller._renderer,Y=this.model;I.superclass._resumePlayback.call(this);al.load(Y.get("currentMedia"));al.play();},prepare:function(){ak.prototype.prepare.apply(this,arguments);},durationChangeHandler:function(Y){this.controller.updateDuration(this.model.get("currentMedia"),Y.details[0]);}});function R(){R.superclass.constructor.apply(this,arguments);}R.NAME="PostStartedState";f.extend(R,d,{activate:function(){this.model.setAttrs({playerState:aa.POSTSTARTED,isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});var Y=this.controller._yvapRenderer,al=aa.PLAYBACKCOMPLETE;if(!Y||Y.get("criticalError")||Y.shouldSkipAd()){this.controller._setState(al);this.model.set("playerState",al);}else{if(this.model.get("rendererType")==="html"){this.controller._suspendVideoControl();}Y.requestPostRollAd();}},_resumePlayback:function(){var am=this.controller,Y=this.model,al=aa.PLAYBACKCOMPLETE;R.superclass._resumePlayback.call(this);am._setState(al);Y.set("playerState",al);},prepare:function(){ak.prototype.prepare.apply(this,arguments);}});function b(al,an){var Y=this,am={bucket:50,colo:"ycs",env:H.isInternalUser()?"s":"p"};Y._m=al;Y._states={begin:new D(al,Y),initialized:new C(al,Y),loading:new B(al,Y),loaded:new ak(al,Y),preparing:new P(al,Y),prepared:new Q(al,Y),started:new W(al,Y),paused:new z(al,Y),playbackComplete:new T(al,Y),error:new L(al,Y),prestarted:new I(al,Y),poststarted:new R(al,Y)};Y._activeState=Y._states.begin;Y._defaultRenderer=f.Object.getValue(an,"playlist.mediaItems.0.adData.adRules.result.renderType".split("."))||"flash";Y._preferHTML5=f.Object.getValue(an,"html5");if(Y._m){Y._m.setAttrs({guid:H.generateGuid(),rendererType:Y.getRendererType(f.UA),isOffNetwork:!H.isYahooDomain(H.getHostUrl()),hostingData:f.Object.getValue(window,"YAHOO.VideoPlatform.PlayerHosting".split("."))||am,lang:f.config.lang||"",autoplay:f.Object.getValue(an,"standaloneAdMode")===true});Y._shouldEnableHLS();Y._m.after("currentMediaChange",function(ao){f.later(1,Y,Y._checkPartnerBranding,ao);},Y);}Y._cmsService=new f.VideoPlatform.LegoCMS({model:Y._m,controller:Y});}b.NAME="Controller";b.INSTANCE_CONFIG_WHITELIST=["autoplay","bitrate","site","lang","region","pageSpaceId","comscoreC4","comscoreC6","playerSpaceId","reportingDomain","playlist","chromeless","rendererType","continuousPlay","YVAP","beacons","errorDisplayDuration","mute","volume","lms","ybang","carousel","endscreen","startscreen","errorscreen","infoscreen","expType","expName","startVideo","atlasEnv","CMS","expBucket","SAPI_CONF","emptySpaceIdContextInSapi","pageLatency","standaloneAdMode","loop","synd","streamAd","ccSettings","userAuthenticated"];b.CONFIG_UPDATE_ALLOWED_WHITELIST=["continuousPlay"];b.prototype={_shouldEnableHLS:function(){var al=this._m.get("hostingData.env"),Y=this._m.get("hostingData.bucket");if(al==="s"&&Y<50){this._m.set("useHlsFlash","true");}else{if(al==="p"&&Y===1){this._m.set("useHlsFlash","true");}else{if(al==="q"&&Y<100){this._m.set("useHlsFlash","true");}}}},init:function(){var Y=this;Y._activeState.init();Y.load();Y._captionsCustomizationMode=false;},destroy:function(){var Y=this;Y._m=null;Y._activeState=null;if(Y._controls){Y._controls.destroy();}Y._controls=null;Y._profiler=null;if(Y._metrics){Y._metrics.destroy();}Y._metrics=null;if(Y._renderer){Y._renderer.detach();}Y._renderer=null;if(Y._yvapRenderer){Y._yvapRenderer.destroy();}Y._yvapRenderer=null;},setControlsObj:function(Y){this._controls=Y;},getControlsObj:function(){return this._controls;},setProfiler:function(Y){this._profiler=Y;},getProfiler:function(){return this._profiler;},setMetricsModule:function(Y){this._metrics=Y;},getMetricsModule:function(){return this._metrics;},getRenderer:function(){return this._renderer;},getAdPluginInstance:function(){var Y=this;return(Y._yvapRenderer)?Y._yvapRenderer._adPlugin:null;},validateConfig:function(ar){var Y=this._m,ao=this.configErrors(ar),aq,am,ap,al,an;if(ao.length){aq=ao.join("\n");this.error(new f.VideoPlatform.ErrorObject(c.ERROR.CONFIG.type,c.ERROR.CONFIG.code,this.constructor.NAME,aq,c.LEVEL.CRITICAL));}else{am=this.filterObject(ar,b.INSTANCE_CONFIG_WHITELIST);ap=ar.ccSettings;this.commitToModel(am,Y);Y.set("config",ar);if(Y.get("synd")){this._cmsService.set("playlistCount",30);}if(!ar.YVAP){Y.set("YVAPRequired",false);}if(ap){Y.set("ccSettings",ap);if(ap===Y.get("ccSettings")){Y.set("ccSettingsAvailable",true);}else{Y.set("ccSettingsAvailable",false);}}an=am.playlist;if(an&&an.startVideo){Y.set("startVideo",an.startVideo);}else{if(an&&an.id&&an.mediaItems){al=an.mediaItems;if(al.length>0){Y.set("startVideo",al[0].id);}}}}},updateConfig:function(aq){var Y=this,al=(f.Lang.isObject(aq))?aq:null,an=f.VideoPlatform.Controller.CONFIG_UPDATE_ALLOWED_WHITELIST,ap=an.length,ao,am;if(al===null){return;
}for(am=0;am<ap;am++){ao=an[am];if(al.hasOwnProperty(ao)){Y._m.set(ao,al[ao]);}}},storeCaptionConfig:function(al){var Y=this;this._cmsService.storeCaptionSettings(al,{success:function(am){var an=am.closedcaptionprefs&&am.closedcaptionprefs[0];if(an&&an.err){if(an.err==="Invalid_GUID"){Y._m.set("userAuthenticated",false);}}else{Y._m.set("userAuthenticated",true);}},failure:function(am){}});},load:function(al,Y){this._activeState.load(al,Y);},prepare:function(){var Y=this._profiler,al=Y?this._profiler.getItem(aj.VP_PREPARED.type):null;if(Y&&!f.Lang.isValue(al)){Y.setEndTime(aj.WAITING_FOR_LOADED.type);this.preparedProfileKey=Y.add(aj.VP_PREPARED);}this._activeState.prepare();},startMediaChangeTimer:function(){var Y=this._m,al=this._profiler,am=new k({model:Y});function ap(){am.stop(aj.VP_MEDIA_CHANGE.type,aj.VP_MEDIA_CHANGE.desc);if(al){al.setEndTime(aj.VP_MEDIA_CHANGE.type);}}function ao(aq){switch(aq.newVal){case YVAPEvents.AD_START:ap();break;case YVAPEvents.AD_NONE:case YVAPEvents.AD_ERROR:Y.after("isPlayingChange",an,this);break;}}function an(aq){if(aq.newVal===true){ap();Y.detach("isPlayingChange",an,this);}}Y.once("yvapStateChange",ao,this);am.start();if(al){al.add(aj.VP_MEDIA_CHANGE);}},preparePlaylistPosition:function(Y){this.startMediaChangeTimer();this.setPlaylistPosition(Y);this.prepare();},play:function(){this._activeState.play();},pause:function(){this._activeState.pause();},seek:function(Y){this._activeState.seek(Y);},setSettingsMenuVisibility:function(Y){this._renderer.setSettingsMenuVisibility(Y);},setFullscreen:function(Y){this._activeState.setFullscreen(Y);},setVolume:function(al){try{if(al<0){al=0;}if(al>1){al=1;}this._renderer.setVolume(al);}catch(Y){}},setMute:function(Y){try{this._renderer.setMute(Y);}catch(al){}},setResolution:function(Y){if(this._m.get("rendererType")==="html"){this._renderer.setResolution(Y);}},setPlaylistPosition:function(al){var Y=this._m;this.pause();Y.set("playlistPosition",al);Y.set("currentMedia",Y.get("playlist").items().item(al));Y.set("playbackPosition",0);},preLoadVideo:function(){var Y=this;Y._renderer.preload(Y._m.get("currentMedia"));},playNext:function(){var am=this._m.get("playlistPosition"),Y=am+1,aq=this._m.get("playlist").items(),ap=aq.size(),ao=ap>1,an=this._m.get("continuousPlay"),al=this._m.get("loop");if((!ao&&!al&&an)||(!ao&&!al&&!an)||(ao&&!al&&an&&Y>=ap)||(ao&&!al&&!an)){return;}if((!ao&&al&&an)||(!ao&&al&&!an)||(ao&&al&&!an)){this._m.reset("playlistPosition");this.preparePlaylistPosition(am);return;}Y=(al)?Y%ap:Y;aq._items[Y].set("autoContinue",true);this.preparePlaylistPosition(Y);},playIndex:function(am,al,ao){var Y=this._m,an,ap;al=f.Lang.isUndefined(al)?false:al;if(al&&(al==="endScreen"||al==="errorScreen")&&ao!=="endscreenReplayButton"){an=Y.get("endScreenVideos").items().item(am);ap=Y.get("playlist").items();am=Y.get("playlistPosition")+1;ap.add(an,am);}Y.get("playlist").items()._items[am].set("autoContinue",false);this.preparePlaylistPosition(am);},clearPlaylist:function(){var al=aa.INITIALIZED,Y=this._m;this.pause();Y.get("playlist").items().clear();this._setState(al);Y.set("playerState",al);},addToPlaylist:function(al){var Y=this._m;Y.get("playlist").items().add(al);if(aa.INITIALIZED===Y.get("playerState")){this.load();}},toggleInfoScreen:function(){var Y=this._m,al=Y.get("activeScreenStr"),am="info"===al?undefined:"info";Y.set("activeScreenStr",am);},fireUIInteractBeacon:function(Y){this._m.fire("uiInteract",{source:Y});},getFontList:function(){return this._renderer.getFontList();},toggleClosedCaptions:function(){var Y=this._m,am=Y.get("ccSettings.show"),al=!am;Y.set("ccSettings.show",al);this.updateControls({ccShow:al});},setClosedCaptionsLanguage:function(aq,an){var al=this,Y=this._m,ao=Y.get("ccSettings.lang"),ap=aq.toLowerCase();if(ap!==ao){var am=al.getClosedCaptionUrl(ap);al.fireUIInteractBeacon("cc-lang-"+ap);Y.set("ccSettings.lang",ap,an);al.updateControls({ccUrl:am});}},setCaptionsCustomizationMode:function(am){var al=this,Y=this._m,an=Y.get("ccSettings.lang");al._captionsCustomizationMode=am;if(am){al.updateControls({ccAvailable:true,ccShow:true});al.showClosedCaptionsPreviewText(an);}else{al.updateControls({ccAvailable:Y.get("ccAvailable"),ccShow:Y.get("ccSettings.show")});al.hideClosedCaptionsPreviewText();}},isCaptionsCustomizationMode:function(){return this._captionsCustomizationMode;},showClosedCaptionsPreviewText:function(am){var Y=this,al=Y.getCaptionsString(am,"CAPTIONS_PREVIEW_TEXT_LC")||am;Y.updateControls({captionText:al});},hideClosedCaptionsPreviewText:function(){this.updateControls({clearCaptions:true});},setClosedCaptionsCustomization:function(an,ap,am){var al=this,Y=this._m,ao=Y.get("ccSettings."+an);if(ap!==ao){Y.set("ccSettings."+an,ap,am);al.updateControls({ccCustomization:Y.get("ccSettings")});}},setClosedCaptionsCustomizationObject:function(an,ap){var ao=this,al=this._m,am=N.ATTRS.ccSettings.value,aq=al.get("ccSettings"),Y=f.merge(am,{show:aq.show,lang:aq.lang},an);al.set("ccSettings",Y,ap);ao.updateControls({ccCustomization:al.get("ccSettings")});},getClosedCaptionUrl:function(ap){var Y=this._m,aq=Y.get("currentMedia").get("CC"),ao=ap||Y.get("ccSettings.lang");if(ao&&aq){var al=aq.length,an,am;for(am=0;am<al;am++){an=aq[am];if(an&&an.lang.toLowerCase()===ao){return an.url;}}for(am=0;am<al;am++){an=aq[am];if(an&&an.lang.toLowerCase().indexOf(ao)===0){return an.url;}}}return null;},updateControls:function(Y){if(this._renderer){this._renderer.updateControls(Y);}},displayClosedCaptions:function(al){var Y=this._m;if(f.Lang.isValue(Y)){Y.set("ccSettings.show",al);}},getMediaFormats:function(){return[H.formats.M3U8,H.formats.MP4];},warn:function(Y){this._m.set("warning",Y);},error:function(am){var al=aa.ERROR,Y=this._m;Y.set("error",am);this.pause();this._setState(al);Y.set("playerState",al);},updateMediaAttrs:function(al,Y){f.Object.each(Y,function(an,am){if((typeof(al.get(am))==="undefined")||(al.get(am)===null)||H.isEmptyObject(al.get(am))){al.set(am,an);}});},loadClips:function(al,Y){var am=Y.context||null;
this._cmsService.loadClips(al,{success:function(an){Y.success.call(am,an);},failure:function(an){Y.failure.call(am,an);}});},commitToModel:function(ao,al){al.setAttrs(ao);if("playlist" in ao){var an=ao.playlist,am=al.get("playlist");am.setAttrs(an);if("string"===typeof an.id&&an.id.length>0){}else{f.each(an.mediaItems,function(ap){if(ap&&!ap.id&&ap.streamUrl){ap.streamProtocol=H.parseUrl(ap.streamUrl).protocol;}am.items().add(ap);});}}if(f.Lang.isNumber(f.UA.ios)||(f.UA.android>0)){al.set("autoplay",false);}if(al.get("chromeless")){al.set("startscreen",false);al.set("infoscreen",false);al.set("errorscreen",false);al.set("endscreen",false);}if(al.get("synd")){var Y=al.get("synd");al.set("synd",Y+"-"+this._getSyndicationHash());}},_getSyndicationHash:function(){var al=H.fixedEncodeURIComponent,an=document.referrer,ao=0,am,ap,Y;an=an.split("?")[0];an=al(an);if(an.length===0){return ao;}for(am=0,Y=an.length;am<Y;am++){ap=an.charCodeAt(am);ao=((ao<<5)-ao)+ap;ao|=0;}return ao;},filterObject:function(am,Y){var al={};f.each(am,function(ao,an){if(f.Array.indexOf(Y,an)>=0){al[an]=ao;}});return al;},configErrors:function(al){var am=[],Y=["pageSpaceId","comscoreC4"];if(f.Lang.isObject(al)){f.each(Y,function(an){if(!f.Lang.isValue(al[an])){am.push('missing required key: "'+an+'"');}});if("beacons" in al){if(!f.Lang.isArray(al.beacons)){am.push("config.beacons should be an Array i.e. [{},]");}}}else{am.push("config is not an object");}return am;},updateDuration:function(al,Y){var am=isNaN(Y)?al.get("duration")||NaN:Y;if(al.get("isLive")||isNaN(am)){am=Number.POSITIVE_INFINITY;}this._m.set("duration",am);al.set("duration",am);},getLoadStrategy:function(){var am=this._fetchDataFromCMS,Y=this._m,al=false;if(this.isDataAvailable()){am=this._dataAvailable;al=true;}else{al=false;}Y.once("currentMediaChange",function(an){an.newVal.set("isPreFetched",al);},this);return am;},isDataAvailable:function(){var am=this,Y=am._m,al=["id","title","description","metrics","licensorName","licensorId","licenseName","licenseId","originatingProperty","images","provider","duration"],an=["streams","streamUrlOwner","adData","isLive"];an=an.concat(al);if(Y.get("autoplay")){return this._scanMediaObjects(an);}else{return this._scanMediaObjects(al);}},isHtmlCCSupported:function(){var Y=this._m;return(Y.get("rendererType")==="html"&&!f.UA.mobile);},_scanMediaObjects:function(at){var al=this._m,an,am,ao,aq,Y=al.get("playlist").items(),ap=Y.toArray(),av=true,ar,aw,au;if(ap.length===0){return false;}for(an=0,ao=ap.length;(an<ao&&av);an++){au=false;for(am=0,aq=at.length;(am<aq&&av);am++){ar=at[am];if(typeof ap[an][ar]==="undefined"){av=false;break;}if(ar==="streams"){au=true;}}aw=ap[an].streams;if(aw!==undefined){aw=this._getPreferredStreams(aw);if(aw.length===0){aw=undefined;}Y.item(an).set("streams",aw);if((aw===undefined)&&au){av=false;break;}}}return av;},_dataAvailable:function(Y){Y.loadData.call(Y.context||null,{});},_getPreferredStreams:function(aw){var ao=H.getFormatsAndProtocols(this._m.get("rendererType"),this._m.get("useHlsFlash")==="true"),Y=ao.acceptFormats,ap=ao.acceptProtocols,at=[],an,am,al,av,ar,aq,au;for(an=0,av=Y.length;an<av;an++){for(am=0,ar=ap.length;am<ar;am++){for(al=0,aq=aw.length;al<aq;al++){au=aw[al].host.split(":")[0];if(Y[an]===aw[al].format&&ap[am]===au){at.push(aw[al]);}}if(at.length>=1){return at;}}}return at;},_fetchDataFromCMS:function(Y){Y.loadFromCMS.call(Y.context||null,{});},getPrepareStrategy:function(am){var Y=am.get("status"),al=Y&&Y.code?parseInt(Y.code,10):NaN,an=this._fetchStreamData;if(am.hasStreamData()){an=this._alreadyPrepared;am.set("isPreFetched",true);}else{am.set("isPreFetched",false);}if(!isNaN(al)&&al>=200){an=this._clipStatusNotPlayable;}return an;},_alreadyPrepared:function(al,Y){Y.success.call(Y.context||null,{});},_clipStatusNotPlayable:function(an,am){var Y=an.get("status"),al=this.constructor.NAME;am.failure.call(am.context||null,new f.VideoPlatform.ErrorObject(c.ERROR.STREAM_NOT_PLAYABLE.type,Y.code,al,"clip not playable: "+Y.msg,c.LEVEL.CRITICAL),null);},_fetchStreamData:function(an,ap){var aq=new f.VideoPlatform.MediaCollection([an]),ao=this.constructor.NAME,al=ap.context||null,Y=new k({model:this._m}),at=this._profiler;function ar(au){ap.success.call(al,au);}function am(av,au){ap.failure.call(al,av,au);}Y.start();if(at){at.add(aj.CMS_GetStreams);}this.loadClips(aq,{success:function(au){Y.stop(aj.CMS_GetStreams.type,aj.CMS_GetStreams.desc);if(at){at.setEndTime(aj.CMS_GetStreams.type);}var av=au[0];if(av&&av.status&&("100"===av.status.code||"101"===av.status.code)){ar(av);}else{am(new f.VideoPlatform.ErrorObject(c.ERROR.STREAM_NOT_PLAYABLE.type,(av&&av.status)?av.status.code:c.ERROR.STREAM_NOT_PLAYABLE.code,ao,(av&&av.status&&av.status.msg)?av.status.msg:"error loading content",c.LEVEL.CRITICAL),av);}},failure:function(au){am(au,null);}});},_activeState:null,_setState:function(Y){if(Y!==this._m.get("playerState")){this._activeState=this._states[Y];this._activeState.activate();}return this._activeState;},_renderer:null,_yvapRenderer:null,registerRenderer:function(Y){this._addRendererListeners(Y);this._renderer=Y;},_addRendererListeners:function(Y){var al=af;f.each([al.PLAYBACK_READY,al.PLAYBACK_PLAY,al.PLAYBACK_PLAYING,al.PLAYBACK_PAUSED,al.PLAYBACK_PROGRESS,al.PLAYBACK_SEEK,al.PLAYBACK_SEEKED,al.PLAYBACK_COMPLETE,al.PLAYBACK_ERROR,al.PLAYBACK_WARNING,al.PLAYBACK_WAITING,al.FULLSCREEN_ENTER,al.FULLSCREEN_EXIT,al.MUTE_CHANGE,al.VOLUME_CHANGE,al.UI_INTERACT,al.MEDIA_INFO_UPDATE,al.BITRATE_CHANGE,al.PLAYER_RESIZE,al.PLAYER_READYSTATE,al.CLIENT_RESIZE,al.DURATION_CHANGE,al.CCAVAILABILITY_CHANGE],function(am){Y.on(am,function(ao){var an=am+"Handler";if(f.Lang.isFunction(this._activeState[an])){this._activeState[an](ao);}},this);},this);},_suspendVideoControl:function(){var Y=this._renderer.suspendControl();this._m.set("videoPlaybackState",Y);},_returnVideoControl:function(){var Y=this._m.get("videoPlaybackState");if(Y){this._renderer.returnControl(Y);}},getRendererType:function(al){var am="html";
if(f.Lang.isString(al.mobile)||f.Lang.isNumber(al.ios)||al.android>0){return am;}if((navigator&&navigator.userAgent)&&((navigator.userAgent.indexOf("MSAppHost")>=0)||(/.+MSIE 10.+Windows NT.+WebView/i.test(navigator.userAgent)))){return am;}if(this._fallBackTOHTML5(al)){return am;}function Y(){return !!document.createElement("video").canPlayType;}if(this._preferHTML5&&Y()){return am;}return this._defaultRenderer;},_isBrowserHTML5Compatible:function(Y){var al=H.compareVersions;return(al(Y.chrome,21)>=0||al(Y.ie,9)>=0||al(H.isIE11(),9)>=0||al(Y.safari,6)>=0||al(Y.opera,10.6)>=0||al(Y.gecko,23)>=0);},_fallBackTOHTML5:function(Y){return(!this._isFlashVersionAtLeast(10,2)&&this._isBrowserHTML5Compatible(Y));},_testsFlashVersionAtLeast:function(av,ar,an){var au,ap=f.UA,al=f.Lang,aq,ao,Y;function at(aw){return parseInt(aw,10);}function am(aw){if(al.isNumber(at(aw[0]))){ap.flashMajor=aw[0];}if(al.isNumber(at(aw[1]))){ap.flashMinor=aw[1];}if(al.isNumber(at(aw[2]))){ap.flashRev=aw[2];}}au=H.getFlashVersion();if(au!==0&&au!==6){if(ap.gecko||ap.webkit||ap.opera){au=au.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split(".");}else{au=au.replace(/[A-Za-z\s]+/g,"").split(",");}am(au);}aq=at(ap.flashMajor);ao=at(ap.flashMinor);Y=at(ap.flashRev);av=at(av||0);ar=at(ar||0);an=at(an||0);if(av===aq){if(ar===ao){return an<=Y;}return ar<ao;}return av<aq;},_isFlashVersionAtLeast:function(Y,am,al){return this._testsFlashVersionAtLeast(Y,am,al);},getRendererClass:function(Y){var al={"flash":j,"html":h};return al[Y];},_createYVAP:function(){var Y=new f.VideoPlatform.YVAP({model:this._m,controller:this});this._yvapRenderer=Y;this.registerYVAP(Y);},registerYVAP:function(Y){var al=YVAPEvents;f.each([al.ADPLUGIN_READY,al.AD_START,al.AD_END,al.AD_COMPLETE,al.AD_ERROR,al.AD_NONE,al.AD_PROGRESS,al.AD_PLUGIN_METRIC,al.AD_PLUGIN_QOS_METRIC,al.PLUGIN_REMOVED],function(am){Y.on(am,function(ao){var an=am+"Handler";if(f.Lang.isFunction(this._activeState[an])){this._activeState[an](ao);}},this);},this);},getStrings:function(){var Y=f.Object.getValue(window,"YAHOO.VideoPlatform.i18n".split("."));if(typeof Y==="undefined"){return[];}else{return Y;}},getCaptionsString:function(ao,an,al){var Y=H.getCaptionLocalizedString(ao,an,al);if(!Y){var am=this.getStrings();Y=am[an];if(al){al.lang=null;}}return Y;},_checkPartnerBranding:function(ap){var am=this,an=am._m,ao=ap.newVal,aq=ao?ao.get("provider").name:null;if(aq!=="NFL Highlights"){an.reset("partnerCarouselItems");an.set("ybang",true);am.updateControls({ybangEnable:true});return;}an.set("ybang",false);am.updateControls({ybangEnable:false});function al(ar){var av=ar.mediaItems,au,at,aw=new f.VideoPlatform.MediaCollection();if(av.length===0){}else{for(au=0;au<av.length;au++){at=av[au];if(at.images){at.images.large=at.images.medium=at.images.thumbnail;}aw.add(at);}an.set("partnerCarouselItems",aw);an.set("ybang",false);}}function Y(){}this._cmsService.loadPlaylist("570a2285-8e29-4c78-a044-22b9aada15d3",0,0,4,{success:al,failure:Y});}};b.prototype.constructor=b;f.augment(b,e);f.namespace("VideoPlatform").Controller=b;var K={_controls:null,_updateHandlers:{"seekbarVisible":function(Y){this._controls.seekEnable(Y);},"seekDragEnable":function(Y){this._controls.seekDragEnable(Y);},"altDuration":function(Y){},"playPauseEnable":function(Y){this._controls.playPauseEnable(Y);},"fullscreenEnable":function(Y){this._controls.enableMaxMin(Y);},"ccEnable":function(Y){this._controls.enableCloseCaptions(Y);},"altCurrentTime":function(){},"infoEnable":function(){},"playLoadAnimation":function(){}},init:function(Y){this._controls=Y;},updateControls:function(an){var am,Y,al;for(Y in an){if(an.hasOwnProperty(Y)){al=this._updateHandlers[Y];if(typeof al==="function"){am=[an[Y]];al.apply(this,am);}else{}}}}};f.namespace("VideoPlatform").UpdateControls=K;f.namespace("VideoPlatform").API_Events={PLAYER_RENDERED:"render",PLAYER_READY:"playerReady",PLAYER_ERROR:"playerError",PLAYBACK_ERROR:"playbackError",PLAYER_VOLUME_CHANGE:"volumeChange",PLAYER_MUTE_CHANGE:"muteChange",PLAYBACK_READY:"playbackReady",PLAYBACK_START:"playbackStart",PLAYBACK_TIME_UPDATE:"playbackTimeUpdate",DURATION_CHANGE:"durationChange",BITRATE_CHANGE:"bitrateChange",PLAYBACK_PAUSE:"playbackPause",PLAYBACK_SEEK_COMPLETE:"playbackSeek",PLAYBACK_COMPLETE:"playbackComplete",PLAYER_FULLSCREEN_CHANGE:"fullscreenChange",AD_PLAYBACK_START:"adStart",AD_PLAYBACK_STOP:"adComplete",AD_PLAYBACK_PROGRESS:"adProgress",AD_NONE:"adNone",AD_ERROR:"adError",PLAYLIST_COMPLETE:"playlistComplete",PLAYLIST_POSITION_CHANGE:"playlistPositionChange",UI_INTERACT:"uiInteract"};var l=f.VideoPlatform.API_Events;function u(al,Y){this._c=Y;this._m=al;}u.prototype.play=function(){this._c.play();};u.prototype.pause=function(){this._c.pause();};u.prototype.seek=function(Y){this._c.seek(Y);};u.prototype.getDuration=function(){return this._m.get("duration");};u.prototype.getCurrentTime=function(){return this._m.get("playbackPosition");};u.prototype.setFullscreen=function(Y){this._c.setFullscreen(Y);};u.prototype.getFullscreen=function(){return this._m.get("fullscreen");};u.prototype.setVolume=function(Y){this._c.setVolume(Y);};u.prototype.getVolume=function(){return this._m.get("volume");};u.prototype.setMute=function(Y){this._c.setMute(Y);};u.prototype.getMute=function(){return this._m.get("mute");};u.prototype.getBitrate=function(){return this._m.get("bitrate");};u.prototype.setResolution=function(Y){return this._c.setResolution(Y);};u.prototype.displayClosedCaptions=function(Y){this._c.displayClosedCaptions(Y);};f.namespace("VideoPlatform").ControlsAPI=u;function U(al,Y){this._c=Y;this._m=al;}U.prototype.get=function(){var Y=this._m.get("playlist");return Y.toObject();};U.prototype.setPosition=function(Y){this._m.get("playlist").items()._items[Y].set("autoContinue",false);this._c.preparePlaylistPosition(Y);};U.prototype.setPositionById=function(al){var Y;Y=this._m.get("playlist").items().getIndexById(al);if(Y===-1){return;}this._m.get("playlist").items()._items[Y].set("autoContinue",false);
this._c.preparePlaylistPosition(Y);};U.prototype.getPosition=function(){return this._m.get("playlistPosition");};U.prototype.clear=function(){this._c.clearPlaylist();};U.prototype.removeItems=function(Y,al){return this._m.get("playlist").items().removeItems(Y,al);};U.prototype.removeItem=function(Y){return this._m.get("playlist").items().removeItem(Y);};U.prototype.getIndex=function(Y){return this._m.get("playlist").items().getIndexById(Y);};U.prototype.removeItemById=function(Y){return this._m.get("playlist").items().removeItemById(Y);};U.prototype.removeItemsById=function(Y){return this._m.get("playlist").items().removeItemsById(Y);};U.prototype.getSize=function(){return this._m.get("playlist").items().size();};U.prototype.addItem=function(Y){this._c.addToPlaylist(Y);};U.prototype.getItem=function(Y){var al=null;if(f.Lang.isNumber(Y)){al=this._m.get("playlist").get("mediaItems").item(Y);if(al){al=al.toObject();}}return al;};U.prototype.getCurrentItem=function(){return this.getItem(this.getPosition());};U.prototype.fetchMetaData=function(Y,al){var an=al.context||null,am=new f.VideoPlatform.MediaCollection(Y);this._c.loadClips(am,{success:function(ao){if(f&&f.Array){ao=f.Array.map(ao,function(ap){return new f.VideoPlatform.MediaObject(ap);});al.success.call(an,ao);}},failure:function(ao){al.failure.call(an,ao);}});};U.prototype.updatePlayerData=function(Y){var am=this._c._yvapRenderer,al=(f.Lang.isArray(Y))?Y:[Y];if(am===null){}else{am._updatePlayerData(al);}};f.namespace("VideoPlatform").PlaylistAPI=U;function m(){}m.prototype.updateConfig=function(Y){this._controller.updateConfig(Y);};m.prototype._setupAPI=function(al,Y){this._model=this._model||al;this._controller=this._controller||Y;this.publish(l.PLAYER_READY,{fireOnce:true});this.publish(l.PLAYER_RENDERED,{fireOnce:true});this.controls=new u(al,Y);this.playlist=new U(al,Y);al.after("isSeekingChange",this._onSeekingChange,this);al.after("playbackPositionChange",this._onPlaybackPositionChange,this);al.after("durationChange",this._onDurationChange,this);al.after("volumeChange",this._onVolumeChange,this);al.after("muteChange",this._onMuteChange,this);al.after("playerStateChange",this._onPlayerStateChange,this);al.after("fullscreenChange",this._onFullscreenChange,this);al.after("isPlaybackErrorChange",this._onPlaybackErrorChange,this);al.after("yvapStateChange",this._onYVAPStateChange,this);al.after("playlistPositionChange",this._onPlaylistPositionChange,this);al.after("uiInteract",this._onUIInteract,this);al.after("streamBitrateChange",this._onBitrateChange,this);};m.prototype._onSeekingChange=function(Y){if(Y.newVal===false&&Y.prevVal===true){this.fire(l.PLAYBACK_SEEK_COMPLETE);}};m.prototype._onVolumeChange=function(Y){this.fire(l.PLAYER_VOLUME_CHANGE,Y.newVal);};m.prototype._onFullscreenChange=function(Y){this.fire(l.PLAYER_FULLSCREEN_CHANGE,Y.newVal);};m.prototype._onMuteChange=function(Y){this.fire(l.PLAYER_MUTE_CHANGE,Y.newVal);};m.prototype._onPlaybackPositionChange=function(Y){this.fire(l.PLAYBACK_TIME_UPDATE,Y.newVal);};m.prototype._onDurationChange=function(Y){this.fire(l.DURATION_CHANGE,{duration:Y.newVal});};m.prototype._onBitrateChange=function(Y){this.fire(l.BITRATE_CHANGE,Y.newVal);};m.prototype._onPlaybackErrorChange=function(al){var Y;if(al.newVal===true){Y=this._model.get("error");this.fire(l.PLAYBACK_ERROR,new f.VideoPlatform.API_ErrorObject({message:Y.msg,code:Y.code}));}};m.prototype._adProgressHandler=function(Y){if("position" in Y.newVal){this.fire(l.AD_PLAYBACK_PROGRESS,Y.newVal);}};m.prototype._onYVAPStateChange=function(al){var Y=al.newVal||"";switch(Y){case"adStart":this.fire(l.AD_PLAYBACK_START,this._model.get("yvapData"));break;case"adComplete":this.fire(l.AD_PLAYBACK_STOP);break;case"adProgress":this.fire(l.AD_PLAYBACK_PROGRESS,this._model.get("yvapData"));this._model.after("yvapDataChange",this._adProgressHandler,this);break;case"adError":this.fire(l.AD_ERROR);break;case"adNone":this.fire(l.AD_NONE);break;}if(al.prevVal==="adProgress"&&al.newVal!=="adProgress"){this._model.detach("yvapDataChange",this._adProgressHandler,this);}};m.prototype._onPlayerStateChange=function(an){var al=an.newVal||"",Y=this._model,ao,am;switch(al){case aa.LOADED:this.fire(l.PLAYER_READY);this.fire(l.PLAYBACK_READY);break;case aa.PREPARED:break;case aa.STARTED:this.fire(l.PLAYBACK_START);break;case aa.PAUSED:this.fire(l.PLAYBACK_PAUSE);break;case aa.PLAYBACKCOMPLETE:ao=Y.get("playlist")&&Y.get("playlist").items().toArray().length||[];this.fire(l.PLAYBACK_COMPLETE);if(Y.get("playlistPosition")===ao-1){this.fire(l.PLAYLIST_COMPLETE);}break;case aa.ERROR:am=this._model.get("error")||{};this.fire(l.PLAYER_ERROR,new f.VideoPlatform.API_ErrorObject({message:am.msg,code:""}));break;}};m.prototype._onPlaylistPositionChange=function(Y){this.fire("playlistPositionChange",{position:Y.newVal});};m.prototype._onUIInteract=function(Y){if(Y.source){this.fire(l.UI_INTERACT,{srcElement:Y.source});}};f.augment(m,f.EventTarget);f.namespace("VideoPlatform").API=m;f.namespace("VideoPlatform").API_ConfigObject=function(){return{pageSpaceId:null,playlist:{},lang:null,airplay:null,chromeless:null,continuousPlay:null,YVAP:{accountId:null,playContext:null,ruleSetId:null},volume:null,mute:null,site:null,region:null,jurisdiction:null,beacons:[],comscoreC4:null,comscoreC6:null,autoplay:null,ybang:true,carousel:false,expType:null,expName:null,expBucket:null,startVideo:"",atlasEnv:null,standaloneAdMode:false,streamAd:null};};f.namespace("VideoPlatform").API_ErrorObject=function(Y){return f.merge({code:"",message:""},Y);};f.namespace("VideoPlatform").API_MediaObject=function(){return new f.VideoPlatform.MediaObject().toObject({});};f.namespace("VideoPlatform").API_StreamObject=function(){return{callback:"",path:"",type:"",streamId:"",cdn:"",bitrate:"",isLive:"",width:"",height:"",playGUID:"",duration:""};};f.namespace("VideoPlatform").API_PlaylistObject=function(){return new E().toObject({});};function ai(){ai.superclass.constructor.apply(this,arguments);}ai.NAME="VideoPlayer";
ai.NS="videoPlayer";ai.ATTRS={rendererType:{readOnly:true,getter:function(){return this._model.get("rendererType");}},spinnerTimeout:{value:"10",getter:function(Y){return Number(Y);}},playbackPlugin:{readOnly:true,getter:function(){var al;try{al=this._controller._renderer._yswf;}catch(Y){}finally{return al;}}},rendered:{value:false}};f.extend(ai,f.Base,{initializer:function(al){var Y=new ah(),am;Y.add(aj.VP_INIT_TO_START);Y.add(aj.VP_INIT_TO_STARTSCREEN);Y.add(aj.VP_CONSTRUCTOR);Y.add(aj.MVC_CONSTRUCTORS);this._instanceConfig=al;this._vpInitTime=(new Date()).getTime();this._model=new N();this._controller=new b(this._model,al);this._view=new r({model:this._model,controller:this._controller});Y.setEndTime(aj.MVC_CONSTRUCTORS.type);Y.add(aj.VP_SETUP_API);this._controller.validateConfig(al);am=this._model.get("autoplay");if(am===true){Y.remove(aj.VP_INIT_TO_STARTSCREEN.type);this._autoplayTimer(this._model,Y);}else{Y.remove(aj.VP_INIT_TO_START.type);this._startScreenTimer(this._model,Y);}this._metrics=new f.VideoPlatform.Metrics({model:this._model,controller:this._controller,view:this._view});Y.setMetricsModule(this._metrics);this._controller.setProfiler(Y);this._controller.setMetricsModule(this._metrics);this._setupAPI(this._model,this._controller);this._startSpinnerTimer(this._model);Y.setEndTime(aj.VP_SETUP_API.type);Y.add(aj.INIT_TO_LOAD_PLAYLIST);this._controller.init(al);Y.setEndTime(aj.VP_CONSTRUCTOR.type);},destructor:function(){var Y=this;if(Y._model){Y._model.destroy();}if(Y._view){Y._view.destroy();}if(Y._controller){Y._controller.destroy();}Y._model=null;Y._view=null;Y._controller=null;},render:function(aq){var al=aq,am,ao=this._model,ar=this._controller,at=this._view,au=ar?ar.getProfiler():null,Y=new k({model:this._model});if(au){au.add(aj.RENDER_NODE_AVAILABLE);}function ap(){at.on("stateChange",an,this);Y.start();if(au){au.setEndTime(aj.RENDER_NODE_AVAILABLE.type);au.add(aj.CREATE_RENDERER);}at.render(am);}function an(av){if("RENDERED"===av.newVal){Y.stop(aj.CREATE_RENDERER.type,aj.CREATE_RENDERER.desc);if(au){au.setEndTime(aj.CREATE_RENDERER.type);}this.set("rendered",true);this.fire(l.PLAYER_RENDERED);at.detach("stateChange",an,this);if(ao.get("autoplay")===true){if(au){au.add(aj.WAITING_FOR_LOADED);}if(ao.get("isLoaded")===true){ar.prepare();}else{ao.once("isLoadedChange",function(){ar.prepare();},this);}}}}if(f.Lang.isString(al)){f.on("available",function(){am=f.Node.one(al);ap.call(this);},al,this);}else{if(al&&(al.getDOMNode||f.Node.getDOMNode(al))){am=al;ap.call(this);}else{ar.error(new f.VideoPlatform.ErrorObject(c.ERROR.CONFIG.type,c.ERROR.CONFIG.code,this.constructor.NAME,"invalid parentNode",c.LEVEL.CRITICAL));}}return this;},setScreenConfig:function(al,Y){this._model.set(al,Y);},_startScreenTimer:function(am,al){var Y=am,an=al,ao=new k({model:Y});ao.start();this._view.once("startScreenCreatedChange",function(ap){if(ap.newVal===true){ao.stop(aj.VP_INIT_TO_STARTSCREEN.type,aj.VP_INIT_TO_STARTSCREEN.desc);ao=null;if(an){an.setEndTime(aj.VP_INIT_TO_STARTSCREEN.type);}}},this);},_startSpinnerTimer:function(an){var Y=an,aq=this._controller,ao=this.constructor.NAME,am;function ap(){if(am!==null&&am!==undefined){clearInterval(am);am=null;}}function al(){var ar=new f.VideoPlatform.ErrorObject(c.ERROR.SPINNER.type,c.ERROR.SPINNER.code,ao,"ps="+Y.get("playerState")+";as="+Y.get("yvapState"),c.LEVEL.WARNING);aq.warn(ar);ap();}Y.on("isSpinnerShownChange",function(at){var ar=this.get("spinnerTimeout")*1000;if(at.newVal===true){am=setTimeout(al,ar);}else{ap();}},this);},_autoplayTimer:function(at,av){var an=at,ar=av,al=new k({model:an});function ap(){al.stop(aj.VP_INIT_TO_START.type,aj.VP_INIT_TO_START.desc);al=null;if(ar){ar.setEndTime(aj.VP_INIT_TO_START.type);}}function ao(){an.once("yvapStateChange",au,this);}function am(){an.after("isPlayingChange",Y,this);}function au(aw){switch(aw.newVal){case YVAPEvents.AD_START:case YVAPEvents.AD_PROGRESS:ap();break;case YVAPEvents.AD_NONE:case YVAPEvents.AD_ERROR:case YVAPEvents.PLUGIN_REMOVED:case YVAPEvents.AD_COMPLETE:case YVAPEvents.AD_END:am();break;}}function Y(aw){if(aw.newVal===true){ap();an.detach("isPlayingChange",Y,this);}}ao();al.setStartTime(this._vpInitTime);function aq(){am();an.detach("yvapStateChange",au,this);}if(an.get("YVAPRequired")===false){aq();}else{an.once("YVAPRequiredChange",function(aw){if(aw.newVal===false){aq();}},this);}}});f.augment(ai,m);f.namespace("VideoPlatform").VideoPlayer=ai;function c(Y,al,an,am,ao){this.type=Y||"";this.code=al||"";this.src=an||"";this.message=am||"";this.level=ao||c.LEVEL.WARNING;return this;}c.ERROR={CMS_REQUEST:{type:"400",code:"101"},CMS_RESPONSE:{type:"400",code:"405"},CMS_RESPONSE_LOADCLIPS_STREAMS:{type:"401",code:"405"},CMS_RESPONSE_LOADCLIPS_META:{type:"402",code:"405"},CMS_RESPONSE_LOADCLIPS_MULTI:{type:"403",code:"405"},CMS_RESPONSE_LOADCLIPS_ALL:{type:"404",code:"405"},CMS_RESPONSE_LOADPLAYLIST:{type:"405",code:"405"},CMS_RESPONSE_LOADRELATED:{type:"406",code:"405"},CMS_RESPONSE_CLOSED_CAPTION:{type:"407",code:"405"},CMS_TIMEOUT:{type:"400",code:"408"},CMS_TIMEOUT_LOADCLIPS_STREAMS:{type:"401",code:"408"},CMS_TIMEOUT_LOADCLIPS_META:{type:"402",code:"408"},CMS_TIMEOUT_LOADCLIPS_MULTI:{type:"403",code:"408"},CMS_TIMEOUT_LOADCLIPS_ALL:{type:"404",code:"408"},CMS_TIMEOUT_LOADPLAYLIST:{type:"405",code:"408"},CMS_TIMEOUT_LOADRELATED:{type:"406",code:"408"},CMS_TIMEOUT_CLOSED_CAPTION:{type:"407",code:"408"},PLAYBACK:{type:"400",code:"100"},CONFIG:{type:"400",code:"300"},NO_FLASH:{type:"400",code:"200"},OLD_FLASH:{type:"400",code:"201"},NO_CONFIG:{type:"400",code:"300"},YUI_INTEGRATION_ERR:{type:"400",code:"301"},NO_CONTENT:{type:"500",code:"0"},STREAM_NOT_PLAYABLE:{type:"501",code:"0"},NO_PLAYLIST_CONTENT:{type:"502",code:"0"},NO_RELATED_CONTENT:{type:"503",code:"0"},NO_POPULAR_CONTENT:{type:"504",code:"0"},NO_CLOSED_CAPTION_CONTENT:{type:"505",code:"0"},CMS_TIMEOUT_LOADCLIPS_ALL_RETRY:{type:"204",code:"408"},CMS_TIMEOUT_LOADPLAYLIST_RETRY:{type:"205",code:"408"},CMS_TIMEOUT_LOADRELATED_RETRY:{type:"206",code:"408"},GET_CAPTION_SETTINGS_TIMEOUT:{type:"207",code:"408"},STORE_CAPTION_SETTINGS_TIMEOUT:{type:"208",code:"408"},CMS_REQUEST_LOADCLIPS_ALL_RETRY:{type:"204",code:"101"},CMS_REQUEST_LOADPLAYLIST_RETRY:{type:"205",code:"101"},CMS_REQUEST_LOADRELATED_RETRY:{type:"206",code:"101"},GET_CAPTION_SETTINGS_REQUEST:{type:"207",code:"101"},STORE_CAPTION_SETTINGS_REQUEST:{type:"208",code:"101"},GET_CAPTION_RESP:{type:"207",code:"102"},STORE_CAPTION_RESP:{type:"208",code:"102"},CMS_METRICS_VALIDATION:{type:"200",code:"100"},SPINNER:{type:"200",code:"305"},FLASH_BLOCKED:{type:"200",code:"202"},FLASH_WARNING:{type:"207",code:"0"}};
c.LEVEL={CRITICAL:"critical",WARNING:"warning"};f.namespace("VideoPlatform").ErrorObject=c;function J(){}J.Events={VP_CONSTRUCTOR:{type:"tcons",desc:"VideoPlayer Constructor",color:"green",qosMetric:true},MVC_CONSTRUCTORS:{type:"tmvccons",desc:"VideoPlayer MVC constructors",color:"white",qosMetric:false},VP_SETUP_API:{type:"tsetupapi",desc:"Before controller init",color:"white",qosMetric:false},INIT_TO_LOAD_PLAYLIST:{type:"titlpl",desc:"Controller init to load playlist (Begin state to Init state)",color:"white",qosMetric:false},PLAYLIST_LOADED:{type:"tploaded",desc:"Playlist loaded",color:"darkcyan",qosMetric:true},SAPI_LOADCLIPS:{type:"tsapic",desc:"SAPI request for clips",color:"darkcyan",qosMetric:true},RENDER_NODE_AVAILABLE:{type:"trnodeavail",desc:"Player Render API waiting for node to be available",color:"hotpink",qosMetric:true},CREATE_RENDERER:{type:"trcreate",desc:"Creating the renderer (swf/html)",color:"hotpink",qosMetric:true},WAITING_FOR_LOADED:{type:"twfl",desc:"Waiting for isLoaded to start controller.prepare()",color:"white",qosMetric:false},YSWF_READY:{type:"tswfr",desc:"Player SWF is ready",color:"royalblue",qosMetric:true},YSWF_NodeRendered:{type:"tfoins",desc:"Inserted flash object tag",color:"white",qosMetric:true},YSWF_LOADED:{type:"tfdl",desc:"Flash Download (Browser creates plugin, SWF is downloaded, Flex FW is initialized)",color:"white",qosMetric:true},YSWF_SWF_ONLY_INIT_TIME:{type:"tswfoi",desc:"Player SWF init time",color:"white",qosMetric:true},YVAP_LOADED:{type:"tswfl",desc:"Yvap Loaded",color:"saddlebrown",qosMetric:false},CMS_GetStreams:{type:"tcmsgs",desc:"SAPI Get Streams",color:"darkcyan",qosMetric:false},YVAP_READY:{type:"tyvapr",desc:"VideoAdPlugin is ready",color:"saddlebrown",qosMetric:true},VP_PREPARED:{type:"tprep",desc:"Player prepared",color:"hotpink",qosMetric:true},YVAP_ADSTARTED:{type:"tyvapads",desc:"Ad Started",color:"saddlebrown",qosMetric:true},YVAP_NOAD:{type:"tyvapadn",desc:"Ad None",color:"saddlebrown",qosMetric:true},YVAP_ERROR:{type:"tyvape",desc:"Ad Error",color:"saddlebrown",qosMetric:true},SAPI_LOADPLAYLIST:{type:"tsapilp",desc:"SAPI Get for playlists",color:"darkcyan",qosMetric:true},SAPI_LOADRELATED:{type:"tsapilr",desc:"SAPI Get for related videos",color:"darkcyan",qosMetric:true},YQL_LOAD_CC:{type:"tyqlcc",desc:"SAPI call to load closed captions",color:"darkcyan",qosMetric:true},GET_CC_PREF:{type:"tgetcc",desc:"YQL+ call to get captions preferences",color:"darkcyan",qosMetric:true},SET_CC_PREF:{type:"tsetcc",desc:"YQL+ call to set captions preferences",color:"darkcyan",qosMetric:false},VP_CLICK_TO_START:{type:"ttsapf",desc:"Player click to playback start",color:"hotpink",qosMetric:true},VP_MEDIA_CHANGE:{type:"tvpmc",desc:"Player media change to Playback Start",color:"hotpink",qosMetric:true},VP_INIT_TO_START:{type:"ttsapt",desc:"VideoPlayer init to Playback Start",color:"red",qosMetric:true},VP_INIT_TO_STARTSCREEN:{type:"titssc",desc:"VideoPlayer init to StartScreen Rendered",color:"red",qosMetric:true},AD_PLUGIN_QOS_METRIC:{type:"qaplc",desc:"Ad Plugin QOS metric",color:"saddlebrown",qosMetric:false},STREAM_REQUEST_TO_RENDER:{type:"treqtr",desc:"Stream Latency (From request to render)",color:"purple",qosMetric:true},PREPARING_STREAM_LOAD:{type:"tpml",desc:"Preparing for manifest file loading",color:"white",qosMetric:true},HLS_MASTER_PLAYLIST_LOAD:{type:"thmpl",desc:"HLS Master Playlist load time",color:"white",qosMetric:true},HLS_LEVEL_PLAYLIST_LOAD:{type:"thlpl",desc:"HLS Level Playlist load time",color:"white",qosMetric:true},STREAM_LOADED:{type:"tstreaml",desc:"Media Stream Loaded",color:"white",qosMetric:true},STREAM_PLAY_TO_RENDER:{type:"tsltps",desc:"Media playback start to video render",color:"white",qosMetric:true}};f.namespace("VideoPlatform").QOS=J;var aj=J.Events;function M(){M.superclass.constructor.apply(this,arguments);}M.SERVICES={ULT:"ult",YWA:"ywa",COMSCORE:"cs",QOS:"qos"};M.NAME="MetricsModule";M.NS="metricsModule";M.ATTRS={model:{value:null},controller:{value:null},view:{value:null},service:{value:null},eventMap:{value:{}},allowedEvents:{value:{"PAGE_VIEW":"PAGE_VIEW","PAGE_UNLOAD":"PAGE_UNLOAD","PLAYER_LOADED":"PLAYER_LOADED","VIDEO_LOADED":"VIDEO_LOADED","PLAYBACK_REQUEST":"PLAYBACK_REQUEST","PLAYBACK_START":"PLAYBACK_START","PLAYBACK_PAUSE":"PLAYBACK_PAUSE","PLAYBACK_RESUME":"PLAYBACK_RESUME","PLAYBACK_COMPLETE":"PLAYBACK_COMPLETE","PLAYBACK_PROGRESS":"PLAYBACK_PROGRESS","PLAYBACK_SEEK":"PLAYBACK_SEEK","PLAYER_FULLSCREEN":"PLAYER_FULLSCREEN","PLAYER_ERR":"PLAYER_ERR","AD_START":"AD_START","AD_END":"AD_END","CLICK_PLAY":"CLICK_PLAY","CLICK_PAUSE":"CLICK_PAUSE","CLICK_INFO":"CLICK_INFO","CLICK_FULLSCREEN":"CLICK_FULLSCREEN","CLICK_VOL_BTN":"CLICK_VOL_BTN","CLICK_VOL_SLIDER":"CLICK_VOL_SLIDER","CLICK_SEEKBAR":"CLICK_SEEKBAR","CLICK_THUMB":"CLICK_THUMB","CLICK_LINK":"CLICK_LINK","CLICK_EMBED":"CLICK_EMBED","CLICK_SHARE":"CLICK_SHARE","UI_INTERACT":"UI_INTERACT","YSWF_SWF_ONLY_INIT_TIME":"YSWF_SWF_ONLY_INIT_TIME","YSWF_READY":"YSWF_READY","YVAP_LOADED":"YVAP_LOADED","YVAP_READY":"YVAP_READY","YVAP_ADSTARTED":"YVAP_ADSTARTED","YVAP_NOAD":"YVAP_NOAD","YVAP_ERROR":"YVAP_ERROR","VP_CLICK_TO_START":"VP_CLICK_TO_START","VP_MEDIA_CHANGE":"VP_MEDIA_CHANGE","VP_INIT_TO_START":"VP_INIT_TO_START","VP_INIT_TO_STARTSCREEN":"VP_INIT_TO_STARTSCREEN","AD_PLUGIN_METRIC":"AD_PLUGIN_METRIC","AD_PLUGIN_QOS_METRIC":"AD_PLUGIN_QOS_METRIC","SAPI_LOADCLIPS":"SAPI_LOADCLIPS","SAPI_LOADPLAYLIST":"SAPI_LOADPLAYLIST","SAPI_LOADRELATED":"SAPI_LOADRELATED","YQL_LOAD_CC":"YQL_LOAD_CC","GET_CC_PREF":"GET_CC_PREF","SET_CC_PREF":"SET_CC_PREF","UI_MODULE_VIEW":"UI_MODULE_VIEW"}},YWAProjectId:{value:"115488662",validator:f.Lang.isString},playerBeacons:{value:[],validator:f.Lang.isArray},isAd:{value:false,validator:f.Lang.isBoolean}};f.extend(M,f.Base,{initializer:function(Y){this._tokenMap={"YUI_VERSION":"","YUI_UA":"","FLASH_VERSION":"","COUNTRY_LANGUAGE_CODE":"","FULL_USER_AGENT":"","VIDEO_CLIP_ID":"","VIDEO_LENGTH":"","VIDEO_TITLE":"","VIDEO_WATCHED_PERCT":"","PAGE_SPACE_ID":"","CONFIG_PSPID":"","REPORTING_DOMAIN":"","YVAP_ACCOUNT_ID":"","PLAYER_ERR_CODE":"","PLAYER_ERR_TYPE":"","PLAYER_ERR_MSG":"","YLT":"","PLAY_GUID":"","PLYR_SESS_GUID":"","CCM_PLAYLIST_ID":"","PLAYLIST_INDEX":"","EVT_NAME":"","VOLUME_LEVEL":"","DEVICE_NAME":"","MAKE":"","MODEL":"","OS":"","AD_ID":"","AD_LOADED":"","AD_TYPE":"","SECTION_NAME":"","SECTION_LINK_NAME":"","SECTION_LINK_POS":"","SECTION_TITLE":"","SECTION_LINK":"","COMSCORE_C4":"","COMSCORE_C5":"","COMSCORE_C6":"","PLAYER_INT32_GUID":"","MASTERPLAYER_INT32_GUID":"","PAGE_TITLE":"","PAGE_URL":"","PAGE_REFERRER":"","PLAYER_LOCATION":"","SITE":"","REGION":"","JURISDICTION":"","IS_LIVE":"","VIDEO_PLAYBACK_POS":"","VIDEO_SEQ_NUMBER":"","VIDEO_SEQ_START":"","CONTRACTING_PROPERTY":"","LICENSOR_NAME":"","LICENSOR_ID":"","LICENSE_NAME":"","LICENSE_ID":"","YWA_DPID":"","RANDOM_VALUE":"","YWA_PROJECT_ID":"","PLAYER_HOSTING_ENV":"","PLAYER_BUCKET":"","PLAYER_VERSION":"","PLAYER_WIDTH":"","PLAYER_HEIGHT":"","TIME_PREPARING":"","SAPI_RESPONSE_DELAY":"","PLAYBACK_START_DELAY":"","STATE":"","TIME_STATE":"","EVENT_BEGIN":"","EVENT_END":"","AUTOPLAY":"","SHOW_NAME":"","MEDIA_META_TAGS":"","EXPERIENCE_TYPE":"","EXPERIENCE_NAME":"","EXPERIENCE_BUCKET":"","BITRATE":"","DOWNLOAD_SPEED":"","VIDEO_STREAM":"","RENDERER_TYPE":"","CUSTOM_PARAMS":"","YVAP_LOADED":"","YVAP_READY":"","YVAP_ADSTARTED":"","YVAP_NOAD":"","YVAP_ERROR":"","VP_CLICK_TO_START":"","VP_MEDIA_CHANGE":"","VP_INIT_TO_START":"","VP_INIT_TO_STARTSCREEN":"","UI_INTERACT_PAYLOAD":"","SAPI_LOADCLIPS":"","SAPI_LOADPLAYLIST":"","SAPI_LOADRELATED":"","YQL_LOAD_CC":"","GET_CC_PREF":"","SET_CC_PREF":"","CONTINUOUS_PLAY":"","CONTINUOUS_PLAY_COUNT":"","CMS_STATUS_CODE":"","VIDEO_TYPE":"","AUTOCONTINUE":"","VIDEO_PREFETCH":"","RETRY_COUNT":"","HD_AVAILABLE":"","PROGRESS":"","TIME_WAITING":"","BANDWIDTH":"","PAGE_SID":"","SYNDICATION":"","LINK_CONTEXT":"","VIDEO_CONTEXT":"","UI_INTERACT_VIDEO_POSITION":"","UI_INTERACT_CLICK_POSITION":"","STREAM_PROTOCOL":""};
this.Constants={"PROG_BEACON_LENGTH":10};this._lastValidProgVal=0;this.set("model",Y.model);this.set("controller",Y.controller);this.set("view",Y.view);this.set("service",new f.VideoPlatform.BeaconService());this._seqNum=0;this._seqStart=0;this._progressHandler=null;this._seekStart=0;this._startedFired=false;this._startTime=null;this._startTimer();this._ttPreparing=0;this._ttPreparingEnd=0;this._ttPrepared=0;this._ttStarted=0;this._ttPlaying=0;this._timeWaiting=0;this._continuousPlayCount=0;this._defaultConfigParam="na";this._htmlBitrate=null;this._curYvapData={};this.setup();},parseHostingConfig:function(){var Y=f.VideoPlatform.PlayerBeaconList.init();if(Y){this.set("playerBeacons",Y);}else{}},_deferBeacons:function(al){var Y=this.get("model"),ap=YVAPEvents,am=al;function ao(){Y.after("playerStateChange",an,this);}function aq(ar){switch(ar.newVal){case ap.AD_START:am.run();break;case ap.AD_NONE:case ap.AD_ERROR:ao();break;}}function an(ar){switch(ar.newVal){case aa.STARTED:case aa.ERROR:am.run();Y.detach("playerStateChange",an,this);break;}}am.pause();if(Y.get("YVAPRequired")===true){Y.once("yvapStateChange",aq,this);}else{ao();}},setup:function(){this.parseHostingConfig();this.parse(this.get("playerBeacons"));if(this.get("model")){var Y=this.get("model"),al=this;this.setupHandlers();Y.after("isInitializedChange",function(an){var am=an.newVal;if(am){al._evalStaticTokens();if(!f.Object.getValue(window,["YAHOO","VideoPlatform","Metrics","PageView"])){al._tokenMap.MASTERPLAYER_INT32_GUID=al._tokenMap.PLAYER_INT32_GUID;f.Object.setValue(window,["YAHOO","VideoPlatform","Metrics"],{"PageView":null,"MasterPlayer":null});f.Object.setValue(window,["YAHOO","VideoPlatform","Metrics","MasterPlayer"],al._tokenMap.PLAYER_INT32_GUID);f.Object.setValue(window,["YAHOO","VideoPlatform","Metrics","PageView"],true);al.process(al.get("allowedEvents").PAGE_VIEW);}else{al._tokenMap.MASTERPLAYER_INT32_GUID=f.Object.getValue(window,["YAHOO","VideoPlatform","Metrics","MasterPlayer"]);}al.process(al.get("allowedEvents").PLAYER_LOADED);}},this);Y.after("beaconsChange",function(am){al.remove(am.prevVal);al.parse(am.newVal);},this);Y.after("currentMediaChange",function(an){var am,ao;if(f.Lang.isValue(an.prevVal)){am=an.prevVal.get("metrics.beacons");al.remove(am);}if(f.Lang.isValue(an.newVal)){ao=an.newVal.get("metrics.beacons");al.parse(ao);}this._startedFired=false;if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}},this);Y.before("playerStateChange",function(am){switch(am.newVal){case aa.PREPARING:this._ttPreparing=this._getElapsedTime();break;case aa.PREPARED:this._ttPrepared=this._getElapsedTime();break;case aa.STARTED:this._ttStarted=this._getElapsedTime();break;case aa.POSTSTARTED:this._ttPoststarted=this._getElapsedTime();break;}if(am.prevVal===aa.PREPARING){this._ttPreparingEnd=this._getElapsedTime();}},this);}},parse:function(al){var ap=this.get("eventMap"),an=this.get("allowedEvents"),Y=this.get("model"),ao=Y.get("hostingData.bucket"),am=this;if(f.Lang.isArray(al)&&al.length>0){f.each(al,function(aq){if(!am._validateBeacon(aq)){return;}if(f.Lang.isNumber(aq.samplePerct)&&(!f.Lang.isNumber(ao)||aq.samplePerct<ao)){return;}f.each(aq.events,function(av){var at=av.name,au=ap[at],ax=aq.action||"",aw=aq.data||"",ay=aq.target||"",ar={url:aq.urlTemplate,target:ay};if(at in ap){if(ay===M.SERVICES.ULT&&ax==="add"&&aw){f.each(au,function(az){if(az.target===M.SERVICES.ULT){az.url=az.url+"&"+aw;}});}else{ap[at].push(ar);}}else{if(at in an){ap[at]=new Array(ar);}else{}}});});}},_validateBeacon:function(Y){if(!f.Lang.isObject(Y,true)){return false;}if(f.Lang.isValue(Y.urlTemplate)&&f.VideoPlatform.Utils.validateUrl(Y.urlTemplate)){return true;}if(f.Lang.isValue(Y.action)&&Y.action.length>0&&f.Lang.isValue(Y.data)&&Y.data.length>0){return true;}return false;},remove:function(Y){var al=this.get("eventMap");if(f.Lang.isArray(Y)&&Y.length>0){f.each(Y,function(am){if(!f.Lang.isValue(am.urlTemplate)){return;}f.each(am.events,function(ao){var an=ao.name,ap=al[an];if(f.Lang.isArray(ap)){ap.splice(f.Array.indexOf(ap,am.urlTemplate),1);}});});}},setupHandlers:function(){var ao=this.get("allowedEvents"),al=this._tokenMap,Y=this.get("model"),ap={},aq,an=Y.get("profileData"),am=this.get("view");Y.after("isPlayingChange",function(ar){if(ar.newVal){if(this._startedFired){this.process(ao.PLAYBACK_RESUME);}else{this._ttPlaying=this._getElapsedTime();this._seqNum=1;this._seqStart=Y.get("playbackPosition");if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._progressHandler=this._startProgressPolling(this._seqStart,Y.get("currentMedia").get("duration"));if(Y.get("continuousPlay")){++this._continuousPlayCount;}this._htmlBitrate=am.videoRenderer.get("streamBitrate")||null;this.process(ao.PLAYBACK_START);this._startedFired=true;}}},this);ap[aa.PREPARED]=ao.PLAYBACK_REQUEST;ap[aa.LOADED]=ao.VIDEO_LOADED;ap[aa.PAUSED]=ao.PLAYBACK_PAUSE;ap[aa.PLAYBACKCOMPLETE]=ao.PLAYBACK_COMPLETE;Y.on("playerStateChange",function(ar){if(ar.newVal in ap){if(ar.newVal===aa.PLAYBACKCOMPLETE){this._startedFired=false;if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}}this.process(ap[ar.newVal]);}},this);Y.after("isWaitingChange",function(ar){if(ar.newVal===false){this._timeWaiting+=this._getElapsedTime()-prevWaitTime;}prevWaitTime=(ar.newVal===true)?this._getElapsedTime():null;},this);Y.after("isSeekingChange",function(ar){if(ar.newVal===true&&ar.prevVal===false){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._seekStart=Y.get("playbackPosition");}else{if(ar.newVal===false&&ar.prevVal===true){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._seqNum++;this._seqStart=this._seekStart;this.process(ao.PLAYBACK_SEEK);this._seqStart=Y.get("playbackPosition");this._progressHandler=this._startProgressPolling(Y.get("playbackPosition"),Y.get("currentMedia").get("duration"));}}},this);aq={"controlsPlayButton":ao.CLICK_PLAY,"controlsPauseButton":ao.CLICK_PAUSE,"controlsInfoButton":ao.CLICK_INFO,"controlsFullscreenButton":ao.CLICK_FULLSCREEN,"controlsVolumeButton":ao.CLICK_VOL_BTN,"controlsVolumeSlider":ao.CLICK_VOL_SLIDER,"controlsSeekBar":ao.CLICK_SEEKBAR,"startscreenPlay":ao.CLICK_PLAY,"infoscreenThumb":ao.CLICK_THUMB,"infoscreenLink":ao.CLICK_LINK,"infoscreenEmbed":ao.CLICK_EMBED,"infoscreenFacebook":ao.CLICK_SHARE,"endscreenThumb":ao.CLICK_THUMB,"endscreenLink":ao.CLICK_LINK,"endscreenEmbed":ao.CLICK_EMBED,"endscreenFacebook":ao.CLICK_SHARE};
Y.after("uiInteract",function(ar){if(ar.source in aq){if(aq[ar.source]===ao.CLICK_FULLSCREEN&&!Y.get("fullscreen")){return;}this.process(aq[ar.source],ar);}},this);Y.after("uiInteract",function(ar){this.process(ao.UI_INTERACT,ar);},this);Y.after("uiInteract",function(ar){if(ar.source.indexOf("pc-vid")>-1||ar.source.indexOf("es-vid")>-1||ar.source==="endscreenReplayButton"){this._continuousPlayCount=0;this._startedFired=false;}},this);Y.after("uiView",function(ar){this.process(ao.UI_MODULE_VIEW,ar);},this);Y.after("fullscreenChange",function(ar){if(ar.newVal===true&&ar.prevVal===false){this.process(ao.PLAYER_FULLSCREEN);}},this);Y.after("errorChange",function(at){var ar=at.newVal;if(ar){al.PLAYER_ERR_TYPE=ar.type;al.PLAYER_ERR_CODE=ar.code;al.PLAYER_ERR_MSG=H.fixedEncodeURIComponent(ar.message);this.process(ao.PLAYER_ERR);}},this);Y.after("warningChange",function(av){if(av.newVal){var ar,au,at,aw=av.newVal;if(aw){ar=aw.type;au=aw.code||"0";at=aw.message;al.PLAYER_ERR_TYPE=ar;al.PLAYER_ERR_CODE=au;al.PLAYER_ERR_MSG=H.fixedEncodeURIComponent(at);this.process(ao.PLAYER_ERR);}}},this);Y.after("yvapStateChange",function(ax){var at,aw,av,au,ay={},ar=this._defaultConfigParam;this._handleAdFlag(ax.newVal);if(ax.newVal==="adError"){this._curYvapData={};at="300";aw="0";av=Y.get("yvapData");av=f.Lang.isObject(av)?av:{};ay={};ay[o.TIMEOUT_YUILOAD]="406";ay[o.TIMEOUT_CREATE]="407";ay[o.TIMEOUT_PRE]="408";ay[o.TIMEOUT_POST]="409";ay[o.INIT]="100";ay[o.CREATE]="101";ay[o.SCRIPTING]="501";if(f.Lang.isValue(av.message)&&av.message in ay){aw=ay[av.message];au=f.Lang.isValue(av.cause)?av.cause:ar;}else{if(f.Lang.isValue(av.type)&&av.type==="playerPluginLoadError"){aw="404";au=f.Lang.isValue(av.message)?av.message:ar;}}al.PLAYER_ERR_TYPE=at;al.PLAYER_ERR_CODE=aw;al.PLAYER_ERR_MSG=H.fixedEncodeURIComponent(au);this.process(ao.PLAYER_ERR);}else{if(ax.newVal==="loadError"){this._curYvapData={};at="300";av=Y.get("yvapData");if(f.Lang.isObject(av)&&f.Lang.isValue(av.cause)){if(av.cause==="jsLoadingTimeout"){aw="401";}else{aw="400";}al.PLAYER_ERR_TYPE=at;al.PLAYER_ERR_CODE=aw;al.PLAYER_ERR_MSG=ar;this.process(ao.PLAYER_ERR);}}else{if(ax.newVal==="adStart"){this._curYvapData=Y.get("yvapData");this.process(ao.AD_START);}else{if(ax.newVal==="adNone"){this._curYvapData={};}else{if((ax.prevVal!=="adNone")&&((ax.newVal==="adEnd")||(ax.newVal==="adComplete"))){this.process(ao.AD_END);}}}}}},this);f.Event.attach("unload",function(){this.process(ao.PAGE_UNLOAD);this.get("service").stop();},window,this);if(an){an.on("itemAdded",function(ar){if(ar.item.type!==aj.VP_INIT_TO_START.type){this.handleQOSProfiling(ar.item);}},this);}Y.after("adPluginMetricChange",this._handleAdPluginMetric,this);Y.after("adPluginQosMetricChange",this._handleAdPluginQosMetric,this);},_getAdPluginData:function(am){var al="",Y=am.data;f.each(Y,function(ao,an){al+="&"+an+"="+H.fixedEncodeURIComponent(ao);});return al;},_handleAdPluginMetric:function(Y){this._tokenMap.CUSTOM_PARAMS=this._getAdPluginData(Y.newVal);this.process(this.get("allowedEvents").AD_PLUGIN_METRIC);},_handleAdPluginQosMetric:function(Y){this._tokenMap.CUSTOM_PARAMS=this._getAdPluginData(Y.newVal);this.process(this.get("allowedEvents").AD_PLUGIN_QOS_METRIC);},handleQOSProfiling:function(al){var am=aj,Y;switch(al.type){case am.YVAP_LOADED.type:Y="YVAP_LOADED";break;case am.YVAP_READY.type:Y="YVAP_READY";break;case am.YVAP_ADSTARTED.type:Y="YVAP_ADSTARTED";break;case am.YVAP_NOAD.type:Y="YVAP_NOAD";break;case am.YVAP_ERROR.type:Y="YVAP_ERROR";break;case am.VP_CLICK_TO_START.type:Y="VP_CLICK_TO_START";break;case am.VP_MEDIA_CHANGE.type:Y="VP_MEDIA_CHANGE";break;case am.VP_INIT_TO_START.type:Y="VP_INIT_TO_START";break;case am.VP_INIT_TO_STARTSCREEN.type:Y="VP_INIT_TO_STARTSCREEN";break;case am.YQL_LOAD_CC.type:Y="YQL_LOAD_CC";break;case am.GET_CC_PREF.type:Y="GET_CC_PREF";break;case am.SET_CC_PREF.type:Y="SET_CC_PREF";break;}if(Y){this._processQosBeacons(Y,al);}},fireSAPIBeacons:function(ap,ao){var an=aj,am,al,Y=this;if(!ap){return;}switch(ap.type){case an.SAPI_LOADCLIPS.type:am="SAPI_LOADCLIPS";break;case an.SAPI_LOADPLAYLIST.type:am="SAPI_LOADPLAYLIST";break;case an.SAPI_LOADRELATED.type:am="SAPI_LOADRELATED";break;}if(!f.Lang.isValue(ao)||!am){return;}for(al in ao){if(ao.hasOwnProperty(al)){Y._tokenMap[al]=ao[al];}}this._processQosBeacons(am,ap);},_processQosBeacons:function(Y,al){this._tokenMap.QOS_TIMER_DIFF=al.timeDiff;this._tokenMap[Y]=al.timeDiff;if(al.queryStringExtn){this._tokenMap.QOS_TIME_BREAKUP=al.queryStringExtn;}this.process(Y);},process:function(an,ap){var al=this.get("eventMap")[an],Y=this._tokenMap,am=this.get("service");if(typeof al==="undefined"){return;}try{this._evalDynTokens(ap,an);}catch(ao){}f.each(al,function(aq){am.set("beaconTemplate",aq.url);am.create(Y);am.send();});},_evalStaticTokens:function(){var an=this.get("model"),az=this._tokenMap,ap=f.Cookie.get("ywadp"+this.get("YWAProjectId")),ao,ay=H.getDeviceInfo(),av=this._getTopDocument(),at=this._defaultConfigParam,ar=H.fixedEncodeURIComponent,Y=an.START_TIME,au=typeof window.performance==="object"&&window.performance.timing||{},aq=au.fetchStart||null,am=au.responseStart||null,al=au.responseEnd||null,ax;az.YUI_VERSION=f.version;az.YUI_UA=H.getYUIUserAgent();az.FLASH_VERSION=(an.get("rendererType")==="flash")?ar(this._getFlashVersionString()):at;az.COUNTRY_LANGUAGE_CODE=ar(String(an.get("lang")).toLowerCase());az.FULL_USER_AGENT=ar(f.UA.userAgent);az.PAGE_SPACE_ID=ar(an.get("pageSpaceId"));az.CONFIG_PSPID=ar(an.get("config.pageSpaceId"));az.YVAP_ACCOUNT_ID=ar(an.get("YVAP.accountId")||at);az.PLYR_SESS_GUID=ar(an.get("guid"));az.COMSCORE_C4=ar(an.get("comscoreC4")||"");az.PLAYER_INT32_GUID=Math.floor(Math.random()*4294967295);az.PAGE_TITLE=ar(av?av.title:"unavailable");az.PAGE_REFERRER=ar(this._trimLongUrls(av?av.referrer:"unavailable"));az.SITE=ar(an.get("site")?an.get("site").toLowerCase():at);az.REGION=ar(an.get("region")?an.get("region").toLowerCase():at);az.JURISDICTION=ar(an.get("jurisdiction")||at);az.BANDWIDTH=f.Cookie.getSub("BA","ba");
ax=an.get("pageLatency");ax=typeof ax==="object"?ax:{};az.PAGE_PLAYERJS_DL_START=ar(ax.pagePlayerJsDownloadStart||at);az.PAGE_PLAYERJS_DL_TIME=ar(ax.pagePlayerJsDownloadTime||at);az.PAGE_MEDIA_ITEM_PREFETCH_TIME=ar(ax.pageMediaItemPrefetchTime||at);az.PAGE_LATENCY=au?ar((Y?(Y-aq):at)):at;az.TIMING_DNS=au?ar(au.domainLookupEnd-au.domainLookupStart):at;az.TIMING_CONNECT=au?ar(au.connectEnd-au.connectStart):at;az.TIMING_TTFB=au?ar(am-au.requestStart):at;az.TIMING_BASE_PAGE=au?ar(al-am):at;az.TIMING_FRONTEND=au?ar(au.loadEventStart-al):at;az.PLAYER_LOCATION=!this._isOnNetwork()?"4":(this._isIFrame()?"3":"1");if(!f.Lang.isValue(ap)){ap=""+Math.floor(Math.random()*4294967295);ao=new Date();ao.setTime(ao.getTime()+94608000000);f.Cookie.set("ywadp"+this.get("YWAProjectId"),ap,{expires:ao});}az.YWA_DPID=""+ap;az.YWA_PROJECT_ID=this.get("YWAProjectId");az.PLAYER_HOSTING_ENV=an.get("hostingData.env")||at;az.PLAYER_BUCKET=an.get("hostingData.bucket")||at;az.PLAYER_VERSION=an.get("version")||at;az.AUTOPLAY=an.get("autoplay")?"true":"false";az.EXPERIENCE_TYPE=ar(String(an.get("expType")).toLowerCase());az.EXPERIENCE_NAME=ar(String(an.get("expName")).toLowerCase());az.EXPERIENCE_BUCKET=ar(an.get("expBucket")?an.get("expBucket").toLowerCase():at);az.CONTINUOUS_PLAY=an.get("continuousPlay")?"1":"0";az.DEVICE_NAME=ay.DEVICE_NAME;az.MAKE=ay.MAKE;az.MODEL=ay.MODEL;az.OS=ay.OS;if(!az.PAGE_SID){try{if(window.YAHOO&&window.YAHOO.i13n&&window.YAHOO.i13n.currentSID){az.PAGE_SID=window.YAHOO.i13n.currentSID;}else{az.PAGE_SID=at;}}catch(aw){az.PAGE_SID=at;}}},_evalDynTokens:function(aK,aG){var az=this.get("model"),an=this._tokenMap,aF=az.get("playlist"),aD=az.get("playlistPosition"),ao=az.get("playbackPosition"),ap=(az.get("currentMedia")||aF.items().item((aD>=0)?aD:0)),aC=(ap?ap.get("duration"):null),av=(ap?ap.get("comscoreC5"):null),au=(ap?ap.get("comscoreC6"):null),Y=az.get("continuousPlay"),ar,aI,ay,aH,al,aB,aq,aE,aw,aJ=this._defaultConfigParam,aA=this._getTopDocument(),ax=az.get("hostingData"),am="",at=H.fixedEncodeURIComponent;if(f.Lang.isNumber(aC)){aC=Math.floor(aC);}an.PAGE_URL=at(this._trimLongUrls(aA?aA.URL:document.referrer));an.RANDOM_VALUE=Math.random();if(az.get("rendererType")==="html"){an.RENDERER_TYPE="h";}else{an.RENDERER_TYPE="f";}an.TIME_PREPARING=this._ttPreparingEnd-this._ttPreparing;aw=this._ttPlaying-this._ttStarted;an.PLAYBACK_START_DELAY=an.TIME_PREPARING+aw;an.STATE=az.get("playerState");if((aG==="PLAYBACK_START")||(aG==="AD_START")){an.EVT_NAME="play";}else{if(aG==="PLAYBACK_PAUSE"){an.EVT_NAME="pause";}else{if((aG==="PLAYBACK_COMPLETE")||(aG==="AD_END")){an.EVT_NAME="end";}else{an.EVT_NAME=aJ;}}}an.VOLUME_LEVEL=az.get("mute")?0:az.get("volume")*100;an.AD_TYPE=this._curYvapData.adType?this._curYvapData.adType:aJ;an.AD_LOADED=this._curYvapData.adId?"yes":"no";an.AD_ID=this._curYvapData.adId?this._curYvapData.adId:aJ;if(f.Lang.isObject(ap)){if(aG!=="SAPI_LOADCLIPS"&&aG!=="SAPI_LOADPLAYLIST"&&aG!=="SAPI_LOADRELATED"){if(!f.Lang.isValue(ap.get("id"))&&f.Lang.isValue(ap.get("streamUrl"))){an.VIDEO_CLIP_ID=H.generateHashCode(ap.get("streamUrl"),"custom");}else{an.VIDEO_CLIP_ID=at(ap.get("id")||aJ);}an.VIDEO_TITLE=encodeURIComponent(ap.get("title")||aJ);}else{an.VIDEO_CLIP_ID=aJ;an.VIDEO_TITLE=aJ;}if(an.VIDEO_LENGTH!==""&&an.VIDEO_LENGTH!==aJ){an.VIDEO_LENGTH=(f.Lang.isValue(aC)&&aC>0&&Math.abs(aC-an.VIDEO_LENGTH)>2)?aC:an.VIDEO_LENGTH;}else{an.VIDEO_LENGTH=f.Lang.isValue(aC)?aC:aJ;}an.VIDEO_PLAYBACK_POS=f.Lang.isValue(ao)?ao:"0";an.VIDEO_WATCHED_PERCT=(aC&&aC>0)?Math.floor(100*ao/aC):"0";an.PLAY_GUID=encodeURIComponent(ap.get("metrics.pls")||aJ);an.COMSCORE_C5=encodeURIComponent(f.Lang.isValue(av)?av:"");an.COMSCORE_C6=encodeURIComponent(f.Lang.isValue(au)?au:"");an.IS_LIVE=ap.get("isLive")?"1":"0";an.VIDEO_PREFETCH=ap.get("isPreFetched");an.AUTOCONTINUE=ap.get("autoContinue");an.CONTRACTING_PROPERTY=encodeURIComponent(ap.get("originatingProperty")||aJ);an.LICENSOR_NAME=encodeURIComponent(ap.get("licensorName")||aJ);an.LICENSOR_ID=encodeURIComponent(ap.get("licensorId")||aJ);an.LICENSE_NAME=encodeURIComponent(ap.get("licenseName")||aJ);an.LICENSE_ID=encodeURIComponent(ap.get("licenseId")||aJ);an.EVENT_BEGIN=encodeURIComponent(ap.get("eventBeginTime")||aJ);an.EVENT_END=encodeURIComponent(ap.get("eventEndTime")||aJ);an.SHOW_NAME=encodeURIComponent(ap.get("showName")||aJ);an.MEDIA_META_TAGS=encodeURIComponent(ap.get("metrics.metaTags")||aJ);an.BITRATE=ap.get("mediaInfo.currentStreamBitrate")||aJ;an.DOWNLOAD_SPEED=ap.get("mediaInfo.currentKbps")||aJ;an.VIDEO_STREAM=ap.get("mediaInfo.streamUrl")||aJ;an.PLAYER_WIDTH=at(az.get("width")||aJ);an.PLAYER_HEIGHT=at(az.get("height")||aJ);an.CMS_STATUS_CODE=at(ap.get("status.code")||aJ);an.SYNDICATION=at(az.get("synd")||"");an.PUBLISHER_ID=(an.SYNDICATION?an.SYNDICATION.split("-")[0]:"");an.STREAM_PROTOCOL=(ap&&ap.get("streamProtocol"))||aJ;an.PLAYLIST_INDEX=aD;if(ap.get("isLive")){am="_l";}else{if(ax&&ax.bucket<=10){am="_vod_dc";}}an.VP_INIT_TO_START_SUFFIX=am;switch(aG){case"PLAYBACK_PROGRESS":an.PROGRESS=this.Constants.PROG_BEACON_LENGTH;an.TIME_WAITING=this._timeWaiting;this._lastValidProgVal=ao;this._timeWaiting=0;break;case"PLAYBACK_COMPLETE":an.PROGRESS=f.Lang.isValue(aC)?(aC-this._lastValidProgVal)%this.Constants.PROG_BEACON_LENGTH:aJ;an.TIME_WAITING=this._timeWaiting;this._timeWaiting=0;break;case"PLAYBACK_SEEK":an.PROGRESS=(f.Lang.isValue(aC)&&this._seqStart!==aC)?this._seqStart-this._lastValidProgVal:aJ;this._lastValidProgVal=ao;an.TIME_WAITING=this._timeWaiting;this._timeWaiting=0;break;default:an.PROGRESS=aJ;}if(typeof(aE=ap.get("hdAvailable"))!=="undefined"){an.HD_AVAILABLE=aE().toString();}else{an.HD_AVAILABLE=aJ;}aq=ap.get("isLive");if(this.get("isAd")){an.VIDEO_TYPE="ad";}else{if(aq){an.VIDEO_TYPE="live";}else{if(ap.get("streamUrl")){an.VIDEO_TYPE="stream";}else{an.VIDEO_TYPE=(typeof aq==="undefined")?aJ:"clip";}}}if(an.BITRATE===aJ){an.BITRATE=(this._htmlBitrate!==null)?this._htmlBitrate:aJ;}}else{an.VIDEO_CLIP_ID=aJ;an.VIDEO_LENGTH=aJ;an.VIDEO_TITLE=aJ;
an.VIDEO_PLAYBACK_POS=aJ;an.VIDEO_WATCHED_PERCT=aJ;an.PLAY_GUID=aJ;an.COMSCORE_C5="";an.COMSCORE_C6="";an.IS_LIVE=aJ;an.CONTRACTING_PROPERTY=aJ;an.LICENSOR_NAME=aJ;an.LICENSOR_ID=aJ;an.LICENSE_NAME=aJ;an.LICENSE_ID=aJ;an.EVENT_BEGIN=aJ;an.EVENT_END=aJ;an.SHOW_NAME=aJ;an.BITRATE=aJ;an.DOWNLOAD_SPEED=aJ;an.VIDEO_STREAM=aJ;an.VIDEO_TYPE=aJ;an.VIDEO_PREFETCH=aJ;an.AUTOCONTINUE=aJ;an.HD_AVAILABLE=aJ;an.PLAYER_WIDTH=aJ;an.PLAYER_HEIGHT=aJ;an.CMS_STATUS_CODE=aJ;an.PROGRESS=aJ;an.TIME_WAITING=aJ;an.PLAYLIST_INDEX=aJ;}an.VIDEO_SEQ_NUMBER=this._seqNum;an.VIDEO_SEQ_START=this._seqStart;an.CONTINUOUS_PLAY=(Y&&aF.items().size()>1)?"1":"0";if(Y){an.CONTINUOUS_PLAY_COUNT=this._continuousPlayCount;}if(aK){ar={"startscreen":"st","infoscreen":"inf","endscreen":"end","controls":"pb"};aI={"PlayButton":"pl","ReplayButton":"rpl","Play":"pl","PauseButton":"ps","InfoButton":"inf","SeekBar":"sk","VolumeSlider":"vol","FullscreenButton":"fs","Link":"lk","Embed":"emb","Facebook":"facebook","View":"view"};aB={"Facebook":"btn-sh-fb","Tumblr":"btn-sh-tumblr","Twitter":"btn-sh-twitter","Mail":"btn-sh-email","Embed":"btn-sh-emb","Link":"btn-sh-emb-lnk","EmbedLink":"btn-sh-emb-emb"};ay=aK.source.match(/^([^A-Z\-]*)(?:\-?)(.*)/);aH=ar[ay[1]];al=aI[ay[2]];if(ay[2]==="VolumeButton"){al=az.get("mute")?"mt":"un-mt";}else{if(ay[2]==="Thumb"){al=(ay[1]==="endscreen")?"rpl":"pl";}}if(aH==="end"&&al==="pl"){al="vid-"+aK.index;}an.SECTION_NAME=(aH)?aH:"pb";an.SECTION_LINK_NAME=(al)?al:aJ;if(f.Lang.isUndefined(aB[ay[2]])){an.SECTION_TITLE="ctrl";an.SECTION_LINK=aK.source;}else{an.SECTION_TITLE="sh";an.SECTION_LINK=aB[ay[2]];}switch(aK.source){case"controlsCCButton":an.UI_INTERACT_PAYLOAD="cc-"+((aK.selected===true)?"1":"0");break;case"endscreenPlayButton":an.UI_INTERACT_PAYLOAD="es-"+an.SECTION_LINK_NAME;break;case"endscreenReplayButton":an.UI_INTERACT_PAYLOAD="es-rpl";break;default:an.UI_INTERACT_PAYLOAD=an.SECTION_LINK;break;}if(aK.instrData){an.LINK_CONTEXT=encodeURIComponent(aK.instrData.linkContext);an.VIDEO_CONTEXT=encodeURIComponent(aK.instrData.videoContext);}if(aK.index){an.UI_INTERACT_VIDEO_POSITION=encodeURIComponent(aK.index);}}else{an.SECTION_NAME="pb";an.SECTION_LINK_NAME=aJ;}an.CCM_PLAYLIST_ID=at(aF.get("id")||aJ);},_isVideoLive:function(){return this.get("model").get("currentMedia").get("isLive");},_startProgressPolling:function(Y,al){return this.get("model").after("playbackPositionChange",function(am){var an;this._seekStart=am.newVal;if((am.newVal>=al)&&!this._isVideoLive()){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}return;}an=am.newVal-Y;if(an>0&&((an%this.Constants.PROG_BEACON_LENGTH)===0)){this.process(this.get("allowedEvents").PLAYBACK_PROGRESS);}},this);},_startTimer:function(){this._startTime=new Date().getTime();},_getElapsedTime:function(){if(this._startTime){return new Date().getTime()-this._startTime;}else{return 0;}},_getTopDocument:function(){try{return window.top.document;}catch(Y){return null;}},_isIFrame:function(){try{if(window.top.location.href!==window.location.href){return true;}else{return false;}}catch(Y){return true;}},_isOnNetwork:function(){return H.isYahooDomain(H.getHostUrl());},_getFlashVersionString:function(){var am="",al=f.UA,Y;Y=H.getFlashVersion();switch(Y){case 0:am="";break;case 6:am="ShockwaveFlash 6.0";break;default:if(al.gecko||al.webkit||al.opera){am=Y;}else{am=Y.replace(/,/g,".");}}return am;},_trimLongUrls:function(Y){return Y.split("?")[0];},_handleAdFlag:function(al){var Y=(al==="adStart"||al==="adProgress")?true:false;this.set("isAd",Y);}});f.namespace("VideoPlatform").Metrics=M;function w(Y){w.superclass.constructor.apply(this,arguments);}w.NAME="PlayerBase";w.NS="playerBase";w.Events={PLAYBACK_READY:"playbackReady",PLAYBACK_PLAY:"playbackPlay",PLAYBACK_PLAYING:"playbackPlaying",PLAYBACK_PAUSED:"playbackPaused",PLAYBACK_PROGRESS:"playbackProgress",PLAYBACK_SEEK:"playbackSeek",PLAYBACK_SEEKED:"playbackSeeked",PLAYBACK_COMPLETE:"playbackComplete",PLAYBACK_ERROR:"playbackError",PLAYBACK_WARNING:"playbackWarning",PLAYBACK_WAITING:"playbackWaiting",FULLSCREEN_ENTER:"fullscreenEnter",FULLSCREEN_EXIT:"fullscreenExit",MUTE_CHANGE:"muteChange",VOLUME_CHANGE:"volumeChange",DURATION_CHANGE:"durationChange",UI_INTERACT:"uiInteract",MEDIA_INFO_UPDATE:"mediaInfoUpdate",BITRATE_CHANGE:"bitrateChange",PLAYER_READYSTATE:"readyState",PLAYER_RESIZE:"resize",CLIENT_RESIZE:"clientResize",CCAVAILABILITY_CHANGE:"ccAvailabilityChange"};var af=w.Events;w.ATTRS={playbackPlugin:{value:null},readyState:{value:""},videoContainer:{value:""}};w.Constants={READY_STATE:{HAVE_NOTHING:0}};f.extend(w,f.Base,{initializer:function(){},destructor:function(){},render:function(){},load:function(Y){},play:function(){},pause:function(){},seek:function(Y){},getDuration:function(){},setVolume:function(Y){},setMute:function(Y){},setFullscreen:function(Y){},joinUrl:function(){var al=function(am){return f.Lang.isString(am)&&am.length>0;},Y=function(am){return am.replace(/^\/*/,"").replace(/\/*$/,"");};return f.Array.map(f.Array.filter(f.Array(arguments),al),Y).join("/");},shouldLoopVideo:function(){var Y=this._model,al=Y.get("playlist").items();if(Y.get("loop")===false){return false;}if(!((Y.get("continuousPlay")===true)&&al.size()>1)){return true;}return false;},getFontList:function(){},updateControls:function(){},positionCaptions:function(Y){},computeAdClientSize:function(Y){return Y;},onMuteChange:function(Y){if(Y!==this._model.get("muted")){this.fire(af.MUTE_CHANGE,Y);}},onSeeking:function(){this.fire(af.PLAYBACK_SEEK);},onSeeked:function(){this.fire(af.PLAYBACK_SEEKED);}});f.namespace("VideoPlatform").PlayerBase=w;function ag(){ag.superclass.constructor.apply(this,arguments);}ag.NAME="LegoCMS";ag.ATTRS={jsonpMethod:{value:f.jsonp},requestTimeout:{value:10},yqlStore:{value:"yahoo.media.video.streams"},env:{value:"prod"},yqlClipQuery:{value:"SELECT {columns} FROM {store} WHERE {idPredicate} AND {formatPredicate}"+" AND {protocolPredicate} AND {rendererTypePredicate} AND {playerGuidPredicate}"+" AND {yvapAcctIdPredicate} AND {playContextPredicate} AND {pageSpaceIdPredicate}"+" AND {offnetworkPredicate} AND {sitePredicate} AND {langPredicate} AND {regionPredicate}"+" AND {overridePredicate} AND {channelIdPredicate} AND {sslPredicate} AND {syndicationPredicate};"},yqlRelatedQuery:{value:"SELECT {columns} from yahoo.media.video.related({startPredicate},{countPredicate}) WHERE {idPredicate} "+"AND {playerGuidPredicate} AND {sitePredicate} AND {regionPredicate} AND {algoPredicate} "+"AND {langPredicate} AND {offnetworkPredicate} AND {widthPredicate} AND {heightPredicate};"},yqlPlaylistQuery:{value:"SELECT * from yahoo.media.video.playlist{countPredicate} "+"WHERE {idPredicate} AND {startVideoPredicate} AND {playIndexPredicate} AND {playerGuidPredicate} "+"AND {sitePredicate} AND {regionPredicate} AND {langPredicate} "+"AND {yvapAcctIdPredicate} AND {playContextPredicate} AND {pageSpaceIdPredicate} "+"AND {formatPredicate} AND {protocolPredicate} AND {offnetworkPredicate} AND {overridePredicate} "+"AND {widthPredicate} AND {heightPredicate} AND {sslPredicate} AND {syndicationPredicate};"},yqlMetaQuery:{value:"SELECT * from yahoo.media.video.abstract WHERE {idPredicate} "+"AND {sitePredicate} AND {langPredicate} AND {regionPredicate};"},yqlMultiClipsQuery:{value:"SELECT * from yql.query.multi WHERE {queriesPredicate}"},yqlCcTtmlQuery:{value:"SELECT * from xml WHERE {ttmlUrlPredicate}"},relatedCount:{value:8,validator:f.Lang.isNumber},relatedStart:{value:0,validator:f.Lang.isNumber},algoContent:{value:"mmsearch, core, ib, tags"},relatedVideosColumns:{value:["status, mediaObj.id, mediaObj.meta, mediaObj.status, mediaObj.license, mediaObj.algo"]},playlistCount:{value:12,validator:f.Lang.isNumber},host:{value:"video.query.yahoo.com"},captionSettingsHost:{value:"video.media.yql.yahoo.com"},atlasHost:{value:"atlas.cdn.yimg.com"},urlTemplate:{value:"//{host}/v1/public/yql?q={query}&env={env}&format=json&callback={callback}"},urlCaptionSettingsTemplate:{value:"//{host}/v1/video/user/ccprefs/get?callback={callback}"},urlStoreCaptionSettingsTemplate:{value:"//{host}/v1/video/user/ccprefs/set?userccp={data}&callback={callback}"},formats:{value:[],validator:f.Lang.isArray},protocols:{value:[],validator:f.Lang.isArray},heights:{value:{"large":345,"medium":175}},widths:{value:{"large":634,"medium":233}}};
ag.MIME_TYPE_MAP=(function(){return{"video/x-flv":H.formats.FLV,"video/mp4":H.formats.MP4,"video/webm":H.formats.WEBM,"application/vnd.apple.mpegurl":H.formats.M3U8,"audio/x-mpegurl":H.formats.M3U8,"application/f4m+xml":H.formats.F4M};}());f.extend(ag,f.Base,{_model:null,_controller:null,log:function(al,Y){},initializer:function(am){var Y=(am||{}).model,al=(am||{}).controller,an=Y?Y.get("rendererType"):"flash";this._model=Y;this._controller=al;this._sapiRetry="true";this.updateRendererType(an);if(Y){Y.after("rendererTypeChange",function(ao){this.updateRendererType(ao.newVal);},this);Y.after("isPlayingChange",function(ap){var ao;if(ap.newVal){ao=Y.get("currentMedia");if(ao.get("streamUrlOwner")===this.name){ao.set("streams",undefined);}}},this);}},updateRendererType:function(al){var am=(this._model)?(this._model.get("useHlsFlash")==="true"):false,Y=H.getFormatsAndProtocols(al,am);this.set("formats",Y.requestFormats);this.set("protocols",Y.requestProtocols);},loadClips:function(ay,aM){var au=f.Lang.sub,az=this,aC=az._model,aL=az.constructor.NAME,aA=az._controller,ao,an,aq,aN=az.get("jsonpMethod"),aw=az.get("requestTimeout")*1000,Y=aM.context||null,aJ=f.VideoPlatform.ErrorObject,aH=aJ.ERROR,av=aJ.LEVEL,ax=aA?aA.getProfiler():null,aD=aA?aA.getMetricsModule():null,ar,am,aB,aI,aG=0,aK=null;ao=az.getClipsQuery(["*"],az.clipIds(ay));ar=aH.CMS_TIMEOUT_LOADCLIPS_ALL;am=aH.CMS_RESPONSE_LOADCLIPS_ALL;aB=aH.CMS_TIMEOUT_LOADCLIPS_ALL_RETRY;aI=aH.CMS_REQUEST_LOADCLIPS_ALL_RETRY;an=au(az.get("urlTemplate"),{host:aC.get("SAPI_CONF").host||aC.get("CMS").host||az.get("host"),env:aC.get("CMS").env||az.get("env"),query:encodeURIComponent(ao)});function ap(aO){aM.failure.call(Y,aO);}function at(aO){var aQ=aO.error,aR={"RETRY_COUNT":aG},aP;if(ax){ax.setEndTime(aj.SAPI_LOADCLIPS.type,aK);aq=ax.getItem(aj.SAPI_LOADCLIPS.type,aK);if(aD){aD.fireSAPIBeacons(aq,aR);}}if(aQ){aP=aQ.status||am.code;ap(new aJ(am.type,aP,aL,"loadClips; "+aQ.description,av.CRITICAL));}else{aM.success.call(Y,az.parseStreamsResponse(aO));}}if(ax){aK=ax.add(aj.SAPI_LOADCLIPS);}function aF(aR){var aQ=(f.Lang.isArray(aR.errors))?aR.errors[0].error:aR.msg||aR.description||aR.statusText||"",aP=new aJ(aH.CMS_REQUEST.type,aH.CMS_REQUEST.code,aL,"loadClips-"+aQ,av.CRITICAL),aO=new aJ(aI.type,aI.code,aL,"LoadClips-1st attempt failure warning: "+aR.msg+";"+aR.description,av.WARNING);aE(aO,aP);}function aE(aP,aO){if(az._sapiRetry!=="true"||++aG!==1){ap(aO);return;}aA.warn(aP);aN(an,{on:{success:at,failure:aF,timeout:al},timeout:aw,context:az,async:true});}function al(aR){var aQ=(f.Lang.isArray(aR.errors))?aR.errors[0].error:aR.msg||aR.description||aR.statusText||"",aP=new aJ(ar.type,ar.code,aL,"loadClips-"+aQ,av.CRITICAL),aO=new aJ(aB.type,aB.code,aL,"LoadClips-1st attempt Timeout Warning: "+aR.msg+";"+aR.description,av.WARNING);aE(aO,aP);}aN(an,{on:{success:at,failure:aF,timeout:al},timeout:aw,context:az,async:true});},loadPlaylist:function(aK,ao,aO,au,aN){var aw=f.Lang.sub,aA=this,aC=aA._model,at,aM=aA.constructor.NAME,aB=aA._controller,aq=aA.getPlaylistQuery(aK,ao,aO,au),ap=aw(aA.get("urlTemplate"),{host:aC.get("SAPI_CONF").host||aC.get("CMS").host||aA.get("host"),env:aC.get("CMS").env||aA.get("env"),query:encodeURIComponent(aq)}),aP=aA.get("jsonpMethod"),ay=aA.get("requestTimeout")*1000,al=aN.context||null,aL=f.VideoPlatform.ErrorObject,aI=aL.ERROR,ax=aL.LEVEL,aH=aI.CMS_TIMEOUT_LOADPLAYLIST,Y=aI.CMS_RESPONSE_LOADPLAYLIST,aJ=aI.CMS_TIMEOUT_LOADPLAYLIST_RETRY,an=aI.CMS_REQUEST_LOADPLAYLIST_RETRY,az=(aB)?aB.getProfiler():null,aD=aB?aB.getMetricsModule():null,aG=0;function ar(aQ){aN.failure.call(al,aQ);}function av(aQ){var aT=aQ,aV=aT.query||null,aS=aT.error||null,aU={"RETRY_COUNT":aG},aR;if(az){az.setEndTime(aj.SAPI_LOADPLAYLIST.type);at=az.getItem(aj.SAPI_LOADPLAYLIST.type);if(aD){aD.fireSAPIBeacons(at,aU);}}if(aS){aR=aS.status||Y.code;ar(new aL(Y.type,aR,aM,"loadPlaylist; "+aS.description,ax.CRITICAL));}else{if(aV&&aV.results){aN.success.call(al,this.parsePlaylistResponse(aT));}else{aR=Y.code;ar(new aL(Y.type,aR,aM,"loadPlaylist; null results",ax.CRITICAL));}}}function aE(aR,aQ){if(aA._sapiRetry!=="true"||++aG!==1){ar(aQ);return;}aB.warn(aR);aP(ap,{on:{success:av,failure:aF,timeout:am},timeout:ay,context:aA,async:true});}function aF(aT){var aS=(f.Lang.isArray(aT.errors))?aT.errors[0].error:aT.msg||aT.description||aT.statusText||"",aR=new aL(aI.CMS_REQUEST.type,aI.CMS_REQUEST.code,aM,"loadPlaylist; "+aS,ax.CRITICAL),aQ=new aL(an.type,an.code,aM,"LoadPlaylist-1st Attempt Failure Warning: "+aT.msg+";"+aT.description,ax.WARNING);aE(aQ,aR);}function am(aT){var aS=(f.Lang.isArray(aT.errors))?aT.errors[0].error:aT.msg||aT.description||aT.statusText||"",aR=new aL(aH.type,aH.code,aM,"loadPlaylist; "+aS,ax.CRITICAL),aQ=new aL(aJ.type,aJ.code,aM,"LoadPlaylist-1st attempt Timeout Warning: "+aT.msg+";"+aT.description,ax.WARNING);aE(aQ,aR);}if(az){az.add(aj.SAPI_LOADPLAYLIST);}aP(ap,{on:{success:av,failure:aF,timeout:am},timeout:ay,context:aA,async:true});},loadRelatedVideos:function(aF,aK){var ay=this,aA=ay._model,az=ay._controller,aq,aJ=ay.constructor.Name,ao=ay.getRelatedVideosQuery(aF.get("id")),an=f.Lang.sub(ay.get("urlTemplate"),{host:aA.get("SAPI_CONF").host||aA.get("CMS").host||ay.get("host"),env:aA.get("CMS").env||ay.get("env"),query:encodeURIComponent(ao)}),aM=ay.get("jsonpMethod"),av=ay.get("requestTimeout")*1000,Y=aK.context||null,aI=f.VideoPlatform.ErrorObject,aH=aI.ERROR,au=aI.LEVEL,am=null,aL=aH.CMS_TIMEOUT_LOADRELATED,aG=aH.CMS_RESPONSE_LOADRELATED,ax=aH.CMS_TIMEOUT_LOADRELATED_RETRY,at=aH.CMS_REQUEST_LOADRELATED_RETRY,aB=az?az.getMetricsModule():null,aE=0,aw=(az)?az.getProfiler():null;function ap(aN){aK.failure.call(Y,aN);}function ar(aN){var aQ=aN,aS=aQ.query||null,aP=aQ.error||null,aO,aR={"RETRY_COUNT":aE};if(aw){aw.setEndTime(aj.SAPI_LOADRELATED.type,am);aq=aw.getItem(aj.SAPI_LOADRELATED.type,am);if(aB){aB.fireSAPIBeacons(aq,aR);}}if(aP){aO=aP.status||aG.code;ap(new aI(aG.type,aO,aJ,"loadRelated; "+aP.description,au.CRITICAL));}else{if(aS&&aS.results){aK.success.call(Y,this.parseEndScreenContentResponse(aN));
}else{aO=aG.code;ap(new aI(aG.type,aO,aJ,"loadRelated; null results",au.CRITICAL));}}}function aC(aO,aN){if(ay._sapiRetry!=="true"||++aE!==1){ap(aN);return;}az.warn(aO);aM(an,{on:{success:ar,failure:aD,timeout:al},timeout:av,context:ay,async:true});}function aD(aQ){var aP=(f.Lang.isArray(aQ.errors))?aQ.errors[0].error:aQ.msg||aQ.description||aQ.statusText||"",aO=new aI(aH.CMS_REQUEST.type,aH.CMS_REQUEST.code,aJ,"loadRelatedVideos; "+aP,au.CRITICAL),aN=new aI(at.type,at.code,aJ,"LoadRelated-1st Attempt failure warning: "+aQ.msg+";"+aQ.description,au.WARNING);aC(aN,aO);}function al(aQ){var aP=(f.Lang.isArray(aQ.errors))?aQ.errors[0].error:aQ.msg||aQ.description||aQ.statusText||"",aO=new aI(aL.type,aL.code,aJ,"loadRelatedVideos; "+aP,au.CRITICAL),aN=new aI(ax.type,ax.code,aJ,"LoadRelated-1st attempt Timeout warning: "+aQ.msg+";"+aQ.description,au.WARNING);aC(aN,aO);}if(aw){am=aw.add(aj.SAPI_LOADRELATED);}aM(an,{on:{success:ar,failure:aD,timeout:al},timeout:av,context:ay,async:true});},getCaptionSettings:function(aC){var ap=f.Lang.sub,av=this,am,ay=aj.GET_CC_PREF,aB=av.constructor.NAME,aw=av._controller,aD=av.get("jsonpMethod"),ar=av.get("requestTimeout")*1000,au=new k({model:this._model}),at=(this._controller)?this._controller.getProfiler():null,Y=aC.context||null,aA=f.VideoPlatform.ErrorObject,az=aA.ERROR,aq=aA.LEVEL;am=ap(av.get("urlCaptionSettingsTemplate"),{host:av.get("captionSettingsHost")});function an(aE){aC.failure.call(Y,aE);}function ao(aE){au.stop(ay.type,ay.desc);if(at){at.setEndTime(ay.type);}au=null;var aF=aE.error;if(!aF){aC.success.call(Y,av.parseGetCaptionSettingsResponse(aE.closedcaptionprefs));}else{aw.warn(new aA(az.GET_CAPTION_RESP.type,az.GET_CAPTION_RESP.code,aB,"getCaptionSettings-"+aF,aq.WARNING));an(aF);}}function ax(aG){var aF=(f.Lang.isArray(aG.errors))?aG.errors[0].error:aG.msg||aG.description||aG.statusText||"",aE=new aA(az.GET_CAPTION_SETTINGS_REQUEST.type,az.GET_CAPTION_SETTINGS_REQUEST.code,aB,"getCaptionSettings-"+aF,aq.WARNING);aw.warn(aE);an(aF);}function al(aG){var aF=(f.Lang.isArray(aG.errors))?aG.errors[0].error:aG.msg||aG.description||aG.statusText||"",aE=new aA(az.GET_CAPTION_SETTINGS_TIMEOUT.type,az.GET_CAPTION_SETTINGS_TIMEOUT.code,aB,"getCaptionSettings-"+aF,aq.WARNING);aw.warn(aE);an(aG);}au.start();if(at){at.add(ay);}aD(am,{on:{success:ao,failure:ax,timeout:al},timeout:ar,context:av,async:true});},storeCaptionSettings:function(av,aE){var ap=f.Lang.sub,ax=this,am,aA=aj.SET_CC_PREF,aq=f.JSON.stringify(av),aD=ax.constructor.NAME,ay=ax._controller,aF=ax.get("jsonpMethod"),at=ax.get("requestTimeout")*1000,aw=new k({model:this._model}),au=(this._controller)?this._controller.getProfiler():null,Y=aE.context||null,aC=f.VideoPlatform.ErrorObject,aB=aC.ERROR,ar=aC.LEVEL;am=ap(ax.get("urlStoreCaptionSettingsTemplate"),{host:ax.get("captionSettingsHost"),data:encodeURIComponent(aq)});function an(aG){aE.failure.call(Y,aG);}function ao(aG){aw.stop(aA.type,aA.desc);if(au){au.setEndTime(aA.type);}aw=null;var aH=aG.error;if(aH){ay.warn(new aC(aB.STORE_CAPTION_RESP.type,aB.STORE_CAPTION_RESP.code,aD,"storeCaptionSettings-"+aH,ar.WARNING));an(aH);}else{aE.success.call(Y,aG);}}function az(aI){var aH=(f.Lang.isArray(aI.errors))?aI.errors[0].error:aI.msg||aI.description||aI.statusText||"",aG=new aC(aB.STORE_CAPTION_SETTINGS_REQUEST.type,aB.STORE_CAPTION_SETTINGS_REQUEST.code,aD,"storeCaptionSettings-"+aH,ar.WARNING);ay.warn(aG);an(aH);}function al(aI){var aH=(f.Lang.isArray(aI.errors))?aI.errors[0].error:aI.msg||aI.description||aI.statusText||"",aG=new aC(aB.STORE_CAPTION_SETTINGS_TIMEOUT.type,aB.STORE_CAPTION_SETTINGS_TIMEOUT.code,aD,"storeCaptionSettings-"+aH,ar.WARNING);ay.warn(aG);an(aH);}aw.start();if(au){au.add(aA);}aF(am,{on:{success:ao,failure:az,timeout:al},timeout:at,context:ax,async:true});},fetchClosedCaptionContent:function(au){var ap=this._model,aw=this.getCcTtmlUrlQuery(),an=aj.YQL_LOAD_CC,Y=f.Lang.sub(this.get("urlTemplate"),{host:ap.get("SAPI_CONF").host||ap.get("CMS").host||this.get("host"),env:ap.get("CMS").env||this.get("env"),query:encodeURIComponent(aw)}),ay=this.get("jsonpMethod"),ax=this.get("requestTimeout")*1000,am=au.context||null,al=new k({model:this._model}),az=f.VideoPlatform.ErrorObject,ar=az.ERROR,at=az.LEVEL,aB=(this._controller)?this._controller.getProfiler():null;function ao(aC){au.failure.call(am,aC);}function aA(aC){al.stop(an.type,an.desc);if(aB){aB.setEndTime(an.type);}al=null;var aG=aC,aH=aG.query||null,aF=aG.error||null,aD,aE=f.VideoPlatform.ErrorObject.ERROR.CMS_RESPONSE_CLOSED_CAPTION;if(aF){aD=aF.status||aE.code;ao(new az(aE.type,aD,this.constructor.NAME,"closedCaptions; "+aF.description,at.CRITICAL));}else{if(aH&&aH.results){au.success.call(am,this.parseClosedCaptionContentResponse(aG));}else{aD=aE.code;ao(new az(aE.type,aD,this.constructor.NAME,"closedCaptions; null results",at.CRITICAL));}}}function aq(aD){var aC=(f.Lang.isArray(aD.errors))?aD.errors[0].error:aD.msg||aD.description||aD.statusText||"";ao(new az(ar.CMS_REQUEST.type,ar.CMS_REQUEST.code,this.constructor.NAME,"loadClosedCaptionContent; "+aC,at.CRITICAL));}function av(aD){var aC=(f.Lang.isArray(aD.errors))?aD.errors[0].error:aD.msg||aD.description||aD.statusText||"";ao(new az(ar.CMS_TIMEOUT_CLOSED_CAPTION.type,ar.CMS_TIMEOUT_CLOSED_CAPTION.code,this.constructor.NAME,"loadClosedCaptionContent; "+aC,at.CRITICAL));}al.start();if(aB){aB.add(an);}ay(Y,{on:{success:aA,failure:aq,timeout:av},timeout:ax,context:this,async:true});},parseClosedCaptionContentResponse:function(al){var ap={},am=null,an=null,Y=null,aq=null;try{am=al.query.results;an=am.tt;Y=an.body.div.p;ap.entries={};aq=ap.entries;aq.times=[];aq.text=[];f.each(Y,function(ar){aq.text.push(ar.content);aq.times.push({start:this._parseClosedCaptionTime(ar.begin),end:this._parseClosedCaptionTime(ar.end)});},this);}catch(ao){ap={entries:{}};}return ap;},parseGetCaptionSettingsResponse:function(al){var Y={},an;try{if(al.length>0){an=al[0];if(!f.Lang.isObject(an)){an=null;}}else{an=null;}Y.cc=an;}catch(am){}return Y;
},_parseClosedCaptionTime:function(al){var aq=al.split(":"),ap=0,am,ao,Y,ar,an;if(aq.length===3){am=aq[0];ao=aq[1];Y=aq[2];}else{if(aq.length===2){am=0;ao=aq[0];Y=aq[1];}else{am=0;ao=0;Y=aq[0];}}Y=Y.split(/\s+/);ar=Y.splice(0,1)[0];ar=ar.split(/\.|,/);an=parseFloat(ar[1]);ar=ar[0];ap+=parseFloat(am)*3600;ap+=parseFloat(ao)*60;ap+=parseFloat(ar);if(an){ap+=an/1000;}return ap;},parseStreamsResponse:function(Y){var an,am;try{if(Y.query.results.results){am=this.mergeResults(Y);}else{am=this.arrayify(Y.query.results.mediaObj);}an=f.Array.map(am,this.parseMediaObj,this);}catch(al){an=false;}return an;},mergeResults:function(al){var an=[],am,Y,ao=[];al.query.results=al.query.results.results;Y=al.query.results;for(am=0;am<Y.length;am++){an=an.concat(Y[am].mediaObj);}al.query.results={mediaObj:an};ao=this.arrayify(al.query.results.mediaObj);return ao;},parsePlaylistResponse:function(al){var an,ao,Y;try{an=al.query.results.result;ao={start:an.start,count:an.count,total:an.total,mediaItems:f.Array.map(this.arrayify(an.mediaObj),this.parseMediaObj,this)};Y=an.status;if(Y){ao.status={code:Y.code,msg:Y.msg};}}catch(am){ao={start:0,count:0,total:0,mediaItems:[]};}return ao;},parseEndScreenContentResponse:function(al){var am,an,Y;try{am=al.query.results.result;an={mediaItems:f.Array.map(this.arrayify(am.mediaObj),this.parseMediaObj,this)};}catch(ao){an={start:0,count:0,total:0,mediaItems:[]};}if(am){Y=am.status;if(typeof Y!==undefined){an.status={code:Y.code,msg:Y.msg};}}return an;},parseMediaObj:function(aq){var ap={},ao,am,an,ar,al,Y=null;ap.id=aq.id;ao=aq.status;if(ao){ap.status={code:ao.code,msg:ao.msg};}ao=aq.meta;if(ao){al=ao.credits&&ao.credits.main_artists?ao.credits.main_artists:"";ap.embeddable=ao.embed_rights;ap.title=ao.title;if(al&&al.length>0){ap.title=al+" - "+ap.title;}ap.description=ao.description;ap.clipDuration=H.getDuration(ao.duration);ap.shareUrl=ao.url;ap.images={};if(ao.thumbnail){ap.images.thumbnail=ao.thumbnail;}ap.provider={};if(ao.provider){ap.provider.name=ao.provider.name;ap.provider.logoUrl=ao.provider.logourl;ap.provider.url=ao.provider.url;}ap.eventBeginTime=ao.event_start;ap.eventEndTime=ao.event_stop;ap.showName=ao.show_name;ap.copyright=ao.attribution||"";ap.genre=ao.genre||"";ap.credits=ao.credits||{};}ao=aq.streams;if(ao){ap.streams=f.Array.map(ao,this.parseStreamNode,this);ap.isLive=f.Array.some(ao,function(at){return at.live===true;});Y=ap.streams[0];if(Y){ap.duration=f.Lang.isValue(Y.duration)?Y.duration:ap.duration;ap.streamProtocol=H.parseUrl(Y.host).protocol;}ap.streamUrlOwner=this.name;}ao=aq.license;if(ao){ap.licensorName=ao.account_name;ap.licensorId=ao.account_id;ap.licenseName=ao.title;ap.licenseId=ao.salesforce_id;ap.originatingProperty=ao.originating_property;}ao=aq.metrics;if(ao){ap.metrics=ao;if(ao.pspid){ap.spaceId=ao.pspid;}am=ao.ywa||[];if(am&&am.length>0){an=am[0].split(",");if(an.length>0){am.shift();f.each(an,function(at){if(f.Array.indexOf(am,at)<0){am.push(at);}},this);}}ap.metrics.metaTags=am;delete ap.metrics.ywa;ar={type:f.VideoPlatform.ErrorObject.ERROR.CMS_METRICS_VALIDATION.type,code:f.VideoPlatform.ErrorObject.ERROR.CMS_METRICS_VALIDATION.code};if(f.Lang.isUndefined(ao.comscore_cm5)){ar.msg="comscore_cm5 is undefined in cms response";this._model.set("warning",ar);}else{ap.comscoreC5=ao.comscore_cm5;}if(f.Lang.isUndefined(ao.comscore6)){ar.msg="comscore6 is undefined in cms response";this._model.set("warning",ar);}else{ap.comscoreC6=ao.comscore6;}}ao=aq.yvap;if(ao){ap.adData=ao;}ao=aq.visualseek;if(ao){ap.visualseek=this._parseVisualSeekNode(ao);}ao=aq.closedcaptions;if(ao){ap.CC=ao;}ao=aq.algo;if(ao){ap.instrumentation={algoName:ao.algo_name||"",linkContext:ao.detail||"",videoContext:ao.vctxt||""};}return ap;},parseStreamNode:function(al){var Y={format:this.typeToFormat(al.mime_type),width:al.width,height:al.height,bitrate:al.bitrate,duration:al.duration,host:al.host,path:al.path};if(al.h264_profile){Y.h264_profile=al.h264_profile;}return Y;},_parseVisualSeekNode:function(Y){return{width:Y.width,height:Y.height,frequency:Y.frequency,images:f.Array.map(this.arrayify(Y.images),this._parseVisualSeekImagesNode,this)};},_parseVisualSeekImagesNode:function(Y){return{url:Y.url,count:Y.count,startIndex:Y.start_index};},typeToFormat:function(Y){var al=ag.MIME_TYPE_MAP;return al[Y]||"";},arrayify:function(Y){return f.Lang.isArray(Y)?Y:[Y];},getClipsQuery:function(ao,Y){var an=this._model,ar=",",aq=an.get("YVAP"),am=an.get("currentMedia"),at=null,ap,al;if(am){at=am.get("enforcedFormatAndProtocol");}if(at){ap=at.requestFormats;al=at.requestProtocols;}else{ap=this.get("formats");al=this.get("protocols");}return f.Lang.sub(this.get("yqlClipQuery"),{store:this.get("yqlStore"),columns:ao.join(","),idPredicate:this.remoteFilter("id",Y),playerGuidPredicate:this.localFilter("plrs",an.get("guid")),formatPredicate:this.localFilter("format",ap.join(ar)),rendererTypePredicate:this.localFilter("rt",an.get("rendererType")),protocolPredicate:this.localFilter("protocol",al.join(ar)),offnetworkPredicate:this.localFilter("offnetwork",an.get("isOffNetwork")),sitePredicate:this.localFilter("site",an.get("site")),langPredicate:this.localFilter("lang",an.get("lang")),regionPredicate:this.localFilter("region",an.get("region")),yvapAcctIdPredicate:this.localFilter("acctid",aq.get("accountId")),playContextPredicate:this._shouldSuppressAdContext()?'plidl=""':this.localFilter("plidl",aq.get("playContext")),pageSpaceIdPredicate:this._shouldSuppressAdContext()?'pspid=""':this.localFilter("pspid",an.get("pageSpaceId")),overridePredicate:this.localFilter("override",an.get("lms")),channelIdPredicate:this.localFilter("plist",an.get("playlist").get("id")),sslPredicate:H.shouldEnableRtmps(an)?this.localFilter("ssl",true):this.localFilter("ssl",false),syndicationPredicate:this.localFilter("synd",an.get("synd"))});},_shouldSuppressAdContext:function(){var Y=this._model;if((Y.get("CMS").suppressAdContext)||(Y.get("emptySpaceIdContextToSapi"))){return true;}return false;},getPlaylistQuery:function(al,am,an,at){var ao=this._model,au=",",ar=ao.get("startVideo")||"",ap=ao.get("YVAP"),aw=ao.get("autoplay")?"medium":"large",Y=ao.get("width")||this.get("widths")[aw],av=ao.get("height")||this.get("heights")[aw],aq=1;
if(f.Lang.isNumber(at)){aq=at;}else{if(ao.get("carousel")){aq=this.get("playlistCount");}}return f.Lang.sub(this.get("yqlPlaylistQuery"),{countPredicate:"("+am+","+aq+")",idPredicate:this.localFilter("id",al),startVideoPredicate:this.localFilter("startvideo",ar),playIndexPredicate:this.localFilter("pidx",an),playerGuidPredicate:this.localFilter("plrs",ao.get("guid")),sitePredicate:this.localFilter("site",ao.get("site")),regionPredicate:this.localFilter("region",ao.get("region")),langPredicate:this.localFilter("lang",ao.get("lang")),formatPredicate:this.localFilter("format",this.get("formats").join(au)),protocolPredicate:this.localFilter("protocol",this.get("protocols").join(au)),yvapAcctIdPredicate:this.localFilter("acctid",ap.get("accountId")),playContextPredicate:this._shouldSuppressAdContext()?'plidl=""':this.localFilter("plidl",ap.get("playContext")),pageSpaceIdPredicate:this._shouldSuppressAdContext()?'pspid=""':this.localFilter("pspid",ao.get("pageSpaceId")),offnetworkPredicate:this.localFilter("offnetwork",ao.get("isOffNetwork")),overridePredicate:this.localFilter("override",ao.get("lms")),widthPredicate:this.localFilter("width",Y),heightPredicate:this.localFilter("height",av),sslPredicate:H.shouldEnableRtmps(ao)?this.localFilter("ssl",true):this.localFilter("ssl",false),syndicationPredicate:this.localFilter("synd",ao.get("synd"))});},getRelatedVideosQuery:function(ao){var al=this._model,an=380,Y=214,am=al.get("endscreen").algoContent||this.get("algoContent");return f.Lang.sub(this.get("yqlRelatedQuery"),{columns:this.get("relatedVideosColumns").join(","),startPredicate:this.get("relatedStart"),countPredicate:this.get("relatedCount"),idPredicate:this.localFilter("id",ao),playerGuidPredicate:this.localFilter("plrs",al.get("guid")),sitePredicate:this.localFilter("site",al.get("site")),regionPredicate:this.localFilter("region",al.get("region")),algoPredicate:this.localFilter("algo",am),langPredicate:this.localFilter("lang",al.get("lang")),offnetworkPredicate:this.localFilter("offnetwork",al.get("isOffNetwork")),widthPredicate:this.localFilter("width",an),heightPredicate:this.localFilter("height",Y)});},getMetaQuery:function(al,am){var Y=this._model;return f.Lang.sub(this.get("yqlMetaQuery"),{columns:al.join(","),idPredicate:this.remoteFilter("id",am),sitePredicate:this.localFilter("site",Y.get("site")),regionPredicate:this.localFilter("region",Y.get("region")),langPredicate:this.localFilter("lang",Y.get("lang")),offnetworkPredicate:this.localFilter("offnetwork",Y.get("isOffNetwork"))});},getCcTtmlUrlQuery:function(){var Y=this._model,al=Y.get("closedCaptionUrl")||"";return f.Lang.sub(this.get("yqlCcTtmlQuery"),{ttmlUrlPredicate:this.localFilter("url",al)});},getMultiClipsQuery:function(an,ao,ap){var am=this.getClipsQuery(an,ao),Y=this.getMetaQuery(an,ap),al="'"+am+Y+"'";return f.Lang.sub(this.get("yqlMultiClipsQuery"),{queriesPredicate:"queries = "+al});},clipIds:function(Y){return f.Array.map(Y.toArray(),function(al){return al.id;});},getFirstClip:function(Y){var al;if(f.Lang.isArray(Y)&&Y.length>0){al=new Array(Y[0]);return al;}return Y;},quoteStr:function(Y){return'"'+Y+'"';},remoteFilter:function(al,Y){var am=al;if(Y.length>1){am+=" IN ";am+="("+f.Array.map(Y,this.quoteStr).join(", ")+")";}else{am+="=";am+='"'+Y[0]+'"';}return am;},localFilter:function(Y,al){return Y+"="+this.quoteStr(al);}});f.namespace("VideoPlatform").LegoCMS=ag;function y(){y.superclass.constructor.apply(this,arguments);this.queue=new f.AsyncQueue();this.isRunning=true;}y.NAME="BeaconService";y.NS="beaconService";y.ATTRS={beaconTemplate:{value:""},beacon:{value:""}};f.extend(y,f.Base,{create:function(am){var al=this.get("beaconTemplate"),Y;if(al!==""){Y=f.substitute(al,am);this.set("beacon",Y);}},send:function(){var Y=this.get("beacon"),al;if(Y!==""){al=f.bind(this._getBeaconJob(Y),this);this.queue.add(al);if(this.isRunning){this.queue.run();}return true;}return false;},_getBeaconJob:function(Y){return function(){var al,am;al=new Image();am=function(){al.onload=null;al.onabort=null;al.onerror=null;al=null;};al.onload=am;al.onabort=am;al.onerror=am;al.src=Y;};},run:function(){this.isRunning=true;this.queue.run();},pause:function(){this.isRunning=false;this.queue.pause();},stop:function(){this.isRunning=false;this.queue.stop();}});f.namespace("VideoPlatform").BeaconService=y;function i(){}function h(){h.superclass.constructor.apply(this,arguments);}h.NAME="HTMLVideoRenderer";h.NS="htmlVideoRenderer";h.VIDEO_TEMPLATE="<video {initAttrs}></video>";h._instanceInfo={};h._registerInstance=function(Y){var am=h._instanceInfo,al=f.guid(Y);am[al]={ref:Y,removed:false};};h._unregisterInstance=function(Y){var am=h._instanceInfo,al=f.guid(Y);delete am[al];};if(f.UA.ios&&h._domNodeInserted===undefined){h._domNodeRemoved=function(al){if(al.srcElement.nodeType===1){var Y=f.one(al.srcElement);f.some(h._instanceInfo,function(am){if(am.ref._video&&Y.contains(am.ref._video)&&true!==am.syncing){am.removed=true;am.removedState={currentTime:Math.floor(am.ref._videoNode.get("currentTime"))};return true;}return false;});}};h._domNodeInserted=function(al){if(1===al.srcElement.nodeType){var Y=f.one(al.srcElement);f.some(h._instanceInfo,function(am){if(am.ref._video&&Y.contains(am.ref._video)){if(true===am.removed){am.resyncing=true;am.ref._recreateVideo();am.ref._reSync();am.resyncing=false;}return true;}return false;});}};i("ios - listening for mutation events...");f.one("body")._node.addEventListener("DOMNodeRemoved",h._domNodeRemoved);f.one("body")._node.addEventListener("DOMNodeInserted",h._domNodeInserted);}h.ATTRS={mediaItem:{readOnly:true,getter:function(){return this._mediaItem;}},chromeless:{},videoUrlTemplate:{value:"http://m.yahoo.com/w/web/video?u=url%5B%5D%3D{id}&lg=yep"},guid:{value:""},volume:{value:""},mute:{value:""},ccNode:{value:null},ccTextNode:{value:null},streamBitrate:{value:null}};f.extend(h,w,{_container:null,_mediaItem:null,_videoNode:null,_profiler:null,_model:null,log:function(Y,al){},initializer:function(){var am=arguments[0]||{},al=am.model,Y=this;
Y._profiler=am.controller?am.controller.getProfiler():null;Y._mediaItem=am.mediaItem;Y._model=al;Y._controller=am.controller;f.each(["videoUrlTemplate","chromeless","guid","volume","mute"],function(an){if(f.Lang.isValue(al.get(an))){Y.set(an,al.get(an));}},Y);Y.after("volumeChange",function(an){Y.fire(af.VOLUME_CHANGE,an.newVal);},Y);Y.after("muteChange",function(an){Y.fire(af.MUTE_CHANGE,an.newVal);},Y);h._registerInstance(Y);},_renderNode:function(){var Y,al;Y={"x-webkit-airplay":"allow","oncontextmenu":"return false;"};al=f.substitute(h.VIDEO_TEMPLATE,{initAttrs:this._toAttrString(Y)});return f.Node.create(al);},getContent:function(){return this._videoNode;},destructor:function(){this.stop();this._unbindEventHandlers();this._videoNode.remove();},render:function(Y){i("render()",Y);this.set("videoContainer",Y);this.set("videoContentNode",Y.ancestor(".yui3-videoplayer-content"));this.renderUI(Y);this.bindUI();this.syncUI();return this;},renderUI:function(Y){this._videoNode=this._renderNode();if(f.UA.mobile){this._videoAdNode=this._videoNode;}else{this._videoAdNode=this._renderNode();}this._syncStyle();if(Y){Y.appendChild(this._videoNode);if(this._videoAdNode!==this._videoNode){Y.appendChild(this._videoAdNode);}}this.set("playbackPlugin",this._videoAdNode._node);if(!f.UA.mobile){this._addClosedCaptionsNode();this._displayClosedCaptions();}this.set("readyState",w.Constants.READY_STATE.HAVE_NOTHING);},bindUI:function(){var al=this,Y=al._model;al._unbindEventHandlers();al._bindEventHandlers();Y.after("ccSettingsChange",function(am){if((!f.Lang.isValue(am.subAttrName)||am.subAttrName==="ccSettings.show")&&f.Lang.isValue(am.newVal)&&f.Lang.isValue(am.newVal.show)){al._displayClosedCaptions();}},al);},syncUI:function(){var Y=this._model;this._videoNode.setAttrs(this._getVideoAttrs(this.getAttrs(),this._mediaItem));this.setVolume(Y.get("volume"));this.setMute(Y.get("mute"));this._syncStyle();},_syncStyle:function(){this._videoNode.setStyles({background:"#000",width:"100%",height:"100%"});},_recreateVideo:function(){this._videoNode.remove(true);this.renderUI();},_reSync:function(){var Y=this._getVideoAttrs(this.getAttrs(),this._mediaItem);delete Y.poster;this.bindUI();this._syncStyle();this._videoNode.setAttrs(Y);},_getVideoAttrs:function(){var Y={};if(!!f.UA.mobile){Y.controls="controls";}return Y;},_selectBestStreamFromSortedStreams:function(ao,Y,am){var al=[];if(f.Lang.isNumber(f.UA.android)&&f.UA.android>0){var an=f.Array.filter(ao,function(ap){return(ap.format===H.formats.MP4)&&(ap.h264_profile==="Constrained Baseline");});if(an.length>0){ao=an;}}if(Y){al=f.Array.filter(ao,function(ap){return Number(ap.height)<=Y;},this);}else{al=f.Array.filter(ao,function(ap){return Number(ap.bitrate)<=am;},this);}return al;},_getVideoUrl:function(ap,ao){var ar,an,am,Y=ap.get("streamUrl")||"",al=this._model.get("selectedResolution");if(!ap.get("selectableStreams")){ap.set("selectableStreams",this._processSelectableStreams(ap));}ar=ap.get("selectableStreams");if(!f.Lang.isValue(ap.get("streams"))){return Y;}if(ar){ar=ar.sort(function(au,at){return au.bitrate-at.bitrate;});an=this._selectBestStreamFromSortedStreams(ar,al,ao);if(an.length>0){am=an.pop();}else{if(an.length===0&&ar.length>0){am=ar[0];}else{var aq=ap.get("streams");aq=aq.sort(function(au,at){return au.bitrate-at.bitrate;});am=aq[aq.length-1];}}this.set("streamBitrate",am.bitrate);this._model.set("streamBitrate",am.bitrate);Y=this.joinUrl(am.host,am.path);}return Y;},_getUrlFromTemplate:function(Y,al){return f.substitute(Y,al,function(am,an){return encodeURIComponent(an);});},_toAttrString:function(Y){var al=[];f.each(Y,function(an,am){al.push(am+'="'+an+'"');});return al.join(" ");},_play:function(){i("_play");this._videoNode.invoke("play");},setClosedCaptionAvailability:function(){var al=this,Y=this._model,am=this._mediaItem.get("CC");if(f.UA.mobile){Y.set("ccAvailable",false);Y.set("closedCaptionUrl",null);}else{if(am===undefined||am===null||am.length===0){Y.set("ccAvailable",false);}else{Y.set("ccAvailable",true);}Y.set("closedCaptionUrl",al._controller.getClosedCaptionUrl());}},suspendControl:function(){i("suspendControl");var Y={currentTime:Math.floor(this._videoNode.get("currentTime")),ended:this._videoNode.get("ended"),paused:this._videoNode.get("paused")};this.pause();this._unbindEventHandlers();return Y;},returnControl:function(Y){this._videoNode.setAttribute("autoplay","true");this._reSync(Y);},_processSelectableStreams:function(al){var av=this,aw=al.get("streams"),ar={},Y=[240,360,540,720,1080],at=[],aq,ap,an,ao,am,au;if(!f.Lang.isValue(aw)){return;}aw.forEach(function(ay){var ax=ay.height;ay=f.clone(ay);if(ay.bitrate<600){ax=240;ay.height=240;ay.width=427;}if(Y.indexOf(ax)!==-1){if(ar[ax]){ar[ax].push(ay);}else{ar[ax]=[ay];}}});am=function(ay,ax){return ay.bitrate-ax.bitrate;};au=function(ax){return Number(ax.bitrate)<=av._model.get("bitrate");};for(an in ar){if(ar.hasOwnProperty(an)){aq=ar[an].sort(am);ap=f.Array.filter(aq,au,av);ao=(ap.length===0)?aq[0]:ap.pop();at.push(ao);}}at.sort(function(ay,ax){return ay.height-ax.height;});if(at.length>4){at=at.slice(0,2).concat(at.slice(3));}return at;},preload:function(an){var al=this._model.get("bitrate"),ao=this._getVideoUrl(an,al),am=this._videoNode,Y=this._profiler;if(!f.UA.mobile&&ao!==""){if(Y){Y.add(aj.STREAM_LOADED);}am.set("preload","auto");am.set("src",ao);}},load:function(an){var al=this._model.get("bitrate"),ao=this._getVideoUrl(an,al),am=this._videoNode,Y=this._profiler;this._mediaItem=an;if(Y){Y.add(aj.STREAM_REQUEST_TO_RENDER);}if(am.get("src")!==ao){if(Y){Y.remove(aj.STREAM_LOADED.type);Y.add(aj.STREAM_LOADED);}am.set("src",ao);am._node.load();}this.setClosedCaptionAvailability();this.play();},play:function(){this._videoNode.invoke("play");},pause:function(){this._videoNode.invoke("pause");},seek:function(Y){this._videoNode.set("currentTime",Y);},stop:function(){this._videoNode.invoke("pause");},getDuration:function(){return this._videoNode.get("duration");},getBuffered:function(){var am=this,al=am._videoNode.get("buffered"),Y=al.length;
return{start:al.start(Y-1),end:al.end(Y-1)};},calculateCanvasLocation:function(){var av=this,at=av._videoNode.get("videoWidth"),ar=av._videoNode.get("videoHeight"),au=at/ar,aq=av._videoNode.get("clientWidth"),am=av._videoNode.get("clientHeight"),an=aq/am,al=0,ap=0,ao=0,Y=0;if(an>au){ap=am.toFixed(2);al=(au*am).toFixed(2);}else{al=aq.toFixed(2);ap=(aq/au).toFixed(2);}Y=Math.max((aq-al)/2,0);ao=Math.max((am-ap)/2,0);return{width:al,height:ap,left:Y,top:ao};},setResolution:function(Y){var ar=this,at=ar._model.get("currentMedia").get("selectableStreams"),ap,aq=ar._model.get("height"),am=ar._model.get("width"),ao=ar.calculateCanvasLocation(),an,al;ar.pause();ar.previousTime=ar._videoNode.get("currentTime");if(at){ar._model.set("changingResolution",true);ar._model.set("isSpinnerShown",true);an=document.createElement("canvas");an.width=am;an.height=aq;an.style.cssText="position:absolute;"+"width:"+ao.width+"px;"+"height:"+ao.height+"px;"+"left:"+ao.left+"px;"+"top:"+ao.top+"px";f.one(".yui3-videoplayer-loading").insert(an,"before");al=an.getContext("2d");al.drawImage(ar._videoNode._node,0,0,am,aq);ar._videoNode.setStyle("display","none");ap=at[Y];ar.set("streamBitrate",ap.bitrate);ar._model.set("streamBitrate",ap.bitrate);ar._model.set("selectedResolution",ap.height);ar._videoNode.setAttribute("src",ar.joinUrl(ap.host,ap.path));}},setFullscreen:function(am){var al=this,Y=al.get("videoContentNode")._node;if(am===true){if(Y.requestFullscreen){Y.requestFullscreen();}else{if(Y.webkitRequestFullscreen){Y.webkitRequestFullscreen();}else{if(Y.mozRequestFullScreen){Y.mozRequestFullScreen();}else{if(Y.msRequestFullscreen){Y.msRequestFullscreen();}else{}}}}}else{if(document.exitFullscreen){document.exitFullscreen();}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen();}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else{if(document.msExitFullscreen){document.msExitFullscreen();}}}}}},setMute:function(Y){this._videoNode.set("muted",Y);this._videoAdNode.set("muted",Y);},setVolume:function(Y){this._videoNode.set("volume",Y);this._videoAdNode.set("volume",Y);},applyClosedCaptions:function(){var ap=this._model.get("closedCaptions"),an=this._videoNode.get("currentTime"),ao="",Y=this.get("ccTextNode"),am=this.get("ccNode"),al;am.addClass("yui3-videoplayer-opacity-100");am.setStyle("zIndex",1);if(ap===null||ap.entries===null){return;}for(al=0;al<ap.entries.times.length;al++){if(an>=ap.entries.times[al].start&&an<=ap.entries.times[al].end){ao=ap.entries.text[al];Y.set("innerHTML",ao);return;}}},_addClosedCaptionsNode:function(){var an=this.get("videoContainer"),Y=an.ancestor(".yui3-videoplayer-content"),am,al;if(!an||!Y){return;}am=Y.one(".yui3-videoplayer-closedcaptions");al=am.appendChild(f.Node.create('<p class="yui3-videoplayer-closedcaptions-text"></p>'));this.set("ccNode",am);this.set("ccTextNode",al);if(this._model.get("ccSettings.show")===false){am.hide();}},_displayClosedCaptions:function(){if(!this._model.get("ccAvailable")){return;}if(this._model.get("ccSettings.show")===true){this.get("ccNode").show();}else{this.get("ccNode").hide();}},_bindEventHandlers:function(){var al={"loadeddata":this._onLoadedData,"ended":this._onEnded,"error":this._onError,"pause":this._onPause,"play":this._onPlay,"playing":this._onPlaying,"timeupdate":this._onTimeUpdate,"waiting":this._onWaiting,"seeking":this.onSeeking,"seeked":this._onSeeked,"volumechange":this._onVolumeChange},Y={"fullscreenchange":this._onFullscreenChange,"webkitfullscreenchange":this._onFullscreenChange,"mozfullscreenchange":this._onFullscreenChange,"MSFullscreenChange":this._onFullscreenChange};this.docEvents=Y;f.each(al,function(am,an){f.Node.DOM_EVENTS[an]=1;if(null!==am){this._videoNode.on(an,am,this);}},this);f.each(Y,function(am,an){f.Node.DOM_EVENTS[an]=1;f.one(document).on(an,am,this);},this);},_unbindEventHandlers:function(){f.each(this.docEvents,function(Y,al){f.one(document).detach(al,Y);},this);if(this._videoNode){this._videoNode.detachAll();}},_onPlay:function(){var Y=this;Y.fire(af.PLAYBACK_PLAY);if(Y._model.get("changingResolution")){Y.seek(Y.previousTime);}},_onPlaying:function(){var Y=this;if(Y._profiler){Y._profiler.setEndTime(aj.STREAM_REQUEST_TO_RENDER.type);}Y.fire(af.PLAYBACK_PLAYING);},_onPause:function(){if(!this._videoNode.get("ended")){this.fire(af.PLAYBACK_PAUSED);}},_onSeeked:function(){var Y=this;if(Y._model.get("changingResolution")){Y.play();Y._videoNode.setStyle("display","block");f.one(".yui3-videoplayer-main").all("canvas").remove();Y._model.set("isSpinnerShown",false);Y._model.set("changingResolution",false);}},_onTimeUpdate:function(){var Y=this._model.get("ccAvailable");if(Y){this.applyClosedCaptions();}this.fire(af.PLAYBACK_PROGRESS,{source:h.NAME,currentTime:this._videoNode.get("currentTime"),duration:this._videoNode.get("duration")});},_onWaiting:function(){this.fire(af.PLAYBACK_WAITING);},_onLoadedData:function(){if(this._profiler){this._profiler.setEndTime(aj.STREAM_LOADED.type);}this.fire(af.PLAYBACK_READY);},_onEnded:function(){if(this.shouldLoopVideo()===false){if(this.get("ccNode")){this.get("ccNode").hide();}this.fire(af.PLAYBACK_COMPLETE);}else{this._videoNode.currentTime=0;this.play();}},_onVolumeChange:function(){var al=this._videoNode.get("muted"),Y=this._videoNode.get("volume");if(al!==this.get("mute")){this.set("mute",al);}if(Y!==this.get("volume")){this.set("volume",Y);}},_onFullscreenChange:function(){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement){this.fire(af.FULLSCREEN_ENTER);}else{this.fire(af.FULLSCREEN_EXIT);}},_onError:function(){var am=["Unknown error code 0","ABORTED - The fetching process for the media resource was aborted by the user agent at the user's request.","NETWORK - A network error of some description caused the user"+"agent to stop fetching the media resource, after the resource was established to be usable.","DECODE - An error of some description occurred while decoding the media resource, after the resource was established to be usable.","SRC_NOT_SUPPORTED - The media resource indicated by the src attribute was not suitable."],Y=this._videoNode.get("error"),al=c;
i("video ERROR: "+(Y?Y.code+" "+am[Y.code]:"null error. poster?"));if(Y){this.fire(af.PLAYBACK_ERROR,new f.VideoPlatform.ErrorObject(al.ERROR.PLAYBACK.type,al.ERROR.PLAYBACK.code,this.constructor.NAME,am[Y.code],al.LEVEL.CRITICAL));}},setSettingsMenuVisibility:function(Y){}});f.namespace("VideoPlatform").HTMLVideoRenderer=h;function j(){j.superclass.constructor.apply(this,arguments);}j.NAME="FlashVideoRenderer";j.NS="flashVideoRenderer";j.SWF_NAME="player.swf";j.FLASH_VERSION="10.3.0";j.FIXED_SWF_ATTRS={allowScriptAccess:"always",allowFullScreen:"true",wmode:H.determineWindowMode(f.UA,f.config.win.navigator.userAgent)};j.ATTRS={swfUrl:{writeOnce:"initOnly"}};f.extend(j,w,{_model:null,_controller:null,_profiler:null,_shouldRecordTime:true,_commandQueue:null,_mediaObject:null,log:function(Y,al){},initializer:function(Y){this._model=Y.model;this._controller=Y.controller;this._skipFlashCheck=Y.skipFlashCheck;this._commandQueue=[];if(this._controller){this._profiler=this._controller.getProfiler();}if(!this.get("swfUrl")){this._set("swfUrl",H.PLAYER_ASSETS_URL+j.SWF_NAME);}if(Y.skipFlashCheck===false){if(!this._isFlashInstalled()){this._controller.error(new f.VideoPlatform.ErrorObject(c.ERROR.NO_FLASH.type,c.ERROR.NO_FLASH.code,this.constructor.NAME,"Flash is not installed",c.LEVEL.CRITICAL));return;}}this._model.after("yvapStateChange",function(al){if(al.newVal===YVAPEvents.PLUGIN_REMOVED){this._removeYVAP();}},this);},_removeYVAP:function(){var Y=this._yswf;if(Y){Y.callSWF("unloadPlugin",["YVAP"]);}},destructor:function(){var Y=this.get("videoContentNode"),al=this._yswf;if(al&&al._swf){al._swf.detach("flash-fix|*");}if(Y){Y.detach("flash-fix|*");}},render:function(Y){this.set("videoContainer",Y);this.set("videoContentNode",Y.ancestor(".yui3-videoplayer-content"));this._yswf=this._renderNode(Y);this.set("playbackPlugin",this._yswf);this._yswf.on("swfReady",this._onSwfReady,this);this._yswf.on("uiInteract",this._onUiInteract,this);this._yswf.on("playerPluginResize",this._onResize,this);this._yswf.on("waiting",this._onWaiting,this);this._yswf.on("jsLog",function(al){},this);},_renderNode:function(am){var an=this.get("swfUrl"),Y=new k({model:this._model}),aq,at=this,ar=at._profiler,ap,ao,al=10000;Y.start();if(ar){ar.add(aj.YSWF_NodeRendered);}an=(this._model.get("hostingData.bucket")===1)?an+"?qos=1":an;this.swfReadyTimer=new k({model:this._model});this.swfReadyTimer.start();aq=new f.YEPSWF(am,an,{version:j.FLASH_VERSION,fixedAttributes:j.FIXED_SWF_ATTRS});if(aq!==null&&aq!==undefined){aq.after("yuiIntegrationError",function(){var au=c.ERROR.YUI_INTEGRATION_ERR;at._controller.error(new f.VideoPlatform.ErrorObject(au.type,au.code,at.constructor.NAME,"YUI.SWF is not available",c.LEVEL.CRITICAL));});aq.after("wrongflashversion",function(){var au=c.ERROR.OLD_FLASH;at._controller.error(new f.VideoPlatform.ErrorObject(au.type,au.code,this.constructor.NAME,"Flash is not up to date",c.LEVEL.CRITICAL));return;});}if(aq!==null&&aq!==undefined){ao=this._isFlashBlockerPresent(aq._id);switch(ao){case"present":this._controller.warn(new f.VideoPlatform.ErrorObject(f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.type,f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.code,this.constructor.NAME,"Flash is blocked",c.LEVEL.WARNING));break;case"absent":break;default:case"uncertain":setTimeout(function(){ap=at.get("readyState");if(ap!==w.Constants.READY_STATE.HAVE_NOTHING){at._controller.warn(new f.VideoPlatform.ErrorObject(f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.type,f.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.code,at.constructor.NAME,"Flash is blocked",c.LEVEL.WARNING));}},al);break;}}Y.stop(aj.YSWF_NodeRendered.type,aj.YSWF_NodeRendered.desc);if(ar){ar.setEndTime(aj.YSWF_NodeRendered.type);ar.add(aj.YSWF_READY);ar.add(aj.YSWF_LOADED);}return aq;},isSwfReady:function(am){var Y=false;if(!f.Lang.isValue(am)){return Y;}try{Y=f.Lang.isValue(am.callSWF("get",["swfReady"]));}catch(al){f.warn("isSwfReady() + Error = "+al);}finally{return Y;}},preload:function(){},load:function(al){var Y=this;if(Y.get("readyState")===w.Constants.READY_STATE.HAVE_NOTHING){Y._load(al);}else{Y._commandQueue.push("_load");Y._mediaObject=al;}},play:function(al){var Y=this;if(Y.get("readyState")===w.Constants.READY_STATE.HAVE_NOTHING){Y._play(al);}else{Y._commandQueue.push("_play");if(al){Y._mediaObject=al;}}},pause:function(){},seek:function(){},stop:function(){},unload:function(){},getDuration:function(){return NaN;},setVolume:function(){},setMute:function(){},setFullscreen:function(){},updateControls:function(Y){if(this._yswf){this._yswf.callSWF("updateControls",[Y]);}},positionCaptions:function(Y){this.updateControls({ccBottomLeftOffset:Y});},computeAdClientSize:function(ao){var Y=this._controller,am=Y.getControlsObj(),an=f.Lang.isValue(ao)?ao.height:0,aq=(f.Lang.isValue(am))?am.getControlBarHeight():0,al=an,ar=f.Lang.isValue(ao)?ao.width:0,ap={};if(!am.inAdContext()&&this.isPlaybackMode()&&(an>=aq)){al=an-aq;}ap={width:ar,height:al};return ap;},isPlaybackMode:function(){var Y=this._model.get("playerState");return(Y==="started"||Y==="paused");},getBuffered:function(){return this._yswf.callSWF("get",["buffered"]);},_load:function(Y){var ap=this._model,ar=ap.get("hostingData"),at=this,ao={version:ap.get("version"),site:ap.get("site"),region:ap.get("region"),bucket:(f.Lang.isObject(ar))?ar.bucket:0,autoplay:ap.get("autoplay"),spaceid:ap.get("pageSpaceId"),hostEnv:(f.Lang.isObject(ar))?ar.env:"",lang:ap.get("lang"),atlasEnv:ap.get("atlasEnv"),maxConnectionAttempts:ap.get("maxConnectionAttempts")},an=true,al=this.convertMedia(Y),aq=this._profiler,am=this.get("videoContainer");if(aq){this._streamLatencyKey=aq.add(aj.STREAM_REQUEST_TO_RENDER);if(ap.get("useHlsFlash")==="true"){this._preparingLoadKey=aq.add(aj.PREPARING_STREAM_LOAD);this._masterPlaylistLatencyKey=aq.add(aj.HLS_MASTER_PLAYLIST_LOAD);this._levelPlaylistLatencyKey=aq.add(aj.HLS_LEVEL_PLAYLIST_LOAD);}this._streamLoadedKey=aq.add(aj.STREAM_LOADED);}this._shouldRecordTime=true;if(f.Lang.isValue(am)){am.setStyle("opacity","1");
}this._yswf.callSWF("prepareLoadMedia");this._yswf.callSWF("set",["playerInfo",ao]);this._yswf.callSWF("set",["loop",this.shouldLoopVideo()]);f.Array.each(al.streams||[],function(au){},this);if(al.CC===undefined||al.CC===null||al.CC.length===0){an=false;}ap.set("ccAvailable",an);at.updateControlsDefaults();this._yswf.callSWF("set",["src",al]);},updateControlsDefaults:function(){var an=this,Y=an._model,ap=an._controller.getClosedCaptionUrl(),am=Y.get("ccAvailable"),ao=Y.get("ccSettings.lang"),al="["+an._controller.getCaptionsString(ao,"CAPTIONS_NOT_AVAILABLE")+"]";if(am&&!ap){al="["+an._controller.getCaptionsString(ao,"CAPTIONS_LANGUAGE_NOT_AVAILABLE")+"]";am=false;ap="";}this.updateControls({ccAvailable:am,ccCustomization:Y.get("ccSettings"),ccUrl:ap,ccShow:Y.get("ccSettings.show"),ccBottomLeftOffset:{x:0,y:an.getCaptionsBottom()},noCaptionsAvailableText:al});if(an._controller.isCaptionsCustomizationMode()){an._controller.setCaptionsCustomizationMode(true);}},_play:function(){if(this._profiler&&this._shouldRecordTime){this._playToRenderKey=this._profiler.add(aj.STREAM_PLAY_TO_RENDER);}this._setProperties(this);this._yswf.callSWF("playMedia");},_pause:function(){this._shouldRecordTime=false;this._yswf.callSWF("pauseMedia");},setSettingsMenuVisibility:function(Y){this.updateControls({settingsMenuVisible:Y});},_stop:function(){this._pause();},_seek:function(Y){this._shouldRecordTime=false;this._yswf.callSWF("set",["currentTime",Y]);},_unload:function(){},_getDuration:function(){return this._yswf.callSWF("get",["duration"]);},_setVolume:function(Y){this._yswf.callSWF("set",["volume",Y]);},_setFullscreen:function(ao){var al=this.get("videoContentNode"),an=al._node,ap=f.one("body").hasClass("yui3-videoplayer-lightbox"),Y,am;if(ao){if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!ap){if(an.requestFullscreen){an.requestFullscreen();}else{if(an.webkitRequestFullscreen){an.webkitRequestFullscreen();}else{if(an.msRequestFullscreen){an.msRequestFullscreen();}else{if(an.mozRequestFullScreen){am=this._yswf._swf;am.getDOMNode().focus();am.getDOMNode().blur();an.mozRequestFullScreen();}else{this._enterLightbox();}}}}}}else{if(ap){this._exitLightbox();}else{if(document.cancelFullScreen){document.cancelFullScreen();}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else{if(document.msExitFullscreen){document.msExitFullscreen();}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen();if(document.mozFullScreen===true){Y=al.get("parentNode");Y.removeChild(al);Y.appendChild(al);}}}}}}}},_enterLightbox:function(){var Y=f.one("body"),al=this.get("videoContentNode").ancestor();if(Y.hasClass("yui3-videoplayer-lightbox")){return;}H.postMessage("enter_fullscreen");while(al.get("nodeName")!=="BODY"){al.addClass("yui3-videoplayer-lightbox-ancestor");al=al.ancestor();}Y.addClass("yui3-videoplayer-lightbox");this._onFullscreenChange();},_exitLightbox:function(){var Y=f.one("body"),al=this.get("videoContentNode").ancestor();if(!Y.hasClass("yui3-videoplayer-lightbox")){return;}H.postMessage("exit_fullscreen");Y.removeClass("yui3-videoplayer-lightbox");while(al.get("nodeName")!=="BODY"){al.removeClass("yui3-videoplayer-lightbox-ancestor");al=al.ancestor();}this._onFullscreenChange();},_setMute:function(Y){this._yswf.callSWF("set",["muted",Y]);},_setProperties:function(Y){Y._yswf.callSWF("set",["controls",false]);Y._yswf.callSWF("set",["ybang",Y._model.get("ybang")]);Y._yswf.callSWF("updateControls",[{ccBottomLeftOffset:{x:0,y:this.getCaptionsBottom()}}]);},_setYuiId:function(Y,am){if(!f.Lang.isValue(am)){return;}try{if(f.Lang.isValue(am.callSWF)){am.callSWF("set",["yuiId",Y]);}}catch(al){f.warn("_setYuiId() + Error = "+al);}},getFontList:function(){return this._yswf.callSWF("get",["fontList"]);},_isFlashInstalled:function(){var Y=f.SWFDetect.getFlashVersion().split(".",3);if(Y[0]==="undefined"){return false;}return true;},_recordProfilingTime:function(){var ao,an,Y,am,ap,au,at,aq,al=0,ar=this._profiler;if(ar){this._yswf.callSWF("set",["jsStartupTime",ar.getItem(aj.YSWF_READY.type).startTime+ar.getPlayerStartTime()]);an=this._yswf.callSWF("get",["profileData"]);if(an){Y=an.ProfileBrowserTime.time;ar.setDelta(aj.YSWF_LOADED.type,Y);ar.add(aj.YSWF_SWF_ONLY_INIT_TIME);ar.setStartTime(aj.YSWF_SWF_ONLY_INIT_TIME.type,ar.getItem(aj.YSWF_LOADED.type).endTime);am=an.ProfileBeforeStartup.time;aq=an.ProfileJsapiInit.time;au=an.ProfileSwfReady.time;ap=am+aq+au;ar.setDelta(aj.YSWF_SWF_ONLY_INIT_TIME.type,ap);}}if(this.swfReadyTimer){this.swfLoadTimer=new k({model:this._model});ao=this.swfReadyTimer.getStartTime();this._yswf.callSWF("set",["jsStartupTime",ao]);Y=an.ProfileBrowserTime.time;this.swfLoadTimer.recordTime(aj.YSWF_LOADED.type,aj.YSWF_LOADED.desc,Y,ao-this._model.START_TIME);al=ao+Y;am=an.ProfileBeforeStartup.time;at=al-this._model.START_TIME;aq=an.ProfileJsapiInit.time;au=an.ProfileSwfReady.time;ap=am+aq+au;this.swfLoadTimer.recordTime(aj.YSWF_SWF_ONLY_INIT_TIME.type,aj.YSWF_SWF_ONLY_INIT_TIME.desc,ap,at);}},_onSwfReady:function(){var Y=this;Y.swfReadyTimer.stop(aj.YSWF_READY.type,aj.YSWF_READY.desc);if(Y._profiler){Y._profiler.setEndTime(aj.YSWF_READY.type);}if(Y._skipFlashCheck===false){Y._recordProfilingTime();}Y._setUpActualApi();Y._syncUI();Y._bindUI();Y._yswf.callSWF("updateControls",[{playLoadAnimation:true}]);Y._setProperties(Y);Y.set("readyState",w.Constants.READY_STATE.HAVE_NOTHING);f.each(Y._commandQueue,function(am){var al=Y._mediaObject;if(al){Y._commandQueue.shift();Y[am].call(Y,al);}});},_onUiInteract:function(Y){this.fire(Y);},_syncUI:function(){var al=this,Y=this._model;al.setVolume(Y.get("volume"));al.setMute(Y.get("mute"));},_resendEvent:function(Y){var al=Y._event;al.cancelBubble=false;al.defaultPrevented=false;al.returnValue=true;if(Y.target.dispatchEvent){Y.target.dispatchEvent(al);}else{if(Y.target.fireEvent){Y.target.fireEvent(al);}}},_bindUI:function(){var al=this._model,ap=this._yswf,am={loadeddata:this._onLoadedData,ended:this._onEnded,mediaunloaded:this._onMediaUnloaded,error:this._onError,pause:this._onPause,play:this._onPlay,playing:this._onPlaying,timeupdate:this._onTimeUpdate,durationchange:this._onDurationChange,seeking:this.onSeeking,seeked:this.onSeeked,volumechange:this._onVolumeChange,infoupdate:this._onInfoUpdate,bitratechange:this._onBitrateChange,waiting:this._onWaiting,ccAvailabilityChange:this._onCCAvailabilityChange},ar=f.one(document),aq={"fullscreenchange":this._onFullscreenChange,"webkitfullscreenchange":this._onFullscreenChange,"mozfullscreenchange":this._onFullscreenChange,"MSFullscreenChange":this._onFullscreenChange},ao=this,Y,an;
f.Object.each(am,function(at,au){f.Node.DOM_EVENTS[au]=1;this._yswf.after(au,at,this);},this);f.each(aq,function(at,au){f.Node.DOM_EVENTS[au]=1;ar.on(au,at,this);},this);al.after("activeScreenStrChange",function(){var at="info"===al.get("activeScreenStr");ap.callSWF("updateControls",[{infoSelect:at,fullscreenEnable:!at}]);});f.on("keyup",function(at){if(at.keyCode===27&&f.one("body").hasClass("yui3-videoplayer-lightbox")){ao._exitLightbox();}},"body");if(f.Lang.isNumber(f.UA.gecko)&&(f.UA.gecko>0)&&(f.UA.os==="macintosh")){Y=this.get("videoContentNode");an=ap._swf;Y.on("flash-fix|mouseup",function(){an.getDOMNode().focus();an.getDOMNode().blur();});an.on(["flash-fix|mousemove","flash-fix|mouseup"],ao._resendEvent);}al.after("showControlsChange",function(){ao._updateView();});al.after("widthChange",function(){ao._updateView();});al.after("heightChange",function(){ao._updateView();});al.after("currentMediaChange",function(){ao._onMediaChange();});},_setUpActualApi:function(){var al=this,Y=["load","play","pause","seek","stop","unload","setVolume","setMute","setFullscreen","getDuration"];f.each(Y,function(am){al[am]=al["_"+am];});},_onMediaChange:function(){this._updateView();this.updateControls({ccShow:false,clearCaptions:true});},_updateView:function(){this._updateAdClientSize();this._positionCaptions();},_updateAdClientSize:function(){var al=this,am=al._model,ap=am.get("width"),Y=am.get("height"),an=am.get("adClientSize"),ao={};ao=al.computeAdClientSize({width:ap,height:Y});if(ao.width!==an.width||ao.height!==an.height){al.fire(af.CLIENT_RESIZE,ao);}},_positionCaptions:function(){var Y=this;Y.positionCaptions({x:0,y:Y.getCaptionsBottom()});},getCaptionsBottom:function(){var al=this,Y=al._controller.getControlsObj(),am=f.Lang.isValue(Y)?Y.getControlBarHeight():0;return am+24;},convertMedia:function(ap){var am=this,aq={},ao=false,ar=f.Array.map(ap.get("streams")||[],function(at){return{format:at.format,bitrate:at.bitrate,width:at.width,height:at.height,host:at.host,path:am.isAtlas(at)?am.fixPath(at):at.path};}),al=ap.get("streamUrl"),Y=function(au,at){return au.bitrate-at.bitrate;},an;aq.live=ap.get("isLive");aq.uuid=ap.get("id");aq.showName=ap.get("showName");aq.title=ap.get("title");aq.CC=ap.get("CC");if(ar.length){if(f.Array.every(ar,am.isPdl)){an=ar.sort(Y).pop();aq.url=am.joinUrl(an.host,an.path);}else{aq.streams=ar;}}else{if(al&&al.length){aq.url=al;}}if(aq.url){ao=(aq.url.indexOf("/rtx/")>=0);}ap.set("isRTX",ao);aq.rtx=ao;return aq;},isAtlas:function(Y){return(/atlas\.cdn\.yimg\.com/).test(Y.host);},isPdl:function(Y){return !Y.host||(/^http[s]?:\/\//).test(Y.host);},isRtmp:function(Y){return(/^rtmp(?:e|t|te|s)?:\/\//).test(Y.host);},isMp4:function(Y){return H.formats.MP4===Y.format;},fixPath:function(ao){var Y=this.isRtmp(ao),am=this.isMp4(ao),an="mp4:",al;al=ao.path.replace(/^\/?mp4:/,"").replace(/^\//,"");return Y&&am?an+al:al;},_onLoadedData:function(){var an=this._profiler,am=null,al=null,ao=0,Y=0;if(an){an.setEndTime(aj.STREAM_LOADED.type,this._streamLoadedKey);if(this._model.get("useHlsFlash")==="true"){ao=an.getPlayerStartTime();am=this._yswf.callSWF("get",["profileData"]);if(am){al=am.ProfilePreparingLoad;if(al){an.setStartTime(aj.PREPARING_STREAM_LOAD.type,al.start-ao,this._preparingLoadKey);an.setDelta(aj.PREPARING_STREAM_LOAD.type,al.time,this._preparingLoadKey);}al=am.ProfileHlsMasterPlaylistLoad;if(al){an.setStartTime(aj.HLS_MASTER_PLAYLIST_LOAD.type,al.start-ao,this._masterPlaylistLatencyKey);an.setDelta(aj.HLS_MASTER_PLAYLIST_LOAD.type,al.time,this._masterPlaylistLatencyKey);}}}}this.fire(af.PLAYBACK_READY);},_onPlay:function(){var am=this._profiler,al=null,Y;if(am&&this._shouldRecordTime){am.setEndTime(aj.STREAM_PLAY_TO_RENDER.type,this._playToRenderKey);am.setEndTime(aj.STREAM_REQUEST_TO_RENDER.type,this._streamLatencyKey);if(this._model.get("useHlsFlash")==="true"){Y=this._yswf.callSWF("get",["profileData"]);al=Y.ProfileHlsLevelPlaylistLoad;if(al){am.setStartTime(aj.HLS_LEVEL_PLAYLIST_LOAD.type,al.start-am.getPlayerStartTime(),this._levelPlaylistLatencyKey);am.setDelta(aj.HLS_LEVEL_PLAYLIST_LOAD.type,al.time,this._levelPlaylistLatencyKey);}}}this._shouldRecordTime=true;this.fire(af.PLAYBACK_PLAY);},_onPlaying:function(){this.fire(af.PLAYBACK_PLAYING);},_onPause:function(){this.fire(af.PLAYBACK_PAUSED);},_onTimeUpdate:function(){this.fire(af.PLAYBACK_PROGRESS,{source:j.NAME,currentTime:this._yswf.callSWF("get",["currentTime"]),duration:this._yswf.callSWF("get",["duration"])});},_onDurationChange:function(Y){this.fire(af.DURATION_CHANGE,Y.duration);},_onEnded:function(){if(this._model.get("loop")===false){this.fire(af.PLAYBACK_COMPLETE);}},_onMediaUnloaded:function(){if(this._model.get("loop")===true){this.fire(af.PLAYBACK_COMPLETE);}},_onVolumeChange:function(){var al=this._yswf.callSWF("get",["muted"]),Y=this._yswf.callSWF("get",["volume"]);if(al!==this._model.get("muted")){this.fire(af.MUTE_CHANGE,al);}if(Y!==this._model.get("volume")){this.fire(af.VOLUME_CHANGE,Y);}},_onBitrateChange:function(Y){this.fire(af.BITRATE_CHANGE,Y);},_onFullscreenChange:function(){var Y=this;f.later(200,Y,function(){var an,al,am;an=Y.get("videoContentNode").get("offsetHeight");al=Y._controller._controls._view.get("screenSize");am=Y._model.get("carousel")?(an-r.PLAYLIST_CAROUSEL_DIMENSIONS[al].HEIGHT-r.PLAYLIST_CAROUSEL_DIMENSIONS[al].VERTICAL_SPACING).toString()+"px":"100%";Y._controller._controls._view.main.setStyle("height",am);});if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||f.one("body").hasClass("yui3-videoplayer-lightbox")){this.fire(af.FULLSCREEN_ENTER);}else{this.fire(af.FULLSCREEN_EXIT);}},_onError:function(an){var Y,am,ao,al=50;if(an.critical){Y=af.PLAYBACK_ERROR;am=c.ERROR.PLAYBACK.type;ao=c.LEVEL.CRITICAL;}else{Y=af.PLAYBACK_WARNING;am=c.ERROR.FLASH_WARNING.type;ao=c.LEVEL.WARNING;}this.fire(Y,new f.VideoPlatform.ErrorObject(am,String(an.code),this.constructor.NAME,an.msg+"; "+an.detail,ao));if(!an.critical&&an.code===al&&this._model.get("currentMedia")){this._controller.prepare();
}},_onResize:function(am){var al={width:am.width,height:am.height},Y=this;Y.fire(af.PLAYER_RESIZE,al);Y.fire(af.CLIENT_RESIZE,Y.computeAdClientSize(al));},_onInfoUpdate:function(){this.fire(af.MEDIA_INFO_UPDATE,{source:j.NAME,mediaInfo:this._yswf.callSWF("get",["mediaInfo"])});},_onWaiting:function(){this.fire(af.PLAYBACK_WAITING);},_onCCAvailabilityChange:function(Y){this.fire(af.CCAVAILABILITY_CHANGE,Y.ccAvailable);},_isFlashBlockerPresent:function(an){var am=(f.UA.ie>0)?window.document:document,ao=(f.Lang.isValue(am))?am.getElementById(an):null,Y="uncertain";if(ao===null){return"absent";}if(f.UA.chrome!==0||f.UA.safari!==0){try{if(ao.PercentLoaded()>0){}Y="absent";}catch(al){Y="present";}}return Y;},getMediaInfo:function(){return this._yswf.callSWF("get",["mediaInfo"]);}});f.namespace("VideoPlatform").FlashVideoRenderer=j;var o={YUILOAD:"Unable to load VideoAdPlugin module",INIT:"Unable to init YVAP",CREATE:"Unable to create YVAP",SCRIPTING:"Script error when interfacing with VideoAdPlugin.",TIMEOUT_PRE:"No response from plugin preroll",TIMEOUT_POST:"No response from plugin post roll",TIMEOUT_CREATE:"No response from plugin instantiation",TIMEOUT_YUILOAD:"VideoAdPlugin is not loaded in YUI"};YVAPEvents={ADPLUGIN_READY:"adPluginReady",AD_REQUESTED:"adRequested",AD_START:"adStart",AD_END:"adEnd",AD_COMPLETE:"adComplete",AD_ERROR:"adError",AD_PROGRESS:"adProgress",AD_NONE:"adNone",AD_PLUGIN_METRIC:"adPluginMetric",AD_PLUGIN_QOS_METRIC:"adPluginQosMetric",PLUGIN_REMOVED:"adPluginRemoved"};var O={NOT_LOADED:"notloaded",INITIALIZED:"initialized"};function x(){x.superclass.constructor.apply(this,arguments);}x.NAME="YVAP";x.NS="YVAP";x.ATTRS={pluginTimeout:{value:"3",getter:function(Y){return Number(Y);},validator:function(Y){return !isNaN(parseFloat(Y));}},pluginTimer:{value:null},criticalError:{value:false,validator:f.Lang.isBoolean},enableYVAPQOS:{value:true,validator:f.Lang.isBoolean},pluginState:{value:O.NOT_LOADED},volume:{value:0,validator:f.Lang.isNumber}};f.extend(x,f.Base,{initializer:function(ao){var an=this,Y=(ao.model&&ao.hasOwnProperty("model"))?ao.model:null,am,ap,al;an._adPlugin=null;an._yvapNode=null;an._model=Y;an._controller=(ao.controller&&ao.hasOwnProperty("controller"))?ao.controller:null;if(Y){am=(Y.get("mute")===true)?0:Y.get("volume");al=Y.get("YVAP");ap=(al)?al.get("timeout"):null;if(f.Lang.isValue(ap)){an.set("pluginTimeout",ap);}}an.set("volume",am);an.after("criticalErrorChange",an._onCriticalError,an);an._loadVideoAdPlugin();},requestPreRollAd:function(){var al,Y,an=this,am=an.get("pluginState");if(am===O.INITIALIZED){al=an._controller.getRenderer();Y=al.get("readyState");if(Y===w.Constants.READY_STATE.HAVE_NOTHING){an._startAdExperience();}else{al.after("readyStateChange",function ao(aq){if(aq.newVal===w.Constants.READY_STATE.HAVE_NOTHING){al.detach("readyStateChange",ao,an);an._startAdExperience();}},an);}}else{an.after("pluginStateChange",function ap(){an.detach("pluginStateChange",ap,an);an.requestPreRollAd();},an);}},requestPostRollAd:function(){var al=this,an=al._adPlugin,Y=al._getProfiler();if(f.Lang.isObject(an)&&an.onContentVideoComplete){al._createTimeout(o.TIMEOUT_POST);al.adStartTimer=new k({model:al._model});al.adStartTimer.start();if(Y){al._yvapAdStartedKey=Y.add(aj.YVAP_ADSTARTED);al._yvapNoAdKey=Y.add(aj.YVAP_NOAD);al._yvapErrorKey=Y.add(aj.YVAP_ERROR);}try{an.onContentVideoComplete();if(f.UA.ios||f.UA.android){al._timeOutImmediately();}}catch(am){al._issueCriticalError(o.SCRIPTING,"onContentVideoComplete: "+am.message);}}else{this._issueCriticalError(o.SCRIPTING,"VideoAdPlugin.onContentVideoComplete not avail");}},shouldSkipAd:function(){var am=this,Y,ao,al,aq,ap,an;if(!(Y=am._model)){return false;}ao=Y.get("playlist");al=Y.get("playlistPosition");if(!(aq=Y.get("currentMedia"))&&ao){aq=ao.items().item((al>=0)?al:0);}if(!aq){return false;}ap=aq.get("provider.name");an=aq.get("provider.url");if(!Y.get("isOffNetwork")){return false;}if((typeof ap==="string")&&((ap=ap.toLowerCase())==="vevo")){return true;}if((typeof an==="string")&&((an=an.toLowerCase())==="http://www.vevo.com/")){return true;}return false;},_loadVideoAdPlugin:function(){var Y=this,al;Y._manageModelEvents("after");Y._adPlugin=Y._createVideoAdPlugin(Y._createAdConfig());Y._manageInitialRendererUpdate();function am(an){Y._updatePlayerData(an.item);}al=Y._model.get("playlist");if(al){al.on("mediaItemAdd",am,Y);Y.after("criticalErrorChange",function(an){if(an.newVal===true){al.detach("mediaItemAdd",am,Y);}},Y);}},_createVideoAdPlugin:function(an){var ao=null,al=this,Y=this._getProfiler();this._createTimeout(o.TIMEOUT_CREATE);this._timerPluginReady=new k({model:this._model});this._timerPluginReady.start();if(Y){this._yvapReadyKey=Y.add(aj.YVAP_READY);}try{ao=new f.VideoAds.VideoAdPlugin(an);al._cancelTimer();al._updateClientInfo();if(Y){Y.setEndTime(aj.YVAP_READY.type,this._yvapReadyKey);}if(al._timerPluginReady){al._timerPluginReady.stop(aj.YVAP_READY.type,aj.YVAP_READY.desc);delete al._timerPluginReady;}al.set("pluginState",O.INITIALIZED);}catch(am){this._issueCriticalError(o.CREATE,am.message);}finally{return ao;}},_getProfiler:function(){var Y=this._controller;if(f.Lang.isValue(Y)){if(Y.constructor.prototype.hasOwnProperty("getProfiler")){return Y.getProfiler();}}return null;},_manageInitialRendererUpdate:function(){var al=this,Y=al._model.get("rendererReady");if(Y===true){al._checkRendererState();}else{al._model.after("rendererReadyChange",function(am){if(am.newVal===true){al._checkRendererState();}},al);}},_checkRendererState:function(){var al=this,ao=al._controller,Y=ao.getRenderer()||null,an=(Y)?Y.get("readyState"):null;if(an===w.Constants.READY_STATE.HAVE_NOTHING){al._updateRenderer();}else{Y.after("readyStateChange",function am(ap){if(ap.newVal===w.Constants.READY_STATE.HAVE_NOTHING){Y.detach("readyStateChange",am,al);al._updateRenderer();}},al);}},_updateRenderer:function(){var Y=this,ao=Y._adPlugin,al=Y._model.get("rendererType"),an=Y._controller.getRenderer();if(!an){return;}if(Y._yvapNode===null&&al==="html"){Y._yvapNode=Y._insertYVAPNode();
}if(f.Lang.isObject(ao)&&ao.updateRenderer){try{ao.updateRenderer({adContainer:Y._yvapNode,rendererType:al,playerContainer:an.get("playbackPlugin")});}catch(am){Y._issueCriticalError(o.SCRIPTING,"updateRenderer: "+am.message);}}},_insertYVAPNode:function(){var Y=this._controller.getRenderer().get("videoContainer"),al=f.Node.create('<div class="'+f.ClassNameManager.getClassName("videoplayer-yvap","container")+'"/>');Y.appendChild(al);return al.getDOMNode();},_createAdConfig:function(){var al=this,am=al._model.get("playlist"),Y=(am)?am.items()._items:[];return{timeout:al.get("pluginTimeout"),rendererType:al._model.get("rendererType"),playerData:al._createPlayerData(Y),clientInfo:al._createClientInfoData(),enableQOS:al.get("enableYVAPQOS"),streamAd:al._model.get("streamAd"),on:{"VideoAdStart":al._onAdStart,"VideoAdEnd":al._onAdEnd,"PluginNoAd":al._onNoAd,"VideoAdExperienceComplete":al._onAdComplete,"blockingAdProgress":al._onAdProgress,"AdPluginError":al._onPluginError,"AdPluginProfiler":al._addProfilingItem,"AdPluginMetric":al._onAdPluginMetric,"AdStartMediaPlayback":al._onAdStartMediaPlayback},context:al};},_createPlayerData:function(an){var ao=null,Y=this._model,am=[],al=Y.get("YVAP");if(!f.Lang.isObject(an)&&!f.Lang.isArray(an)){return am;}if(!an.length){an=[an];}f.each(an,function(aq){try{ao=new f.VideoAds.PlayerData();ao.setMASAcctId(al.get("accountId"));ao.setClipId(aq.get("id"));ao.setClipDuration(aq.get("duration"));ao.setPlaylistId(al.get("playContext"));ao.setAdData(aq.get("adData"));ao.addCustomParameter("ad-biz:spaceID",aq.get("spaceId"));ao.addCustomParameter("ad-biz:licenseID",aq.get("licenseId"));ao.setIsLive(aq.get("isLive"));am.push(ao);}catch(ap){}},this);return am;},_createClientInfoData:function(){var Y=this._model,al=Y.get("adClientSize");return{x:0,y:0,width:al.width+"px",height:al.height+"px",volume:this.get("volume"),bitrate:Y.get("bitrate")};},_updatePlayerData:function(al){var ao=this._adPlugin,ap,am,Y=this;if(f.Lang.isValue(al)){am=(f.Lang.isArray(al))?al:[al];ap=this._createPlayerData(am);if(f.Lang.isObject(ao)&&ao.updatePlayerData){try{ao.updatePlayerData(ap);}catch(an){Y._issueCriticalError(o.SCRIPTING,"updatePlayerData: "+an.message);}}else{Y._issueCriticalError(o.SCRIPTING,"VideoAdPlugin.updatePlayerData not avail");}}},_startAdExperience:function(){var al=this,ap=al._adPlugin,an=al._model.get("currentMedia"),ao=al._createPlayerData([an]),Y=al._getProfiler();al.adStartTimer=new k({model:al._model});al.adStartTimer.start();if(Y){al._yvapAdStartedKey=Y.add(aj.YVAP_ADSTARTED);al._yvapNoAdKey=Y.add(aj.YVAP_NOAD);al._yvapErrorKey=Y.add(aj.YVAP_ERROR);}al._createTimeout(o.TIMEOUT_PRE);if(f.Lang.isObject(ap)&&ap.beginAdExperience){try{if(al._model.get("standaloneAdMode")){ap.fireStandaloneAdOpportunity();}else{ap.beginAdExperience(ao[0]);}if(f.UA.ios||f.UA.android){al._timeOutImmediately();}}catch(am){al._issueCriticalError(o.SCRIPTING,"beginAdExperience: "+am.message);}}else{al._issueCriticalError(o.SCRIPTING,"VideoAdPlugin.beginAdExperience not avail");}},_addProfilingItem:function(al){var Y=new k({model:this._model});Y.recordTime(al.type,al.message,al.timeDiff,al.startTime);},_onAdPluginMetric:function(am){var al=am.YWAData,Y=am.YAMASData,an=am.profilerData;if(f.Lang.isObject(al)){this.fire(YVAPEvents.AD_PLUGIN_METRIC,{type:"ywa",data:al});}if(f.Lang.isObject(Y)){this.fire(YVAPEvents.AD_PLUGIN_QOS_METRIC,{type:"qos",data:Y});}if(f.Lang.isObject(an)){this._addProfilingItem(an);}},_onAdStart:function(){this._cancelTimer();},_onAdStartMediaPlayback:function(am){var al=this._getProfiler(),Y=null;if(this.adStartTimer){this.adStartTimer.stop(aj.YVAP_ADSTARTED.type,aj.YVAP_ADSTARTED.desc);delete this.adStartTimer;}if(al){Y=al.getItem(aj.YVAP_ADSTARTED.type,this._yvapAdStartedKey);if(Y&&isNaN(Y.endTime)){al.setEndTime(aj.YVAP_ADSTARTED.type,this._yvapAdStartedKey);}al.remove(aj.YVAP_NOAD.type,this._yvapNoAdKey);al.remove(aj.YVAP_ERROR.type,this._yvapErrorKey);}this.fire(YVAPEvents.AD_START,{adId:am.adId,adType:am.adType,volume:am.volume,adslug:am.adslug,timer:am.timer,scale:am.scale,blocking:am.blocking});},_onAdEnd:function(){this.fire(YVAPEvents.AD_END);},_onAdComplete:function(){this.fire(YVAPEvents.AD_COMPLETE);},_onNoAd:function(){var al=this,Y=al._getProfiler();if(al.adStartTimer){al.adStartTimer.stop(aj.YVAP_NOAD.type,aj.YVAP_NOAD.desc);delete al.adStartTimer;}if(Y){Y.remove(aj.YVAP_ADSTARTED.type,al._yvapAdStartedKey);Y.setEndTime(aj.YVAP_NOAD.type,al._yvapNoAdKey);Y.remove(aj.YVAP_ERROR.type,al._yvapErrorKey);}al._cancelTimer();al.fire(YVAPEvents.AD_NONE);},_onAdProgress:function(Y){this.fire(YVAPEvents.AD_PROGRESS,{duration:Y.totalDuration,position:Y.position});},_onPluginError:function(am){var al=this,Y=al._getProfiler();al._cancelTimer();if(al.adStartTimer){al.adStartTimer.stop(aj.YVAP_ERROR.type,aj.YVAP_ERROR.desc);delete al.adStartTimer;}if(Y){Y.remove(aj.YVAP_ADSTARTED.type,al._yvapAdStartedKey);Y.remove(aj.YVAP_NOAD.type,al._yvapNoAdKey);Y.setEndTime(aj.YVAP_ERROR.type,al._yvapErrorKey);}al._issueCriticalError(YVAPEvents.AD_ERROR,am);},raiseError:function(al,Y){this.fire(YVAPEvents.AD_ERROR,{message:al,cause:Y});},_manageModelEvents:function(an){var al=this,Y=al._model,ao=an,am={"muteChange":al._onMuteChange,"playbackPositionChange":al._onVideoProgress,"bitrateChange":al._updateClientInfo,"adClientSizeChange":al._updateClientInfo,"volumeChange":al._updateVolume,"rendererTypeChange":al._updateRenderer};if(Y[ao]){f.each(am,function(aq,ap){Y[ao](ap,aq,al);},al);}},_updateClientInfo:function(){var Y=this,am=Y._adPlugin,an;if(f.Lang.isObject(am)&&am.onClientInfoChanged){an=Y._createClientInfoData();try{am.onClientInfoChanged(an);}catch(al){Y._issueCriticalError(o.SCRIPTING,"onClientInfoChanged: "+al.message);}}},_onVolumeChange:function(Y){this.set("volume",Y.newVal);},_onMuteChange:function(ao){var Y=this,al=(ao.newVal===true)?0:Y._model.get("volume"),an=Y._adPlugin;if(f.Lang.isObject(an)){try{an.onVolumeChange(al);}catch(am){Y._issueCriticalError(o.SCRIPTING,"onVolumeChange: "+am.message);
}}},_updateVolume:function(an){var Y=this,am=Y._adPlugin;if(f.Lang.isObject(am)){try{am.onVolumeChange(an.newVal);}catch(al){Y._issueCriticalError(o.SCRIPTING,"onVolumeChange: "+al.message);}}},_onVideoProgress:function(an){var Y=this,am=Y._adPlugin,ap=an.newVal,ao=Y._model.get("currentMedia").get("duration");if(f.Lang.isObject(am)&&am.onContentVideoProgress){try{am.onContentVideoProgress({position:ap,duration:ao});}catch(al){Y._issueCriticalError(o.SCRIPTING,"onContentVideoProgress: "+al.message);}}else{this._issueCriticalError(o.SCRIPTING,"VideoAdPlugin.onContentVideoProgress not avail");}},_issueCriticalError:function(Y,al){this.set("criticalError",true);this.raiseError(Y,al);},_onCriticalError:function(al){var Y=this;if(al.newVal===true){Y._cancelTimer();Y._removePlugin();Y.detach("criticalErrorChange",Y._onCriticalError,Y);}},_createTimeout:function(am){var al,Y;if(this.get("criticalError")===true){return;}al=this.get("pluginTimeout")*1000;Y={timer:f.later(al,this,"_timerResponse"),type:am};this.set("pluginTimer",Y);},_timerResponse:function(){var Y=this,an=Y._adPlugin,al=Y.get("pluginTimer");if(al===null){return;}if(f.Lang.isObject(an)&&an.subscribe&&an.timeout){try{an.subscribe("AdPluginTimeout",function(){},Y);an.timeout();}catch(am){Y._issueCriticalError(o.SCRIPTING,"_timerResponse: "+am.message);}}else{Y._issueCriticalError(o.SCRIPTING,"VideoAdPlugin.timeout not avail");}Y.raiseError(al.type,"VideoAdPlugin process timed out");},_cancelTimer:function(){var Y=this.get("pluginTimer");if(Y&&Y.timer){Y.timer.cancel();}this.reset("pluginTimer");},_timeOutImmediately:function(){if(this.get("pluginTimer")!==null){this._timerResponse();this._cancelTimer();}},_removePlugin:function(){var Y=this,ao=Y._adPlugin,am=YVAPEvents;function an(){Y._adPlugin=null;Y.fire(am.PLUGIN_REMOVED);Y._manageModelEvents("detach");}if(!f.Lang.isObject(ao)){an();return;}try{ao.detachAll();ao.subscribe("AdPluginDestroy",function(){an();},Y);ao.destroy();}catch(al){an();}}});f.namespace("VideoPlatform").YVAP=x;function G(){G.superclass.constructor.apply(this,arguments);}G.NAME="CookieHandler";G.NS="CookieHandler";G.ATTRS={};f.extend(G,f.Base,{DAYS_IN_A_YEAR:365,initializer:function(Y){this.model=Y.model;this._observeModel();},isCookieEnabled:function(){return navigator.cookieEnabled;},removeYepCookie:function(){if(!this.isCookieEnabled()){return;}f.Cookie.remove("V",{path:"/",domain:"yahoo.com"});},setSubCookies:function(al){var Y=new Date(),am=this;if(!am.isCookieEnabled()||f.Lang.isNull(f.Cookie.get("V"))||f.Lang.isNull(al)||!f.Lang.isObject(al)){return;}Y.setDate(Y.getDate()+am.DAYS_IN_A_YEAR);f.Cookie.setSubs("V",al,{path:"/",domain:"yahoo.com",expires:Y});},setSubCookie:function(al,an){var Y=new Date(),am=this;if(!am.isCookieEnabled()||f.Lang.isNull(f.Cookie.get("V"))||!f.Lang.isValue(al)||!f.Lang.isValue(an)){return;}Y.setDate(Y.getDate()+am.DAYS_IN_A_YEAR);f.Cookie.setSub("V",al,an,{path:"/",domain:"yahoo.com",expires:Y});},getSubCookies:function(){var Y=null;if(!this.isCookieEnabled()){return null;}Y=f.Cookie.getSubs("V");if(!f.Lang.isNull(Y)&&f.Lang.isObject(Y)){if(f.Lang.isValue(Y.v)){Y.v=parseFloat(Y.v);}if(f.Lang.isValue(Y.cc)){Y.cc=parseInt(Y.cc,10);}if(f.Lang.isValue(Y.m)){Y.m=parseInt(Y.m,10);}}return Y;},createAndLoadCookies:function(){var al=null,am,ao=this,an=ao.model,aq,ap,Y,ar;if(f.Lang.isNull(an)){return;}aq=an.get("config.volume");ap=an.get("config.mute");Y=N.ATTRS.mute.value;ar=an.get("ccSettings");al=ao._createYepCookie();if(f.Lang.isNull(al)){return;}if(al===""){am={v:N.ATTRS.volume.value,m:Y?1:0,ccOptions:f.JSON.stringify(ar)};ao.setSubCookies(am);}else{am=ao.getSubCookies();if(f.Lang.isNull(am)){return;}if(!f.Lang.isValue(aq)){if(f.Lang.isValue(am.v)){an.set("volume",am.v);}}if(!f.Lang.isValue(ap)){if(f.Lang.isValue(am.m)){an.set("mute",(am.m===1));}}if(f.Lang.isValue(am.r)){an.set("selectedResolution",parseInt(am.r,10));}if(f.Lang.isValue(am.ccOptions)){an.set("ccSettings",f.JSON.parse(am.ccOptions));}}},_createYepCookie:function(){var al=f.Cookie.get("V"),Y=new Date(),am=this;if(!am.isCookieEnabled()){return null;}Y.setDate(Y.getDate()+am.DAYS_IN_A_YEAR);if(f.Lang.isNull(al)||al===""){f.Cookie.set("V","",{path:"/",domain:"yahoo.com",expires:Y});}return f.Cookie.get("V");},_observeModel:function(){var am=this,Y=am.model,ao,an,ap,al;Y.after("volumeChange",function(aq){ao=aq.newVal;if(f.Lang.isValue(ao)){ao=ao.toFixed(2);if(ao<0){ao=0;}am.setSubCookie("v",ao);}},this);Y.after("muteChange",function(aq){an=aq.newVal;if(f.Lang.isValue(an)){an=(an===true)?1:0;am.setSubCookie("m",an);}},this);Y.after("ccSettingsChange",function(aq){ap=aq.newVal;if(f.Lang.isValue(ap)){ap=f.JSON.stringify(ap);am.setSubCookie("ccOptions",ap);}},this);Y.after("selectedResolutionChange",function(aq){al=aq.newVal;if(f.Lang.isValue(al)){am.setSubCookie("r",al);}},this);}});f.namespace("VideoPlatform").CookieHandler=G;function g(){g.superclass.constructor.apply(this,arguments);}g.NAME="Carousel";g.NS="carousel";g.ATTRS={};f.extend(g,f.Base,{initializer:function(Y){var al=Y[0]||Y;this._mediaItems=al.mediaItems;this._view=al.view;this._controller=this._view._controller;this.index=0;this._itemCount=this._mediaItems.length;this._mediaItemDomArray=[];this._showMetadata=al.showMetadata;this._showNavigation=al.showNavigation;this._dimensions=al.dimensions;this._layout={};this.pltype=al.pltype;this.isAnimating=false;this.animDelay=0;this._touch={"prevClientX":null,"ignore":false};if(this._controller){this.i18n=this._controller.getStrings();}f.publish("VideoPlayer.Carousel.thumbnailClick",{broadcast:2});f.publish("VideoPlayer.Carousel.touch",{broadcast:2});if(this._showNavigation!==false){f.publish("VideoPlayer.Carousel.navigationClick",{broadcast:2});}},_calculateLayout:function(ao){var Y=ao.get("offsetWidth"),an=ao.get("offsetHeight"),ap,al,am;am=this._calculateLayoutAxis(an,this._dimensions.itemHeight,this._dimensions.verticalSpacing);this._layout.rows=am.dimension;this._layout.remainingVerticalSpacing=am.remainingSpace;al=this._calculateLayoutAxis(Y,this._dimensions.itemWidth,this._dimensions.horizontalSpacing);
this._layout.cols=al.dimension;this._layout.remainingHorizontalSpacing=al.remainingSpace;ap=this._layout.rows*this._layout.cols;if(this._showNavigation===false&&ap<this._itemCount){this._itemCount=ap;}this._layout.itemsInRow=(parseInt(this._itemCount/ap,10)*this._layout.cols);},_calculateLayoutAxis:function(ar,Y,ao){var ap,at,aq,al,an,au,am=ar%Y;ap=Math.floor(ar/Y);al=(ap-1)*ao;an=(ap*Y)+al;if(an>ar){ap=ap-1;al=at-ao;}aq=(ap*Y)+((ap-1)*ao);au=ar-aq;return{"dimension":ap,"margin":am,"remainingSpace":au};},render:function(Y){this._calculateLayout(Y);this.renderContainer(Y);this.loadItems();this.showPage(0);if(this._showNavigation!==false){this._syncNavigation();}this._bindUI();},renderContainer:function(an){var am=g.NS,ar,ao,aq,al,ap,Y;this.container=this.createNode("div","container",am);this.viewport=this.createNode("ul","viewport",am);for(ar=0;ar<this._itemCount;ar++){ao=this._mediaItems[ar];this._addMediaItem(ar,ao);}this.container.append(this.viewport);if(this._showNavigation!==false){aq=this.createNode("div","carousel-left-container");aq.addClass("yui3-videoplayer-arrow-container");al=this.createNode("div","carousel-left arrow");al.addClass("yui3-videoplayer-arrow");aq.append(al);ap=this.createNode("div","carousel-right-container");ap.addClass("yui3-videoplayer-arrow-container");Y=this.createNode("div","carousel-right");Y.addClass("yui3-videoplayer-arrow");ap.append(Y);this.container.append(aq);this.container.append(ap);}an.append(this.container);this.viewport.setStyle("margin",parseInt(this._layout.remainingVerticalSpacing/2,10)+"px "+parseInt(this._layout.remainingHorizontalSpacing/2,10)+"px");if(this._showNavigation!==false){if(f.UA.ie>=7&&f.UA.ie<8){this.container.all(".yui3-videoplayer-arrow-container").getStyle("height");this.container.all(".yui3-videoplayer-arrow-container").setStyle("height",this.container.get("offsetHeight")+"px");}}this.enable();},loadItems:function(){var at=this._layout.cols,au=this._layout.rows,am,Y,av,ap,ao,aw,al,ar,aq,an;if(this._showNavigation!==false){am=parseInt(this._itemCount/at,10);Y=(this._itemCount%at)===0?parseInt(am,10):(am+1);}else{Y=1;}for(av=0;av<Y;av++){an=av*this._dimensions.itemWidth*at;for(ap=0;ap<at;ap++){al=an+(ap*this._dimensions.itemWidth)+(ap*this._dimensions.horizontalSpacing);for(ao=0;ao<au;ao++){aq=(av*(at*au))+ap+(ao*at);aw=this._mediaItemDomArray[aq];if(!aw){continue;}ar=(ao*this._dimensions.itemHeight)+(ao*this._dimensions.verticalSpacing);aw.setStyle("top",ar);aw.setStyle("left",Math.round(al));}}}},_addMediaItem:function(at,an){var al,ap,ax,aq,ao,aw,Y,am,ar,au,av;al=an.images&&(an.images.thumbnail||an.images.small||an.images.medium||an.images.large)||H.PLAYER_ASSETS_URL+"video_thumb_nopic.png";ap=this.createNode("li","carousel-viewport-item");if(this._showMetadata){if(this.pltype==="endScreen"&&at===0){ap.append(this._getThumbnailNode(al));ap.addClass("replay");aq=f.Node.create("<div/>");aq.addClass("overlay");aw=f.Node.create("<button/>");aw.addClass("replay-button");Y=f.Node.create("<span/>");Y.addClass("replay-text");Y.set("innerHTML",this.i18n.REPLAY);aq.append(aw);aq.append(Y);ap.append(aq);}else{ap.append(this._getThumbnailNode(al));aq=f.Node.create("<div/>");aq.addClass("overlay");ar=f.Node.create("<button/>");ar.addClass("play-button");if(!H.isMobile()){au=f.Node.create("<p/>");au.addClass("play-video-text");au.set("innerHTML",this.i18n.PLAY_VIDEO);}if(f.UA.ie>0&&f.UA.ie<9){aq.hide();ap.on("hover",function(){ax=ap.one(".overlay");ax.show();},function(){ax=ap.one(".overlay");ax.hide();});av=f.Node.create("<div/>");av.addClass("overlay-background");aq.append(av);}aq.append(ar);aq.append(au);ap.append(aq);am=f.Node.create("<div/>");am.addClass("metadata");ao=f.Node.create("<p/>");ao.addClass("title");ao.set("innerHTML",an.title);am.append(ao);ap.append(am);}}else{ap.append(this._getThumbnailNode(al));}ap.setData("param",{"index":at,"plType":this.pltype});ap.setStyle("width",this._dimensions.itemWidth);ap.setStyle("height",this._dimensions.itemHeight);this.viewport.append(ap);this._mediaItemDomArray.push(ap);},navLeft:function(Y){if(Y.isAnimating===true){return;}Y.isAnimating=true;Y.scrollTo(Y.index-Y._layout.cols);setTimeout(function(){Y.isAnimating=false;},Y.animDelay);},navRight:function(Y){if(Y.isAnimating===true){return;}Y.isAnimating=true;Y.scrollTo(Y.index+Y._layout.cols);setTimeout(function(){Y.isAnimating=false;},Y.animDelay);},_bindUI:function(){var Y=this;if(this._showNavigation!==false){Y.container.one(".yui3-videoplayer-carousel-left").on("click",function(){Y.navLeft(Y);f.fire("VideoPlayer.Carousel.navigationClick","pc-navl");});Y.container.one(".yui3-videoplayer-carousel-right").on("click",function(){Y.navRight(Y);f.fire("VideoPlayer.Carousel.navigationClick","pc-navr");});Y.viewport.on("touchstart",Y._touchStart,Y);Y.viewport.on("touchmove",Y._touchMove,Y);Y.viewport.on(["touchend","touchcancel"],Y._touchEnd,Y);}Y.container.one(".yui3-videoplayer-carousel-viewport").delegate("click",function(al){f.fire("VideoPlayer.Carousel.thumbnailClick",al.currentTarget.getData("param"));},"li.load");},showPage:function(ao){var ap=this._layout.cols,aq=this._layout.rows,an=ao*ap,ar=100,am,al,at,Y;this.container.all("li.load").removeClass("load");Y=ao*this._dimensions.itemWidth*ap;for(am=0;am<ap;am++){for(al=0;al<aq;al++){ar+=100;an=(ao*(ap*aq))+am+(al*ap);at=this._mediaItemDomArray[an];if(!at){continue;}this._showItem(at,ar);}}this.animDelay=ar;},_showItem:function(al,Y){if(typeof al!=="undefined"){setTimeout(function(){al.addClass("load");},Y);}},scrollTo:function(Y){while(Y>this._itemCount){Y-=this._itemCount;}var al=(Y*(this._dimensions.imageWidth*-1)+parseInt(this._layout.remainingHorizontalSpacing/2,10))+"px";if(al===this.viewport.getStyle("marginLeft")){return;}this.viewport.setStyle("marginLeft",al);this.showPage(Y/this._layout.cols);this.index=Y;this._syncNavigation();},_syncNavigation:function(){if((this._itemCount/this._layout.rows)>this._layout.cols){this.disableArrow("left");this.disableArrow("right");if(this.index>0){this.enableArrow("left");
}if(this.index<(this._itemCount-this._layout.cols)){this.enableArrow("right");}}},disable:function(){this.container.removeClass("yui3-videoplayer-enabled");this.clearIndicator();},enable:function(){this.container.addClass("yui3-videoplayer-enabled");},enableArrow:function(Y){this.container.addClass("yui3-videoplayer-"+Y+"-enabled");},disableArrow:function(Y){this.container.removeClass("yui3-videoplayer-"+Y+"-enabled");},setIndicator:function(al,am){this.clearIndicator();if(typeof this._mediaItemDomArray[al]==="undefined"){return;}var Y=this._view.createNode("span","viewport-item-indicator",g.NS);Y.set("innerHTML",am);this._mediaItemDomArray[al].append(Y);if(al%(this._layout.rows*this._layout.cols)===0){this.scrollTo(al);}},clearIndicator:function(){this.viewport.all(".yui3-videoplayer-carousel-viewport-item-indicator").remove();},destructor:function(){this.container.remove();},createNode:function(ap,al,an){var Y={img:true,input:true},ao=an?"-"+an:"",am;if(ap in Y){am=f.Node.create("<"+ap+' class="'+f.ClassNameManager.getClassName("videoplayer"+ao,al)+'"/>');}else{am=f.Node.create("<"+ap+' class="'+f.ClassNameManager.getClassName("videoplayer"+ao,al)+'"></'+ap+">");}return am;},_touchStart:function(Y){if(this._touch.prevClientX!==null){return;}this._touch.prevClientX=Y.touches[0].clientX;this._touch.offset=0;this._touch.viewportMarginLeft=parseInt(this.viewport.getStyle("marginLeft"),10);this.viewport.addClass("touch");this._touch.startPageX=Y.touches[0].pageX;this._touch.startPageY=Y.touches[0].pageY;},_touchMove:function(am){var al,Y;if(this._touch.prevClientX===null||this._touch.ignore){return;}Y=this._isTouchMoveVertical(this._touch.startPageX,am.touches[0].pageX,this._touch.startPageY,am.touches[0].pageY);if(this._touch.offset===0&&Y){this._touch.ignore=true;return;}am.preventDefault();this._touch.offset+=this._touch.prevClientX-am.touches[0].clientX;this._touch.prevClientX=am.touches[0].clientX;this.viewport.setStyle("marginLeft",(this._touch.viewportMarginLeft-this._touch.offset)+"px");al=this.viewport.all(".yui3-videoplayer-carousel-viewport-item:not(.load)");al.setStyle("opacity",Math.min(0.6,Math.abs(this._touch.offset)/200));},_touchEnd:function(){if(this._touch.prevClientX===null){return;}var Y=100;this._touch.prevClientX=null;this._touch.ignore=false;this.viewport.removeClass("touch");this.viewport.all(".yui3-videoplayer-carousel-viewport-item:not(.load)").setStyle("opacity","");if(this._touch.offset>Y&&this.index<(this._itemCount-this._layout.cols)){this.navRight(this);f.fire("VideoPlayer.Carousel.touch","pc-swipe");}else{if(this._touch.offset<-Y&&this.index>0){this.navLeft(this);f.fire("VideoPlayer.Carousel.touch","pc-swipe");}else{if(this._touch.offset!==0){this.viewport.setStyle("marginLeft",this._touch.viewportMarginLeft+"px");}}}},_isTouchMoveVertical:function(al,an,Y,am){return((180/Math.PI)*Math.atan2(Math.abs(am-Y),Math.abs(an-al)))>=60;},_getThumbnailNode:function(al){var Y=f.Node.create("<img/>");Y.set("src",al);Y.set("width",this._dimensions.imageWidth);Y.set("height",this._dimensions.imageHeight);return Y;}});f.namespace("VideoPlatform").Carousel=g;function q(){q.superclass.constructor.apply(this,arguments);}q.NAME="Graph";q.NS="graph";q.ATTRS={};f.extend(q,f.Base,{initializer:function(Y){this.color=Y.color;this.width=Y.width;this.height=Y.height;this.graphHeight=Y.graphHeight;},render:function(al){var Y=f.Node.create('<canvas width="'+this.width+'" height="'+this.height+'"></canvas>');al.append(Y);this.canvas=Y;this.context=Y._node.getContext("2d");},appendSwitchReasonLogs:function(ap,ao){var am=0,Y,an,al;this.context.font="8pt Monospace";for(Y=0;Y<ap.length;Y++){if(ap[Y]!=="None"){am++;an=Math.floor(Y/3600)+":"+Math.floor((Y%3600)/60)+":"+((Y%3600)%60);al=an+" - Switched to "+ao[Y]+" kbps. Reason: "+ap[Y];this.context.fillText(al,10,this.graphHeight+15*am);}}},syncUI:function(ap,ao,Y){if(ap.length>=2){var aq,ar,al,am,an=this.context;if(ao===undefined&&Y===undefined){ao=ap[0];Y=ap[0];for(ar=1;ar<ap.length;ar++){aq=ap[ar];ao=Math.min(ao,aq);Y=Math.max(Y,aq);}}an.clearRect(0,0,this.width,this.graphHeight);an.save();an.translate(40,this.graphHeight-2);al=(Y-ao>0)?(this.graphHeight-4)/(Y-ao):1;am=(this.width-40)/240;an.scale(am,-1*al);an.beginPath();an.moveTo(0,ap[0]-ao);for(ar=1;ar<ap.length;ar++){an.lineTo(ar,ap[ar]-ao);}an.restore();an.save();an.lineWidth=3;an.lineCap="round";an.lineJoin="round";an.strokeStyle=this.color;an.stroke();an.font="8pt Monospace";an.fillStyle=this.color;an.fillText(Y,0,10);an.fillText(ao,0,this.graphHeight);an.restore();}},destructor:function(){}});f.namespace("VideoPlatform").Graph=q;function s(){s.superclass.constructor.apply(this,arguments);}s.NAME="DetailScreen";s.NS="detailscreen";s.ATTRS={};f.extend(s,f.Base,{log:function(al,Y){},initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(am){var al=s.NS,Y=this,an=Y._view;Y._node=am;Y._container=an.createNode("div","container",al);Y._close=an.createNode("button","close",al);Y._wrapper=an.createNode("div","wrapper",al);Y._tableWrapper=an.createNode("div","table-wrapper",al);Y._detailsTable=an.createNode("table","details-table",al);Y._tb=an.createNode("tbody","details-table-body",al);Y._version=an.createNode("td","version",al);Y._hostingBucket=an.createNode("td","hosting-bucket",al);Y._hostingColo=an.createNode("td","hosting-colo",al);Y._hostingEnv=an.createNode("td","hosting-env",al);Y._uuid=an.createNode("td","uuid",al);Y._guid=an.createNode("td","guid",al);Y._lang=an.createNode("td","lang",al);Y._offNetwork=an.createNode("td","off-network",al);Y._profileLogLink=an.createNode("span","profile-log-link",al);Y._close.addClass("close");Y._host=null;Y._streamUrl=null;Y._appendTitleRow("About Yahoo Video Player");Y._appendRow("version","Version");if(Y._model.get("rendererType")==="flash"){if(!!document.createElement("canvas").getContext){Y._appendTitleRow("Bit Rate History");Y._appendGraphRow("currentStreamBitrate");Y._appendTitleRow("Download Speed History");Y._appendGraphRow("currentKbps");
Y._appendTitleRow("Buffering History");Y._appendGraphRow("bufferSample");Y._appendTitleRow("Frame Rate History");Y._appendGraphRow("frameRate");}Y._appendTitleRow("Current Media");Y._appendRow("uuid","UUID");Y._appendRow("currentStreamBitrate","Bit Rate");Y._appendRow("quality-levels","Total Quality Levels");Y._appendRow("high-quality-ratio","High Quality Play Ratio");Y._appendRow("frameRate","Frame Rate");Y._appendRow("dropped-frames","Dropped Frames");Y._appendRow("download-speed","Download Speed");Y._appendRow("buffer-length","Buffer length / time ");Y._appendRow("stream-playback-rate","Stream Playback Rate");Y._appendRow("buffering-ratio","Buffering Ratio");Y._appendRow("total-memory","Memory Used");Y._appendRow("hw-decoding","Hardware Decoding");Y._appendRow("hw-rendering","Hardware Rendering");Y._appendRow("media-size","Media Size");Y._appendRow("delivery-protocol","Delivery Protocol");}Y._appendTitleRow("Error");Y._appendRow("error-type","Error Type");Y._appendRow("error-code","Error Code");Y._appendRow("error-msg","Error Msg");Y._appendTitleRow("User Agent");Y._appendRow("os","OS");f.each(f.UA,function(ap,ao){if(ap!==undefined&&f.Lang.isNumber(ap)&&ap>0){Y._appendRow(ao,ao);}});Y._appendRow("flash","Adobe Flash");Y._appendTitleRow("Hosting");Y._appendRow("hosting-bucket","Bucket");Y._appendRow("hosting-colo","Colo");Y._appendRow("hosting-env","Env");Y._appendTitleRow("Instance");Y._appendRow("guid","GUID");Y._appendRow("lang","Lang");Y._appendRow("off-network","Off Network");Y._close.set("innerHTML","X");Y._close.setAttribute("alt","Close Detail Overlay");Y._profileLogLink.set("innerHTML","Profile");Y._detailsTable.append(Y._tb);Y._tableWrapper.append(Y._detailsTable);Y._wrapper.append(Y._tableWrapper);Y._container.append(Y._wrapper);Y._container.append(Y._close);Y._container.append(Y._profileLogLink);am.append(Y._container);Y._bindUI();Y._syncUI();setTimeout(function(){Y._container.addClass("yui3-videoplayer-show");},10);},_appendGraphRow:function(Y){var an=f.Node.create("<td></td>"),am=f.Node.create("<tr></tr>"),al;an.addClass("graph");an.setAttribute("colspan",2);am.append(an);this._tb.append(am);al=new q({color:"white",width:280,height:30,graphHeight:30});al.render(an);this[Y+"-graph"]=al;},_appendTitleRow:function(al){var am=f.Node.create("<td></td>"),Y=f.Node.create("<tr></tr>");am.addClass("title");am.set("innerHTML",al);am.setAttribute("colspan",2);Y.append(am);this._tb.append(Y);},_appendRow:function(Y,al){this[Y]=this._view.createNode("td",Y,s.NS);var an=this[Y],am=f.Node.create("<tr></tr>");an.addClass("value");am.append(f.Node.create('<td class="label">'+al+":</td>"));am.append(an);this._tb.append(am);},_bindUI:function(){var am=this,al=am._view,Y=am._model;am._close.on("click",function(){al.set("activeOverlay",undefined);});Y.after("currentMediaChange",function(){this._bindToCurrentMedia();am._syncUI();},this);am._bindToCurrentMedia();Y.after("errorChange",function(){am._syncUI();},this);am._addCanvasClickHandler("currentStreamBitrate");am._addCanvasClickHandler("frameRate");am._addCanvasClickHandler("currentKbps");am._addCanvasClickHandler("bufferSample");am._profileLogLink.on("click",function(){al.openProfiler();});},_addCanvasClickHandler:function(Y){var am=this,al=Y+"-graph";if(this[al]){this[al].canvas.on("click",function(){var an=f.Node.create("<div></div>"),au=120,at=am._model.get("currentMedia").get("history"),ap=at[Y],ar=0,aw,av,aq,ao;if(Y==="currentStreamBitrate"){aq=at.streamSwitchReason;for(ao=0;ao<aq.length;ao++){if(aq[ao]!=="None"){ar++;}}au=120+ar*15;}aw=new q({color:"#333",width:520,height:au,graphHeight:120});aw.render(an);aw.syncUI(ap);if(Y==="currentStreamBitrate"){aw.appendSwitchReasonLogs(aq,ap);}av=aw.canvas._node.toDataURL();window.open(av);});}},_bindToCurrentMedia:function(){var Y=this._model,al=this;if(Y&&Y.get("currentMedia")){Y.get("currentMedia").after("mediaInfoChange",function(){al._syncUI();},this);}},_syncUI:function(){var ao=this._model,av=this,at=ao.get("hostingData"),au=ao.get("error"),am=ao.get("currentMedia"),al=f.UA,an,Y,ar,ap,aq;this.version.set("innerHTML",ao.get("version"));this.os.set("innerHTML",f.UA.os);this.flash.set("innerHTML",f.UA.flashMajor+"."+f.UA.flashMinor+"."+f.UA.flashRev);f.each(al,function(ax,aw){if(ax!==undefined&&f.Lang.isNumber(ax)&&ax>0){av[aw].set("innerHTML",ax);}});if(f.Lang.isObject(at)){this["hosting-bucket"].set("innerHTML",at.bucket);this["hosting-colo"].set("innerHTML",at.colo);this["hosting-env"].set("innerHTML",at.env);}this.guid.set("innerHTML",ao.get("guid"));this.lang.set("innerHTML",ao.get("lang"));this["off-network"].set("innerHTML",ao.get("isOffNetwork"));if(f.Lang.isObject(au)){this["error-type"].set("innerHTML",au.type);this["error-code"].set("innerHTML",au.code||"");this["error-msg"].set("innerHTML",au.message||"");}if(am&&this.uuid){an=am;Y=an.get("id");if(Y!==null){this.uuid.set("innerHTML",Y);}}if(am&&am.get("mediaInfo")&&ao.get("rendererType")==="flash"){an=ao.get("currentMedia");ar=an.get("mediaInfo");if(ar.currentStreamBitrate!==null){this.currentStreamBitrate.set("innerHTML",ar.currentStreamBitrate+" kbps");}if(ar.qualityLevels!==null){this["quality-levels"].set("innerHTML",ar.qualityLevels);}if(ar.highestQualityPlaybackRatio!==null){this["high-quality-ratio"].set("innerHTML",ar.highestQualityPlaybackRatio+" %");}if(ar.frameRate!==null){this.frameRate.set("innerHTML",ar.frameRate+" fps");}if(ar.droppedFrames!==null){this["dropped-frames"].set("innerHTML",ar.droppedFrames);}if(ar.currentKbps!==null){this["download-speed"].set("innerHTML",ar.currentKbps+" kbps");}if(ar.bufferLength!==null&&ar.bufferTime!==null){this["buffer-length"].set("innerHTML",ar.bufferLength+" sec / "+ar.bufferTime+" sec");}if(ar.playbackBytesPerSecond!==null){this["stream-playback-rate"].set("innerHTML",ar.playbackBytesPerSecond+" kbps");}if(ar.bufferingRatio!==null){this["buffering-ratio"].set("innerHTML",(ar.bufferingRatio).toFixed(2)+" %");}if(ar.totalMemory!==null){this["total-memory"].set("innerHTML",ar.totalMemory+" MB");
}if(ar.hwDecoding!==null){ap=(ar.hwDecoding===true)?"Yes":"No";this["hw-decoding"].set("innerHTML",ap);}if(ar.hwRendering!==null){aq=(ar.hwRendering===true)?"Yes":"No";this["hw-rendering"].set("innerHTML",aq);}if(ar.mediaWidth!==null&&ar.mediaHeight!==null){this["media-size"].set("innerHTML",ar.mediaWidth+" x "+ar.mediaHeight);}if(ar.mediaWidth!==null&&ar.mediaHeight!==null){this["delivery-protocol"].set("innerHTML",ar.deliveryProtocol);}if(this["currentStreamBitrate-graph"]){if(ar.minBitRate&&ar.maxBitRate){this["currentStreamBitrate-graph"].syncUI(an.get("history").currentStreamBitrate,ar.minBitRate,ar.maxBitRate);}else{this["currentStreamBitrate-graph"].syncUI(an.get("history").currentStreamBitrate);}}if(this["bufferSample-graph"]){this["bufferSample-graph"].syncUI(an.get("history").bufferSample);}if(this["frameRate-graph"]){this["frameRate-graph"].syncUI(an.get("history").frameRate);}if(this["currentKbps-graph"]){this["currentKbps-graph"].syncUI(an.get("history").currentKbps);}}},destructor:function(){this._container.removeClass("yui3-videoplayer-show");var Y=this;setTimeout(function(){Y._container.remove();},500);}});f.namespace("VideoPlatform").DetailScreen=s;function X(){X.superclass.constructor.apply(this,arguments);}X.NAME="InfoScreen";X.NS="infoscreen";X.ATTRS={};f.extend(X,f.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(az){this._node=az;var aB=X.NS,at=this._view,ay=this,aq=at._controller.getStrings(),al=az.get("offsetWidth"),ap=az.get("offsetHeight"),av=15,aE=3,aA=al-(av*3)-(aE*2),au=this._view.createNode("div","container",aB),ao=this._view.createNode("div","tint",aB),ax=this._view.createNode("div","top",aB),Y=this._view.createNode("h3","now-playing",aB),an=this._view.createNode("a","image-link",aB),am=this._view.createNode("div","left",aB),aF=this._buildImage(aA),aC=this._buildRight(aA),aw=this._view.createNode("button","close",aB),ar=this._buildCcComplaintsLink(aA,ap),aD=ap-40;au.set("offsetHeight",aD);this._container=au;this.imgLink=an;this.close=aw;an.append(aF);aw.addClass("close");aw.set("innerHTML","X");am.append(an);ax.append(Y);ax.append(am);ax.append(aC);Y.set("innerHTML",aq.NOW_PLAYING);ax.append(aw);au.append(ao);au.append(ax);if(ar){au.append(ar);}az.append(au);this._bindUI();setTimeout(function(){ay._container.addClass("yui3-videoplayer-show");},5);if(this._model.get("rendererType")==="html"){this._view._hideVideoTag();}},_buildRight:function(ap){var am=this._model.get("currentMedia"),az=0,av=typeof(am.get("title"))==="string"?am.get("title"):"",Y=typeof(am.get("description"))==="string"?am.get("description"):"",al=this._node.get("offsetHeight"),an=X.NS,au=this._view.createNode("h3","title",an),aq=this._view.createNode("p","desc",an),ay=this._view.createNode("table","share",an),ao=this._view.createNode("tbody","share-body",an),at=this._buildLink(),ar=this._buildEmbed(),ax=this._buildFbLink(),aw=this._view.createNode("div","right",an);aw.set("offsetWidth",ap*0.6);au.set("innerHTML",av);au.setAttribute("tabIndex",-1);aq.set("innerHTML",Y);if(this._view.get("screenSize")==="LARGE"){az=(al-140)>0?al-140:0;}else{az=(al-60)>0?al-60:0;}au.setStyle("maxHeight",az*0.4);aq.setStyle("maxHeight",az*0.6);aw.append(au);aw.append(aq);if(at||ar){if(at){ao.append(at);}if(ar){ao.append(ar);}ay.append(ao);aw.append(ay);}if(ax){aw.append(ax);}return aw;},_buildFbLink:function(){var aq=this._view._controller.getStrings(),an=this._model.get("currentMedia"),ap=an.get("shareUrl"),am=X.NS,ao=this._view.createNode("a","fb-link",am),al=this._view.createNode("span","fb-icon",am),Y=this._view.createNode("span","fb-share",am);if(ap){Y.set("innerHTML",aq.SHARE_ON_FACEBOOK);ao.set("target","_blank");ao.set("href",f.substitute(r.FACEBOOK_URL_TEMPLATE,{title:encodeURIComponent(an.get("title")),shareUrl:encodeURIComponent(ap)}));ao.append(al);ao.append(Y);return ao;}return false;},_buildLink:function(){var ar=this._view._controller.getStrings(),ap=this._model.get("currentMedia"),aq=ap.get("shareUrl"),ao=X.NS,an=this._view.createNode("tr","link",ao),Y=this._view.createNode("td","link-label",ao),am=this._view.createNode("td","link-text-box-td",ao),al=this._view.createNode("input","link-text-box",ao);if(aq){Y.set("innerHTML",ar.LINK_COLON);al.set("value",aq);al.setAttribute("readonly","readonly");am.append(al);an.append(Y);an.append(am);return an;}return false;},_buildEmbed:function(){var at=this._view._controller.getStrings(),am=this._model.get("currentMedia"),al=am.get("embedCode"),ar=am.get("embeddable"),an=X.NS,aq=this._view.createNode("tr","embed",an),Y=this._view.createNode("td","embed-label",an),ap=this._view.createNode("td","embed-text-box-td",an),ao=this._view.createNode("input","embed-text-box",an);if(al&&ar){Y.set("innerHTML",at.EMBED_COLON);ao.set("value",al);ao.setAttribute("readonly","readonly");ap.append(ao);aq.append(Y);aq.append(ap);return aq;}return false;},_buildImage:function(ar){var ao=this._model.get("currentMedia"),Y=ao.get("images"),ap=this._node.get("offsetHeight"),al=null,an=ar*0.4,am=X.NS,aq=new Image();if(Y&&typeof(Y.medium)==="string"){al=this._view.createNode("img","image",am);aq.onload=function(){var au=aq.width,at=aq.height;al.set("src",Y.medium);al.set("offsetWidth",an);al.set("offsetHeight",an*at/au);};aq.src=Y.medium;}else{al=this._view.createNode("div","image",am);al.set("offsetWidth",an);al.set("offsetHeight",ap*0.4);}return al;},_buildCcComplaintsLink:function(an,Y){var ap=this._view._controller.getStrings(),ao=X.NS,am=this._view.createNode("a","closed-captions-complaint-link",ao),ar=this._model.get("ccAvailable"),aq=this._model.get("lang"),al="us";if(an<250||Y<170){return false;}if(ar&&(aq==="en-US"||aq==="es-US")){am.set("innerHTML",ap.CLOSED_CAPTION_COMPLAINTS);am.set("target","_blank");if(aq==="es-US"){al="e1";}am.set("href",f.substitute(r.CC_COMPLAINTS_URL_TEMPLATE,{region:al,lang:aq.toLowerCase()}));return am;}return false;},_closeScreen:function(){var Y=this._model;if(Y.get("rendererType")==="html"){this._view._showVideoTag();
}Y.set("activeScreenStr",undefined);},_bindUI:function(){var aq=this._container,al=this,Y=this._model,ap=this.close,ao=this.imgLink,am=aq.all(".yui3-videoplayer-infoscreen-share input"),an=aq.one(".yui3-videoplayer-infoscreen-fb-link");if(f.Lang.isValue(ap)){ap.on("click",function(){al._closeScreen();},this);}if(f.Lang.isValue(ao)){ao.on("click",function(){Y.fire("uiInteract",{source:this.constructor.NS+"Thumb"});al._closeScreen();},this);}if(f.Lang.isValue(am)){am.on("click",function(ar){var au=ar.target,at=au._node.className.match(/yui3-videoplayer-[\w]*-([\w]*)-text-box/)[1].replace(/^([\w])(.*)/,function(av,ax,aw){return this.constructor.NS+ax.toUpperCase()+aw;});au.focus();au.select();Y.fire("uiInteract",{source:at});},this);}if(f.Lang.isValue(an)){an.on("click",function(){Y.fire("uiInteract",{source:this.constructor.NS+"Facebook"});},this);}},destructor:function(al){var Y=this;this._container.removeClass("yui3-videoplayer-show");if(f.UA.ie>0&&f.UA.ie<9){Y._container.remove();if(al){al();}}else{setTimeout(function(){Y._container.remove();if(al){al();}},300);}}});f.namespace("VideoPlatform").InfoScreen=X;function p(){p.superclass.constructor.apply(this,arguments);}p.NAME="EndScreen";p.NS="endscreen";p.ATTRS={};p.DIMENSIONS={LARGE:{CONTAINER_PADDING:35,MIN_WIDTH:200,MIN_HEIGHT:200},MEDIUM:{CONTAINER_PADDING:35,MIN_WIDTH:200,MIN_HEIGHT:200},SMALL:{CONTAINER_PADDING:35,MIN_WIDTH:160,MIN_HEIGHT:100}};p.END_SCREEN_CAROUSEL_DIMENSIONS={LARGE:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:0},MEDIUM:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:0},SMALL:{ITEM_WIDTH:157,ITEM_HEIGHT:88,IMAGE_WIDTH:157,IMAGE_HEIGHT:88,HORIZONTAL_SPACING:2,VERTICAL_SPACING:1}};f.extend(p,f.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;this.mode="REPLAY";this._controller=Y.view._controller;this.i18n=this._controller.getStrings();this.screenSize=this._view.get("screenSize");this.dimensions=p.DIMENSIONS[this.screenSize];this._config=f.Lang.isObject(this._model.get("endscreen"))||{};this._useCarousel=(this._model.get("endScreenVideos").get("mediaItems")).length>1;if(this._config&&this._config.on){this.on(this._config.on);}},render:function(ao){var al=this,an=p.NS,Y=al._getMediaItem(),ap,am;if(al.mode==="PLAY_NEXT"){al._continue();return;}al.renderView(ao,Y,an);if(al.mode==="REPLAY"&&this._model.get("carousel")){al._hidePlaylistCarousel(al.container);}am=al._model.get("endScreenVideos").get("mediaItems");am.add(Y,0);am=am.toArray();this._useCarousel=am.length>1;if(this._isValidPlayerSize(ao)===true){if(this._useCarousel){setTimeout(function(){al._renderCarousel(am,an);},20);}else{al._renderWatchedView(Y,an);}}else{ap=al._view.createNode("div","blank-node",an);al._setContainerHeight(ap);al.container.prepend(ap);}al.container.addClass("show");al._bindUI();},_isValidPlayerSize:function(Y){return(this.dimensions.MIN_HEIGHT<=Y.get("offsetHeight")&&this.dimensions.MIN_WIDTH<=Y.get("offsetWidth"));},_getMediaItem:function(){var an=this,Y=an._model,ap=an._config.mediaItem||null,am,ao,al;if(ap){am=new n(ap);if(am.images){am.images.large=am.images.medium=am.images.thumbnail;}}else{ao=Y.get("playlistPosition");al=Y.get("playlist").items().item(ao+1);if(al&&Y.get("continuousPlay")){an.mode="PLAY_NEXT";am=al;}else{an.mode="REPLAY";am=Y.get("playlist").items().item(ao);}}return am;},_hidePlaylistCarousel:function(Y){var al=Y.ancestor(".yui3-videoplayer-content");al.one(".yui3-videoplayer-playlist-carousel").setStyle("display","none");al.one(".yui3-videoplayer-carousel-title").removeClass("yui3-videoplayer-show");al.one(".yui3-videoplayer-main").setStyle("height","100%");},renderView:function(an,al,am){var ao=this._view,Y=ao.createNode("div","container",am);an.append(Y);this.container=Y;if(this._model.get("rendererType")==="html"){ao._hideVideoTag();}this._model.fire("uiView",{source:this.constructor.NS+"View",instrData:{linkContext:this._model.get("relatedVideosLinkContexts"),videoContext:this._model.get("relatedVideosVideoContext")}});},_renderWatchedView:function(am,an){var ax=this,au=ax._view,al=ax.container,at=am.get("images")||null,aw=at&&(at.thumbnail||at.small||at.medium||at.large)||H.PLAYER_ASSETS_URL+"video_thumb_nopic.png",ao=au.createNode("img","watched-img",an),aq=f.Node.create("<div/>").setAttribute("class","overlay"),av=f.Node.create("<button/>").setAttribute("class","replay-button"),Y=f.Node.create("<span/>").setAttribute("class","replay-text").set("innerHTML",ax.i18n.REPLAY),ap=au.createNode("div","watched",an),ar=au.createNode("div","watched-wrapper",an);aq.append(av);aq.append(Y);ao.once("load",function(){ax._positionReplayViewNode(ap);ar.setStyle("visibility","visible");});ao.setAttribute("src",aw);ax._resizeImage(ao);ap.append(ao);ap.append(aq);ar.append(ap);ar.setStyles({"width":p.END_SCREEN_CAROUSEL_DIMENSIONS[ax.screenSize].IMAGE_WIDTH,"visibility":"hidden","overflow":"auto"});al.prepend(ar);},_resizeImage:function(am){var al=this,ao=p.END_SCREEN_CAROUSEL_DIMENSIONS[al.screenSize],Y=al._useCarousel?ao.IMAGE_HEIGHT+"px":"auto",an=al._useCarousel?ao.IMAGE_WIDTH+"px":"100%";am.setStyles({"height":Y,"width":an});},_positionReplayViewNode:function(Y){var al=0-Math.round(Y.get("region").height/2);Y.setStyle("marginTop",al);},_setContainerHeight:function(Y){Y.setStyle("height",this.container.get("offsetHeight"));},_renderCarousel:function(am,ao){var Y=this._view.createNode("div","carousel-node",ao),an=this.screenSize,al=new g({"view":this,"mediaItems":am,"pltype":"endScreen","showMetadata":true,"showNavigation":false,"dimensions":{itemWidth:p.END_SCREEN_CAROUSEL_DIMENSIONS[an].ITEM_WIDTH,itemHeight:p.END_SCREEN_CAROUSEL_DIMENSIONS[an].ITEM_HEIGHT,imageWidth:p.END_SCREEN_CAROUSEL_DIMENSIONS[an].IMAGE_WIDTH,imageHeight:p.END_SCREEN_CAROUSEL_DIMENSIONS[an].IMAGE_HEIGHT,horizontalSpacing:p.END_SCREEN_CAROUSEL_DIMENSIONS[an].HORIZONTAL_SPACING,verticalSpacing:p.END_SCREEN_CAROUSEL_DIMENSIONS[an].VERTICAL_SPACING,carouselMargin:p.END_SCREEN_CAROUSEL_DIMENSIONS[an].MARGIN}});
this._setContainerHeight(Y);this.container.prepend(Y);al.render(Y);},destructor:function(){var Y=this;if(f.UA.ie>0&&f.UA.ie<9){Y.container.remove();}else{Y.container.removeClass("show");setTimeout(function(){Y.container.remove();},500);}},_replayVideo:function(){if(this._model.get("rendererType")==="html"){this._view._showVideoTag();}this._view._model.set("activeScreenStr",undefined);this._model.fire("uiInteract",{source:"endscreenReplayButton"});},_bindUI:function(){var Y=this,al;al=f.one(".yui3-videoplayer-endscreen-watched");if(al){al.on(["click","touchstart"],Y._replayVideo,Y);}},_continue:function(){var Y=this;setTimeout(function(){if(Y._model.get("rendererType")==="html"){Y._view._showVideoTag();}if(Y.mode==="PLAY_NEXT"){Y._view._controller.playNext();}else{Y._view._model.set("activeScreenStr",undefined);}},500);}});f.namespace("VideoPlatform").EndScreen=p;function A(){A.superclass.constructor.apply(this,arguments);}A.NAME="CCOptions";A.NS="ccoptions";A.ATTRS={};A.FONT_SIZE_MAP={"0":16,"25":20,"50":24,"75":28,"100":32};A.PRESETS=[{"fontColor":"#cdcdcd","bgColor":"#060606"},{"fontColor":"#282828","bgColor":"#c8c8c8"},{"fontColor":"#fef149","bgColor":"#0a0908"},{"fontColor":"#29fd2f","bgColor":"#0a0908"},{"fontColor":"#ec369c","bgColor":"#0a0a09"},{"fontColor":"#2cfefe","bgColor":"#0a0a09"}];A.PRESET_FONT_COLORS=[{"color":"#E7E7E7","name":"grey"},{"color":"#000000","name":"black"},{"color":"#FC2525","name":"red"},{"color":"#29FD2F","name":"green"},{"color":"#2CFEFE","name":"turquoise"},{"color":"#EC369C","name":"pink"},{"color":"#FEF149","name":"yellow"},{"color":"#2524FB","name":"blue"}];A.PRESET_FONT_BG_COLORS=[{"color":"none","name":"none"},{"color":"#eaeaea","name":"grey1"},{"color":"#c7c7c7","name":"grey2"},{"color":"#919191","name":"grey3"},{"color":"#5b5b5b","name":"grey4"},{"color":"#000000","name":"black"},{"color":"#29FD2F","name":"green"},{"color":"#2424FB","name":"blue"},{"color":"#2CFDFD","name":"turquoise"},{"color":"#EC359B","name":"pink"},{"color":"#FDF048","name":"yellow"},{"color":"#FC2424","name":"red"}];A.FONT_OPACITY_VALUES=[1,0.75,0.5,0.25];A.FONT_BG_OPACITY_VALUES=[1,0.75,0.5,0.25,0];A.FONT_EFFECTS=[{"name":"none","localizedStrKey":"CAPTIONS_EFFECT_NONE"},{"name":"dropshadow","localizedStrKey":"CAPTIONS_EFFECT_DROP_SHADOW"},{"name":"raised","localizedStrKey":"CAPTIONS_EFFECT_RAISED"},{"name":"depressed","localizedStrKey":"CAPTIONS_EFFECT_DEPRESSED"},{"name":"uniform","localizedStrKey":"CAPTIONS_EFFECT_OUTLINED"}];f.extend(A,f.Base,{log:function(al,Y){},initializer:function(Y){this._model=Y.model;this._controller=Y.controller;this._view=Y.view;this.i18n=this._controller.getStrings();},render:function(am){var Y=this,an=Y._view,al=A.NS;Y._node=am;Y._oldCC=Y._model.get("ccSettings");Y.container=an.createNode("div","container",al);Y.header=an.createNode("div","header",al);Y.contentNode=an.createNode("div","content",al);Y.backBtn=an.createNode("div","back",al);Y.close=an.createNode("div","close",al);Y.title=an.createNode("h2","title",al);Y.close.setAttribute("alt","Close Captions Settings");Y.backBtn.setAttribute("alt","Go Back");Y.title.setAttribute("tabIndex",-1);if(f.UA.ie!==0&&f.UA.ie<=9){Y.container.setAttribute("onselectstart","return false");}Y.header.append(Y.title);Y.header.append(Y.close);Y.header.append(Y.backBtn);Y._populateSettingNodes();Y.container.append(Y.header);Y.container.append(Y.contentNode);am.append(Y.container);Y._bindUI();Y._syncUI(null);setTimeout(function(){Y.container.addClass("cc-show");},10);},_bindUI:function(){var Y=this;Y.close.on("click",function(al){Y._controller.fireUIInteractBeacon("cc-menu-x");Y.hideCCOptions();al.preventDefault();});Y.backBtn.on("click",function(){if(Y.styleSettingsVisible){Y._controller.fireUIInteractBeacon("cc-arrow-style");Y._showCCRootSettings();}else{Y._controller.fireUIInteractBeacon("cc-arrow-options");Y.hideCCOptions();Y._controller.getControlsObj()._showSettings();}});Y.styleBtn.on("click",function(){Y._controller.fireUIInteractBeacon("cc-customize");Y._showCCStyleSettings();});Y.langSelector.onItemSelect=function(an,al){var am={ccDialogSrc:Y.langSelector};Y._controller.setClosedCaptionsLanguage(this._langKeys[al],am);Y._controller.showClosedCaptionsPreviewText(this._langKeys[al]);};Y.sizeSlider.onSliderChange=function(al){var am={ccDialogSrc:Y.sizeSlider};Y._controller.setClosedCaptionsCustomization("fontSize",A.FONT_SIZE_MAP[""+al],am);};Y.sizeSlider.afterSliderChange=function(al){Y._controller.fireUIInteractBeacon("cc-size-"+al);};Y.styleSettings.fontSelector.onItemSelect=function(an){var al=Y._model.get("ccSettings.fontName"),am={ccDialogSrc:Y.styleSettings.fontSelector};if(al!==an){Y._controller.fireUIInteractBeacon("cc-font-"+an);}Y._controller.setClosedCaptionsCustomization("fontName",an,am);};Y.styleSettings.fontColorPicker.onColorSelect=function(am,al){var an=Y._model.get("ccSettings.fontColor"),ao={ccDialogSrc:Y.styleSettings.fontColorPicker};if(an!==am){Y._controller.fireUIInteractBeacon("cc-font-"+al);}Y._controller.setClosedCaptionsCustomization("fontColor",am,ao);};Y.styleSettings.fontBGOpacitySelector.onItemSelect=function(ap,am){var ao=A.FONT_BG_OPACITY_VALUES[am],al=Y._model.get("ccSettings.fontColor"),an={ccDialogSrc:Y.styleSettings.fontBGOpacitySelector};if(al!==ap){Y._controller.fireUIInteractBeacon("cc-bg-"+ao*100);}Y._controller.setClosedCaptionsCustomization("bgOpacity",ao,an);};Y.styleSettings.fontBGColorPicker.onColorSelect=function(am,al){var ao=Y._model.get("ccSettings.bgColor"),aq=Y._controller,ap={ccDialogSrc:Y.styleSettings.fontBGColorPicker};if(ao!==am){aq.fireUIInteractBeacon("cc-bg-"+al);}if(am==="none"){aq.setClosedCaptionsCustomization("bgOpacity",0,ap);}else{aq.setClosedCaptionsCustomization("bgColor",am,ap);if(Y._model.get("ccSettings.bgOpacity")===0){var an=N.ATTRS.ccSettings.value.bgOpacity;aq.setClosedCaptionsCustomization("bgOpacity",an,ap);}}};Y.styleSettings.onPresetSelect=function(am,al){Y._controller.setClosedCaptionsCustomizationObject(am);if(f.Lang.isValue(al)){Y._controller.fireUIInteractBeacon("cc-preset-"+al);
}};Y.styleSettings.fontEffectPicker.delegate("click",function(ao){var am=Y._model.get("ccSettings.fontEffect"),al=ao.currentTarget.effectName,an={ccDialogSrc:Y.styleSettings.fontEffectPicker};if(am!==al){Y._controller.fireUIInteractBeacon("cc-effect-"+al);}Y._setNodeSelected(ao.currentTarget);Y._controller.setClosedCaptionsCustomization("fontEffect",al,an);},".effect");Y.styleSettings.styleTabWidget.onTabChange=function(am,al){Y._controller.fireUIInteractBeacon("cc-tab-"+am);};Y._model.after("ccSettingsChange",Y._syncUI,Y);Y._model.after("currentMediaChange",Y._mediaChangeHandler,Y);},_mediaChangeHandler:function(){var Y=this;Y._createOrUpdateLangSelector();Y._syncUI();},_setNodeSelected:function(Y){Y.get("parentNode").all(".selected").removeClass("selected");Y.addClass("selected");},_setSelectedLangAvailabilityIcon:function(){var am=this.langSelector,al=am.getSelectedItem(),Y=f.Node.create('<div class="availblity-icon"></div>');if(al.hasClass("yep-uiselector-disabled")){Y.addClass("unavailable");}al.append(Y);},_syncUI:function(au){var ax=this,av=ax._model.get("ccSettings"),aq=au?au.ccDialogSrc:null;if(aq!==ax.sizeSlider){var ay=100,ar;for(ar in A.FONT_SIZE_MAP){if(f.Object.hasKey(A.FONT_SIZE_MAP,ar)){var az=A.FONT_SIZE_MAP[ar];if(av.fontSize<=az){ay=ar;break;}}}ax.sizeSlider.setSliderValue(ay);}if(aq!==ax.langSelector){var at=ax._controller.getCaptionsString(av.lang,"LANG_NAME")||av.lang;if(f.Array.indexOf(ax.langSelector._langKeys,av.lang)===-1){ax.langSelector.setSelectedValue(at,true);}else{ax.langSelector.setSelectedValue(at);}}ax._setSelectedLangAvailabilityIcon();if(aq!==ax.styleSettings.fontSelector){var Y=av.fontName,ap=Y.indexOf(",");if(ap>1){Y=Y.substring(0,ap);}ax.styleSettings.fontSelector.setSelectedValue(Y);}if(aq!==ax.styleSettings.fontBGOpacitySelector){var aw=ax._getOpacityString(av.bgOpacity);ax.styleSettings.fontBGOpacitySelector.setSelectedValue(aw);}if(aq!==ax.styleSettings.fontEffectPicker){var an=ax.styleSettings.fontEffectPicker.get("childNodes"),am=an.size(),ao;for(ao=0;ao<am;ao++){var al=an.item(ao);if(al.effectName===av.fontEffect){ax._setNodeSelected(al);break;}}}if(aq!==ax.styleSettings.fontBGColorPicker){ax.styleSettings.fontBGColorPicker.setSelectedColor(av.bgOpacity!==0?av.bgColor:"none");}if(aq!==ax.styleSettings.fontColorPicker){ax.styleSettings.fontColorPicker.setSelectedColor(av.fontColor);}},destructor:function(){var Y=this,al=Y._model.get("ccSettings");Y.container.removeClass("cc-show");Y._model.detach("ccSettingsChange",Y._syncUI);Y._model.detach("currentMediaChange",Y._mediaChangeHandler);Y.enableControls();if(!f.UA.mobile&&Y._oldCC!==al){Y._controller.storeCaptionConfig(al);}Y._controller.setCaptionsCustomizationMode(false);setTimeout(function(){Y.container.remove().destroy(true);},400);},showCCOptions:function(){var Y=this;Y._view.set("activeOverlay",Y);Y._controller.setCaptionsCustomizationMode(true);},hideCCOptions:function(){this._view.set("activeOverlay",undefined);},enableControls:function(){var al=this,Y=al._controller.getControlsObj();Y.registerControlHoverEffect();Y._show();},_showCCStyleSettings:function(){var Y=this;Y.title.set("innerHTML",Y.i18n.CAPTIONS_STYLE_LC);Y.rootSettings.addClass("hidden");Y.styleSettings.removeClass("hidden");Y.styleSettingsVisible=true;},_showCCRootSettings:function(){var Y=this;Y.title.set("innerHTML",Y.i18n.CAPTIONS_OPTIONS);Y.styleSettings.addClass("hidden");Y.rootSettings.removeClass("hidden");Y.styleSettingsVisible=false;},_populateSettingNodes:function(){var Y=this,am=this._view,al=A.NS;Y.rootSettings=am.createNode("div","settingswrapper",al);Y.rootSettings.append(Y._getCCOptionNode({"type":"lang"}));Y.rootSettings.append(Y._getCCOptionNode({"type":"size"}));Y.rootSettings.append(Y._getCCOptionNode({"type":"style"}));Y.styleSettings=am.createNode("div","settingswrapper",al);Y._populateStyleOptions(Y.styleSettings,am,al);Y.contentNode.append(Y.rootSettings);Y.contentNode.append(Y.styleSettings,am,al);Y._showCCRootSettings();},_getCCOptionNode:function(aq){aq=aq||{};var al=this,ao=A.NS,ap=al._view,an=ap.createNode("div","title",ao),Y=f.Node.create("<div></div>"),am=ap.createNode("div","settingnode-small",ao);Y.addClass("settingnode-content");an.addClass("node-title");am.append(an);am.append(Y);if(aq.type==="lang"){an.set("innerHTML",al.i18n.CAPTIONS_LANGUAGE_LC);al._createOrUpdateLangSelector();Y.append(al.langSelector);}else{if(aq.type==="style"){an.set("innerHTML",al.i18n.CAPTIONS_STYLE_LC);al.styleBtn=f.Node.create("<button></button>").addClass("style-btn");al.styleBtn.set("innerHTML",al.i18n.CAPTIONS_CUSTOMIZE_LC);al.styleBtn.append(f.Node.create("<span></span>").addClass("fwd-icon"));Y.append(f.Node.create("<div></div>").addClass("style-node").append(f.Node.create("<div></div>").addClass("current-style").set("innerHTML","Aa")).append(al.styleBtn)).addClass("style-link-box");}else{an.set("innerHTML",al.i18n.FONT_SIZE_LC);al.sizeSlider=new ab.SliderWidget(ap,{"marks":5,"minValue":0,"maxValue":100,"isDiscrete":true,"initialValue":50});Y.append(f.Node.create("<div></div>").addClass("sizetexts").append(f.Node.create("<div></div>").addClass("left").set("innerHTML","A")).append(f.Node.create("<div></div>").addClass("right").set("innerHTML","A"))).addClass("size-selector");Y.append(al.sizeSlider);}}return am;},_createOrUpdateLangSelector:function(){var au=this,al=au._model.get("currentMedia").get("CC"),am=H.getCaptionsStringID("LANG_NAME"),Y={},aq,ap,ar,an=[],at=[],ao=0;if(al&&al.length>0){am=H.getCaptionsStringID("LANG_NAME");Y={};f.Array.each(al,function(av){aq={},ap=au._controller.getCaptionsString(av.lang,"LANG_NAME",aq)||av.lang;Y[aq.lang||av.lang]=ap;});for(ar in am){if(f.Object.hasKey(am,ar)&&Y[ar]){at[ao]=Y[ar];an[ao]=ar;ao++;}}}else{at[0]=au.i18n.CAPTIONS_NOT_AVAILABLE_LC;an[0]="--";}if(au.langSelector){au.langSelector.updateDropDownItems(at);}else{au.langSelector=new ab.SelectorWidget(au._view,at,function(aw,av){var ax=this._langKeys[av];if(ax==="--"||ax===au._model.get("ccSettings.lang")){return false;
}return true;});}au.langSelector._langKeys=an;au._addDrownDownLangAvailabilityIcons();},_addDrownDownLangAvailabilityIcons:function(){var Y=this.langSelector.getDropDownItems(),al=this.langSelector._langKeys;f.each(Y,function(an,am){if(al[am]!=="--"){an.append(f.Node.create('<span class="availblity-icon"></span>'));}});this._setSelectedLangAvailabilityIcon();},_populateStyleOptions:function(am,ap,ao){var al=this,Y=ap.createNode("div","presets",ao),an=ap.createNode("div","styleconfig",ao);am.styleTabWidget=al._createStyleTabWidget(am,ap,ao);Y.append(al._createAllPresets(am));an.append(am.styleTabWidget);am.append(Y).append(an);},_createAllPresets:function(al){var Y=this,an=f.Node.create("<div></div>"),ap=A.PRESETS.length,am,ao;for(ao=0;ao<ap;ao++){am=Y._createPreset(A.PRESETS[ao],ao+1);if(ao%3===0){am.addClass("first-in-row");}an.append(am);if(ao===ap/2-1){an.append(f.Node.create("<div></div>").addClass("separator"));}}an.delegate("click",function(at){var ar=at.target.config,aq=at.target._presetIndex;if(typeof al.onPresetSelect==="function"){al.onPresetSelect.call(null,ar,aq);}},"div.preset");return an.addClass("preset-container");},_createPreset:function(al,Y){var am=f.Node.create("<div></div>").addClass("preset");am.set("innerHTML","Aa");am.config=al;am._presetIndex=Y;am.setStyle("color",al.fontColor);am.setStyle("backgroundColor",al.bgColor);return am;},_createStyleTabWidget:function(am,ao){var av=this,al,Y=av._controller.getFontList()||[],ap=[],aq=[],au=av._model.get("ccSettings.fontEffect"),ar=A.FONT_EFFECTS.length,at,an;f.each(A.FONT_OPACITY_VALUES,function(aw){ap.push(aw*100+"%");});f.each(A.FONT_BG_OPACITY_VALUES,function(aw){var ax=av._getOpacityString(aw);aq.push(ax);});am.fontSelector=new ab.SelectorWidget(ao,Y);am.fontColorPicker=new ab.ColorPickerWidget(ao,A.PRESET_FONT_COLORS);am.fontBGColorPicker=new ab.ColorPickerWidget(ao,A.PRESET_FONT_BG_COLORS);am.fontBGOpacitySelector=new ab.SelectorWidget(ao,aq);am.fontEffectPicker=f.Node.create("<div></div>");am.fontSelector.addClass("fontselector");am.fontColorPicker.addClass("fontcolorpicker");am.fontBGColorPicker.addClass("fontbgcolorpicker");am.fontBGOpacitySelector.addClass("font-bg-opacityselector");am.fontEffectPicker.addClass("effect-picker");for(an=0;an<ar;an++){at=A.FONT_EFFECTS[an];am.fontEffectPicker.append(av._createEffectIcon(at.name,av.i18n[at.localizedStrKey],au===at.name));}al=new ab.TabWidget(ao,[{"title":av.i18n.FONT_NAME_LC},{"title":av.i18n.CAPTIONS_BACKGROUND_SETTINGS_LC},{"title":av.i18n.CAPTIONS_EFFECT_SETTINGS}]);al.setContent(0,am.fontSelector);al.setContent(0,am.fontColorPicker);al.setContent(1,am.fontBGColorPicker);al.setContent(1,am.fontBGOpacitySelector);al.setContent(2,am.fontEffectPicker);return al;},_getOpacityString:function(Y){var al=this.i18n,am=Y===1?al.CAPTIONS_OPAQUE:al.CAPTIONS_TRANSPARENCY;return f.substitute(al.CAPTIONS_OPACITY_PERCENTAGE,{number:Y*100,opacity:am});},_createEffectIcon:function(al,Y,an){var am=f.Node.create("<div></div>").addClass("effect"),ao=f.Node.create("<div></div>");ao.addClass("effect-"+al);ao.addClass("preview-icon");if(an===true){am.addClass("selected");}am.tooltip=f.Node.create("<div></div>").addClass("tooltip");am.tooltip.append(f.Node.create("<div class='tooltip-content'></div>").set("innerHTML",Y));am.append(ao);am.append(am.tooltip);am.effectName=al;return am;}});f.namespace("VideoPlatform").CCOptions=A;function ab(){}ab.NAME="UIWidgets";ab.NS="uiwidget";ab.ATTRS={};ab.SliderWidget=function(al,Y){this._config=Y;this.sliderNode=al.createNode("div","slider",ab.NS);ab.SliderWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();this._addAPIFunctions();this._bindUI();this.sliderNode._sliderTrack._setValue(Y.initialValue||0);return this.sliderNode;};f.extend(ab.SliderWidget,ab,{_createWidgetUI:function(){var an=this,am=an._config,al=f.Node.create("<div></div>"),ar,Y,ap,ao,aq;al.addClass("track");al.isDiscrete=am.isDiscrete||false;al.minVal=am.minValue||0;al.maxVal=am.maxValue||100;al.marksXPos=[];ar=100/(am.marks-1);Y=0;am.marks=(am.marks>=2)?am.marks:2;for(aq=0;aq<am.marks;aq++){ap=f.Node.create("<div></div>");ap.addClass("mark");al.append(ap);ap.setStyle("left",Y+"%");al.marksXPos.push(Y);Y+=ar;}ao=f.Node.create("<div></div>");ao.addClass("thumb");al.append(ao);al._sliderThumb=ao;al.append(f.Node.create("<div></div>").addClass("hitzone"));an.sliderNode.append(al);an.sliderNode._sliderTrack=al;},_addAPIFunctions:function(){var al=this.sliderNode,Y=al._sliderTrack;Y._setValue=function(ao,am){if(ao<0){ao=0;}else{if(ao>100){ao=100;}}var an=this,ap;ap=(an.maxVal-an.minVal)*(ao/100)+an.minVal;ap=Math.round(ap*10)/10;if(ap!==an.currentVal){if(typeof am==="function"){am(ap,an.currentVal);}an.currentVal=ap;an._sliderThumb.setStyle("left",ao+"%");}};Y._onSliderDrag=function(an){var am=this,aq=f.bind((al.onSliderChange||function(){}),al);if(!am.hasClass("drag")){return;}am.trackWidth=am.get("offsetWidth");var ap=(an.pageX-am.getX())/am.trackWidth*100,ao,at,ar;if(am.isDiscrete){ar=100;for(ao=0;ao<am.marksXPos.length;ao++){if((Math.abs(am.marksXPos[ao]-ap))<ar){ar=Math.abs(am.marksXPos[ao]-ap);at=am.marksXPos[ao];}}am._setValue(at,aq);}else{am._setValue(ap,aq);}};al.setSliderValue=function(am,ao){if(ao===true){var an=f.bind((al.onSliderChange||function(){}),al);Y._setValue(am,an);}else{Y._setValue(am);}};},_bindUI:function(){var Y=f.one(document),am=this.sliderNode,al=am._sliderTrack;al.on("mousedown",function(an){var ao,ap=al.currentVal;this.addClass("drag");this._onSliderDrag(an);ao=Y.on("mousemove",function(aq){al._onSliderDrag(aq);});Y.once("mouseup",function(){var aq=f.bind((am.afterSliderChange||function(){}),am);al.removeClass("drag");Y.detach(ao);if(al.currentVal!==ap){aq(al.currentVal,ap);}});});}});ab.SelectorWidget=function(al,Y,am){this._config=Y||[];this.selectorNode=al.createNode("div","selector",ab.NS);this.selectorNode._validateSelection=am||function(){return true;};ab.SelectorWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();
this._addAPIFunctions();this._bindUI();this.selectorNode.setSelectedValue(Y[0]);return this.selectorNode;};f.extend(ab.SelectorWidget,ab,{_updateListItems:function(an){var Y=this,al=Y.selectorNode,am;al._optionNodes.length=0;Y.selectorOptionsList.get("childNodes").remove();f.each(an,function(ap,ao){am=f.Node.create('<li class="yep-uiselector-listitem"></li>');am.set("innerHTML",ap);am.set("title",ap);am.setAttribute("value",ao);Y.selectorOptionsList.append(am);al._optionNodes.push(am);});},_createWidgetUI:function(){var Y=this,al=Y.selectorNode,ao=f.Node.create("<div></div>"),am=f.Node.create('<span class="yep-uiselector-selection"></span>'),an=f.Node.create("<div></div>");Y._selectedItem=am;Y.selectorOptionsList=f.Node.create('<ul class="yep-uiselector-listbox"></ul>');al._optionNodes=[];an.addClass("dropdownicon-bg").append(f.Node.create("<div></div>").addClass("dropdownicon"));ao.addClass("yep-uiselector-wrapper");ao.append(am);ao.append(an);al.append(ao);al.append(Y.selectorOptionsList);Y._updateListItems(Y._config);},_addAPIFunctions:function(){var Y=this,al=Y.selectorNode,am=Y._selectedItem;al.setSelectedValue=function(ao,an){am.set("innerHTML",ao);am.set("title",ao);if(am.hasClass("yep-uiselector-disabled")){if(!an){am.removeClass("yep-uiselector-disabled");}}else{if(an){am.addClass("yep-uiselector-disabled");}}};al.updateDropDownItems=function(an){Y._updateListItems(an);};al.getDropDownItems=function(){return this._optionNodes;};al.getSelectedItem=function(){return am;};},_bindUI:function(){var Y=this.selectorNode,al;Y.on("click",function(am){if(al){al.detach();al=null;}this.toggleClass("open");if(Y.hasClass("open")){al=Y.once("clickoutside",function(){Y.removeClass("open");al.detach();al=null;});}am.preventDefault();});Y.delegate("click",function(am){var an=am.container,ao=an.onItemSelect||function(){},ar=this.get("text"),ap=this.getAttribute("value"),aq=an._validateSelection.call(an,ar,ap);if(aq===false){return;}an.setSelectedValue(ar);ao.call(an,ar,ap);},"li");}});ab.TabWidget=function(Y,al){this._config=al;this.tabsWidgetNode=Y.createNode("div","tab",ab.NS);ab.TabWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();this._addAPIFunctions();this._bindUI();this.tabsWidgetNode._showTab(0);return this.tabsWidgetNode;};f.extend(ab.TabWidget,ab,{_createTab:function(al){var am=f.Node.create("<li></li>").addClass("yep-uitab"),Y=f.Node.create("<div></div>").addClass("tabcontent");am.set("innerHTML",al.title||"");am.setStyle("width",al.tabPercentWidth+"%");am._tabContentNode=Y;return am;},_createWidgetUI:function(){var al=this,ar=al._config,ao=f.Node.create("<div></div>").addClass("tabs-content"),an,am,Y,aq,ap=f.UA.ie;al._tabsNav=f.Node.create("<ul></ul>").addClass("yep-uitabs-nav");al.tabsWidgetNode._tabs=[];am=ar.length;Y=Math.floor((100/am)*100)/100;if(ap>0&&ap===7){Y=Math.floor(Y);}for(aq=0;aq<am;aq++){ar[aq].tabPercentWidth=Y;an=al._createTab(ar[aq]);al._tabsNav.append(an);ao.append(an._tabContentNode);al.tabsWidgetNode._tabs.push(an);}al.tabsWidgetNode.append(al._tabsNav).append(ao);},_addAPIFunctions:function(){this.tabsWidgetNode.setContent=function(Y,al){this._tabs[Y]._setContent(al);};this.tabsWidgetNode._showTab=function(Y){var am=this._tabs,al=am[Y];f.each(am,function(an){an.removeClass("selected");an._tabContentNode.removeClass("tab-show");});al.addClass("selected");al._tabContentNode.addClass("tab-show");this._currentTabIndex=Y;};},_bindUI:function(){var Y=this.tabsWidgetNode;f.each(Y._tabs,function(am,al){am._tabIndex=al;am._setContent=function(an){this._tabContentNode.append(an);};});this._tabsNav.on("click",function(al){setTimeout(function(){var an=al.target,am=Y.onTabChange||function(){};if(Y._currentTabIndex!==an._tabIndex){am.call(Y,an.get("text"),an._tabIndex);Y._showTab(an._tabIndex);}},1);});}});ab.ColorPickerWidget=function(al,Y){this._config=Y;this.colorPickerNode=al.createNode("div","colorpicker",ab.NS);ab.ColorPickerWidget.superclass.constructor.apply(this,arguments);this._createWidgetUI();this._addAPIFunctions();this._bindUI();return this.colorPickerNode;};f.extend(ab.ColorPickerWidget,ab,{_createWidgetUI:function(){var al=this,ap,an,am,Y,ao=al._config.length;for(ap=0;ap<ao;ap++){an=f.Node.create("<div></div>").addClass("color-option");am=al._config[ap];Y=am.color;an._colorInfo=am;if(Y==="none"){an.addClass("nocolor");an.setStyle("backgroundColor","transparent");}else{an.setStyle("backgroundColor",Y);}al.colorPickerNode.append(an);}},_addAPIFunctions:function(){var al=this,Y=al.colorPickerNode;Y._setNodeSelected=function(am){am.get("parentNode").all(".selected").removeClass("selected");am.addClass("selected");};Y.setSelectedColor=function(an){var ao=Y.get("childNodes"),am=ao.size(),ap;an=an.toLowerCase();Y.all(".selected").removeClass("selected");for(ap=0;ap<am;ap++){var aq=ao.item(ap);if(aq._colorInfo.color.toLowerCase()===an){Y._setNodeSelected(aq);break;}}};},_bindUI:function(){var Y=this.colorPickerNode;Y.delegate("click",function(an){var am=an.target._colorInfo,al=f.bind((Y.onColorSelect||function(){}),Y);Y._setNodeSelected(an.target);al(am.color,am.colorName);},".color-option");}});function t(){t.superclass.constructor.apply(this,arguments);}t.NAME="HotkeyOverlay";t.NS="hotkeyoverlay";t.ATTRS={};f.extend(t,f.Base,{log:function(al,Y){},initializer:function(Y){this._view=Y.view;},render:function(am){var Y=this,an=Y._view,al=t.NS;Y._node=am;Y.container=an.createNode("div","container",al);Y.wrapper=an.createNode("div","table-wrapper",al);Y.table=an.createNode("table","table",al);Y.close=an.createNode("button","close",al);Y.title=an.createNode("h2","title",al);Y._tb=f.Node.create("<tbody></tbody>");Y.close.set("innerHTML","X");Y.close.setAttribute("alt","Close Hotkey Menu");Y.close.addClass("close");Y.title.set("innerHTML","Hotkey Menu");Y.title.setAttribute("tabIndex",-1);Y._appendRow("Question Mark:","Open Hotkey Menu");Y._appendRow("Esc:","Close Menu");Y._appendRow("Shift + Space Bar:","Play / Pause");Y._appendRow("Ctrl + Shift + M:","Mute / Un-Mute");
Y._appendRow("Ctrl + Shift + N:","Next Video");Y.table.append(Y._tb);Y.wrapper.append(Y.title);Y.wrapper.append(Y.table);Y.wrapper.append(Y.close);Y.container.append(Y.wrapper);am.append(Y.container);Y._bindUI();setTimeout(function(){Y.container.addClass("yui3-videoplayer-show");},10);},_bindUI:function(){var Y=this._view;this.close.on("click",function(al){Y.set("activeOverlay",undefined);al.preventDefault();});},_appendRow:function(al,Y){var ao=f.Node.create('<td class="label" align="left"></td>'),am=f.Node.create('<td class="value" align="left"></td>'),an=f.Node.create("<tr></tr>");ao.set("innerHTML",al);am.set("innerHTML",Y);an.append(ao);an.append(am);this._tb.append(an);},destructor:function(){this.container.removeClass("yui3-videoplayer-show");var Y=this;setTimeout(function(){Y.container.remove();},400);}});f.namespace("VideoPlatform").HotkeyOverlay=t;function F(){F.superclass.constructor.apply(this,arguments);}F.NAME="Controls";F.NS="controls";F.ATTRS={};F.VOLUME_INCREMENT=0.1;F.SEEK_INCREMENT=5;F.VISUAL_SEEK_COLLAGE_ROWS=10;F.VISUAL_SEEK_COLLAGE_COLS=10;F.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION=480;f.extend(F,f.Base,{initializer:function(Y){var al=document.createElement("p").style;this._model=Y.model;this._controller=Y.controller;this._view=Y.view;this.i18n=this._controller.getStrings();this._controller.setControlsObj(this);this.controlsAPI=new u(this._model,this._controller);this.playlistAPI=new U(this._model,this._controller);this._isIE9OrEarlier=f.UA.ie>0&&f.UA.ie<10;this._transitionsSupported="transition" in al||"WebkitTransition" in al||"MozTransition" in al||"msTransition" in al||"OTransition" in al;this._node=null;this._controlsNode=null;this._barNode=null;this._playPauseNode=null;this._seekNode=null;this._seekBufferNode=null;this._seekProgressNode=null;this._seekHandleNode=null;this._seekTimeNode=null;this._settingsNode=null;this._accessibilityCCIconNode=null;this._settingsPanelNode=null;this._sizeSmallNode=null;this._sizeFullNode=null;this._volumeBarsNode=null;this._muteNode=null;this._ccOnNode=null;this._ccOffNode=null;this._captionOption=null;this._idleTimer=null;this._settingsPanelTimer=null;this._settingsTimer=null;this._totalSecs=null;if(f.UA.gecko>0&&f.UA.os==="macintosh"){this._lastPlayTime=0;}this._settingsContextMenuIsOpen=false;},destructor:function(){},render:function(aw){var ar=this,an=null,Y=null,aq=null,ay=null,aC=null,am=null,aB=null,aD=null,ax=null,al=null,ap=null,az=null,ao=null,av=null,at=this._model.get("chromeless"),aA=null,au=null;ar._playerNode=f.one(".yui3-videoplayer-main");ar._node=aw;ar._barNode=ar._createNode("div","bar");ar._seekNode=ar._createNode("div","seek");an=ar._createNode("div","main");ar._playPauseNode=ar._addButton("item play-pause yui3-videoplayer-transparent","","span");an.append(ar._playPauseNode);aq=ar._createNode("div","slider");ar._sliderNode=aq;ar._seekBufferNode=ar._createNode("div","buffer");aq.append(ar._seekBufferNode);ar._seekProgressNode=ar._createNode("div","progress");aq.append(ar._seekProgressNode);ar._seekHandleNode=ar._createNode("div","handle");aq.append(ar._seekHandleNode);ar._seekNode.append(aq);ar._seekTimeNode=ar._createNode("div","time show");ar._seekNode.append(ar._seekTimeNode);if(ar._model.get("isVisualSeekEnabled")===true){ar._visualSeekNode=ar._createNode("div","vseek");ar._visualSeekThumbNode=ar._createNode("div","vseek-thumb");ar._visualSeekNode.append(ar._visualSeekThumbNode);ar._visualSeekTimeNode=ar._createNode("div","vseek-time");ar._visualSeekNode.append(ar._visualSeekTimeNode);ar._seekNode.append(ar._visualSeekNode);}ar._settingsNode=ar._createNode("div","item settings yui3-videoplayer-transparent");ar._settingsNode.append(ar._createNode("span",""));ar._accessibilityCCIconNode=ar._createNode("div","accessibility-cc-icon disable");Y=ar._createNode("div","aux");Y.append(ar._settingsNode);aC=ar._createNode("tbody","");aC.append(ar._getShareEmbedNode());aC.append(ar._getEmbedLinkNode());aC.append(ar._getEmbedCodeNode());aC.append(ar._getClosedCaptionsNode());if(ar._model.get("rendererType")==="html"){aC.append(ar._getResolutionNode());}ar._sizeSmallNode=ar._addButton("small on","");ar._sizeFullNode=ar._addButton("full","");aD=ar._createNode("td","");aD.append(ar._sizeSmallNode);aD.append(ar._sizeFullNode);ax=ar._createNode("th","");ax.set("innerHTML",this.i18n.SIZE_LC);aB=ar._createNode("tr","size");aB.append(ax);aB.append(aD);aC.append(aB);ao=ar._createNode("div","bars");ao.append(ar._createNode("div","bar-1"));ao.append(ar._createNode("div","bar-2"));ao.append(ar._createNode("div","bar-3"));ao.append(ar._createNode("div","bar-4"));ao.append(ar._createNode("div","bar-5"));ao.append(ar._createNode("div","bar-6"));ar._volumeBarsNode=ao;ar._muteNode=ar._addButton("mute","Mute");ar._yahooLogoNode=ar._getYahooLogoNode();az=ar._createNode("td","");ar._muteNode=ar._addButton("mute","","span");az.append(ar._muteNode);az.append(ar._volumeBarsNode);az.append(ar._yahooLogoNode);ap=ar._createNode("th","");ap.set("innerHTML",this.i18n.VOLUME_LC);al=ar._createNode("tr","volume");al.append(ap);al.append(az);aC.append(al);ay=ar._createNode("table","");ay.append(aC);ar._settingsPanelNode=ar._createNode("div","settings-panel");am=ar._createNode("div","settings-panel-box embed-hidden yui3-videoplayer-transparent");ar._settingsPanelNode.append(ay);am.append(ar._settingsPanelNode);ar._barNode.append(an);ar._barNode.append(ar._seekNode);ar._barNode.append(Y);if(this._isIE9OrEarlier){av=ar._createNode("div","ie-gradient");ar._node.append(av);}ar._node.append(ar._barNode);ar._node.append(ar._accessibilityCCIconNode);ar._node.append(am);if(f.UA.mobile!==null||at===true){aw.setStyle("display","none");}au=ar._node.ancestor();if(au){aA=ar._createNode("div","accessible-controls");aA.append(ar._addButton("play","Play"));aA.append(ar._addButton("seek-back","Seek Back 5 Seconds"));aA.append(ar._addButton("seek-forward","Seek Forward 5 Seconds"));aA.append(ar._addButton("volume-up","Volume Up"));aA.append(ar._addButton("volume-down","Volume Down"));
aA.append(ar._addButton("mute","Mute"));aA.append(ar._addButton("next-video","Next Video"));aA.append(ar._addButton("hotkey-menu","Open Hotkey Menu"));aA.setStyle("display","none");ar._node.insert(aA,"before");}if(ar._isIE9OrEarlier){ar._node.all("*").setAttribute("unselectable","on");}ar._bindUI();ar._syncUI();setTimeout(function(){ar._view._node.one(".accessible-controls").setStyle("display","block");},300);ar._show();},inAdContext:function(){var Y=this._model.get("yvapState");if((Y===YVAPEvents.AD_START)||(Y===YVAPEvents.AD_PROGRESS)){return true;}return false;},_play:function(){if(!this._model.get("isPlaying")){this.controlsAPI.play();}else{this.controlsAPI.pause();}},_volumeUp:function(){this.controlsAPI.setVolume(this.controlsAPI.getVolume()+F.VOLUME_INCREMENT);},_volumeDown:function(){this.controlsAPI.setVolume(this.controlsAPI.getVolume()-F.VOLUME_INCREMENT);},_nextVideo:function(){var Y=this.playlistAPI.getPosition(),al=this.playlistAPI.getSize()-1;if(Y<al){this.playlistAPI.setPosition(Y+1);}},_hotkeyMenu:function(){var Y=this._view,al;if(Y.get("activeOverlay")&&Y.get("activeOverlay").name==="HotkeyOverlay"){Y.set("activeOverlay",undefined);}else{al=new t({view:Y});Y.set("activeOverlay",al);}},_openCCOptionsEditor:function(){var Y=this._view,al;al=new A({model:this._model,controller:this._controller,view:Y});this._hideSettings();al.showCCOptions();},registerControlHoverEffect:function(){var Y=this,al=Y._view._node;al.on("mousemove",Y._show,Y);al.on("mouseleave",Y._hide,Y);Y._controlsNode.on("hover",Y._controlsMouseEnter,Y._controlsMouseLeave,Y);},_bindUI:function(){var av=this,am=av._model,ap=av._controller,ar=av._model.get("rendererType"),an=f.one(document),at=av._view._node,al=null,aq=null,au=null,ao=null,Y=null;av._controlsNode=av._node;av._barNode=av._controlsNode.one(".bar");al=av._barNode.one(".main");aq=av._barNode.one(".aux");av._settingsPanelNode=av._controlsNode.one(".settings-panel-box");av._hotkeyNode=at.one(".hotkey-menu");av._idleTimer=null;av._settingsPanelTimer=null;av._settingsTimer=null;av._bufferTimer=null;av._bufferTimerStarted=false;av._controlsNode.addClass("hide");an.on("mousemove",function(aw){av._seekDragChange(aw);av._volumeDragChange(aw);},this);an.on("mouseup",function(aw){av._seekDragEnd(aw);av._volumeDragEnd(aw);},this);av.registerControlHoverEffect();av._playPauseNode.on("click",av._playPauseChange,av);av._seekNode.on("mouseenter",function(){av._seekTimeNode.addClass("show");});av._settingsPanelNode.on("hover",null,av._hideSettingsAfterDelay,av);av._settingsPanelNode.on("mouseenter",av._stopSettingsPanelTimer,av);if(f.Lang.isNumber(f.UA.gecko)&&(f.UA.gecko>0)){av._settingsPanelNode.on("contextmenu",av._showSettingsContextMenu,av);}av._settingsNode.on("click",av._settingsClick,av);av._accessibilityCCIconNode.on("click",av._accessibilityCCIconClick,av);av._sizeSmallNode.on("click",av._sizeSmallClick,av);av._sizeFullNode.on("click",av._sizeFullClick,av);am.after("rendererReadyChange",function(){if(!av._model.get("rendererReady")){return;}av._controller._renderer.after(af.FULLSCREEN_ENTER,av._setFullSizeButton,av);av._controller._renderer.after(af.FULLSCREEN_EXIT,av._setSmallSizeButton,av);},av);av._muteNode.on("click",av._muteClick,av);av._volumeBarsNode.on("mousedown",av._volumeDragStart,av);av._seekNode.on("mousedown",av._seekDragStart,av);if(am.get("isVisualSeekEnabled")===true){Y=av._sliderNode;Y.on("mouseenter",av._onVisualSeekMouseEnter,this);Y.on("mouseleave",av._onVisualSeekMouseLeave,this);Y.on("mousemove",av._moveVisualSeek,this);}am.after("fullscreenChange",function(){if(ar==="html"||(av._playerNode.get("offsetWidth")<F.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!av._model.get("isOffNetwork"))){av._captionOption.addClass("disable");}else{av._captionOption.removeClass("disable");}});am.after("durationChange",function(aw){av._updateDuration(aw.newVal);});am.after("isPlayingChange",function(){av._setShareUrlEmbedCode();av._volumeBarsChange(av.controlsAPI.getVolume());av._updateSeekBarState();av._syncUI();if(am.get("rendererType")==="html"&&am.get("currentMedia")){av._updateResolutions();av._setCurrentResolution();}if(am.get("isVisualSeekEnabled")===true){av._updateVisualSeek();}},av);am.after("streamBitrateChange",function(){if(am.get("rendererType")==="html"&&am.get("streamBitrate")){av._setCurrentResolution();}},av);am.after("yvapStateChange",function(aw){if(aw.newVal===YVAPEvents.AD_START){av._setShareUrlEmbedCode();av._volumeBarsChange(av.controlsAPI.getVolume());av._syncUI();av._hideVisualSeek();}},av);am.after("ccAvailableChange",function(){if(av._accessibilityCCIconNode){if(am.get("ccAvailable")){av._accessibilityCCIconNode.removeClass("disable");}else{av._accessibilityCCIconNode.addClass("disable");}}});am.after("muteChange",function(){av._syncUI();},av);am.after("currentTimeChange",function(aw){av.playTimeChange(aw.newVal,av._totalSecs);if(am.get("isPlaying")&&av._bufferTimerStarted===false){av._bufferTimerStarted=true;av._startBufferTimer();}},av);am.after("adPlaybackPositionChange",function(aw){av.playTimeChange(aw.newVal,av.adTotalSecs);},av);am.after("currentMediaChange",function(){av._setShareUrlEmbedCode();av._updateSeekBarState();av._bufferTimeChange(0);if(am.get("rendererType")==="html"){am.get("currentMedia").after("selectableStreamsChange",function(){av._updateResolutions();am.set("streamBitrate",null);});}if(am.get("isVisualSeekEnabled")===true){av._resetVisualSeek();}},av);am.after("ccSettingsChange",function(aw){if((!f.Lang.isValue(aw.subAttrName)||aw.subAttrName==="ccSettings.show")&&f.Lang.isValue(aw.newVal)&&f.Lang.isValue(aw.newVal.show)){av._updateClosedCaptionButtons(aw.newVal.show);}},av);am.after("playerStateChange",function(aw){if(aw.newVal==="playbackComplete"){av._clearBufferTimer();}},av);am.after("widthChange",function(aw){if(ar==="html"||(av._playerNode.get("offsetWidth")<F.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!av._model.get("isOffNetwork"))){av._captionOption.addClass("disable");}else{av._captionOption.removeClass("disable");
}},av);av._settingsPanelNode.setStyle("display","none");if(f.UA.mobile!==null){av._settingsPanelNode.one(".volume").addClass("disable");}if(f.UA.mobile===null&&am.get("rendererType")==="html"){ao=at.one(".yui3-videoplayer-video");ao.on("click",av._playPauseChange,av);}av._settingsPanelNode.one(".tumblr-icon").on("click",function(){ap.fireUIInteractBeacon("ctrl-Tumblr");});av._settingsPanelNode.one(".fb-icon").on("click",function(){ap.fireUIInteractBeacon("ctrl-Facebook");});av._settingsPanelNode.one(".twitter-icon").on("click",function(){ap.fireUIInteractBeacon("ctrl-Twitter");});av._settingsPanelNode.one(".mail-icon").on("click",function(){ap.fireUIInteractBeacon("ctrl-Mail");});av._settingsPanelNode.one(".y-logo").on("click",function(){ap.fireUIInteractBeacon("yahoo-logo");});av._settingsPanelNode.one(".cc-options").on("click",av._ccOptionsClick,av);av._bindAccessibleControls();av._startIdleTimer();if(!H.isFullscreenSupported()){au=av._settingsPanelNode.one(".size");au.addClass("disable");}},_syncUI:function(){var am=this,Y=am._model,al=am._view;setTimeout(function(){if(al.get("activeOverlay")&&al.get("activeOverlay").name==="HotkeyOverlay"){am._hotkeyNode.set("innerHTML","Close Hotkey Menu");}else{am._hotkeyNode.set("innerHTML","Open Hotkey Menu");}if(!am.controlsAPI.getMute()){am._muteNode.removeClass("on");}else{am._muteNode.addClass("on");}},50);if(Y.get("isPlaying")){am._playPauseNode.removeClass("play");am._playPauseNode.addClass("pause");}else{am._playPauseNode.removeClass("pause");am._playPauseNode.addClass("play");}am._syncSizeButtons();},_startIdleTimer:function(){var Y=this;if(Y._idleTimer){clearTimeout(Y._idleTimer);Y._idleTimer=null;}if(Y._seekNode.hasClass("drag")||Y._controlsNode.hasClass("active")){return;}Y._idleTimer=setTimeout(function(){Y._hide();Y._idleTimer=null;},3000);},_startBufferTimer:function(){var Y=this,al=Y._controller.getRenderer();Y._bufferTimer=setInterval(function(){if(Y._model.get("changingResolution")){return;}var an=al.getBuffered(),am;if(an){am=Math.floor(an.end);}else{Y._clearBufferTimer();return;}Y._bufferTimeChange(am);},1000);},_clearBufferTimer:function(){var Y=this;Y._bufferTimerStarted=false;if(Y._bufferTimer){clearInterval(Y._bufferTimer);}},_show:function(){var Y=this;if(!Y._controlsNode.hasClass("show")){Y._barNode.removeClass("disable");if(Y._transitionsSupported){setTimeout(function(){Y._controlsNode.addClass("show");Y._model.set("showControls",true);},1);}else{Y._controlsNode.addClass("show");Y._model.set("showControls",true);}}Y._startIdleTimer();},_hide:function(){var al=this,Y=al._settingsContextMenuIsOpen;al._settingsContextMenuIsOpen=false;if(Y){al._hideSettingsAfterDelay();return;}if(al._seekNode.hasClass("drag")||al._controlsNode.hasClass("active")){return;}if(al._idleTimer){clearTimeout(al._idleTimer);al._idleTimer=null;}if(al._seekTimeNode.hasClass("show")&&al._transitionsSupported){al._seekTimeNode.removeClass("show");setTimeout(function(){al._hideControls();},700);}else{al._hideControls();}},_hideControls:function(){var Y=this;if(Y._idleTimer||Y._controlsNode.hasClass("active")){return;}Y._controlsNode.removeClass("show");Y._hideSettings();if(Y._transitionsSupported){setTimeout(function(){if(!Y._controlsNode.hasClass("show")){Y._barNode.addClass("disable");Y._seekTimeNode.addClass("show");Y._model.set("showControls",false);}},200);}else{Y._barNode.addClass("disable");Y._seekTimeNode.addClass("show");Y._model.set("showControls",false);}},_controlsMouseEnter:function(){this._controlsNode.addClass("active");},_controlsMouseLeave:function(){this._controlsNode.removeClass("active");this._startIdleTimer();},_bindAccessibleControls:function(){var au=this,al=au._view._node.one(".accessible-controls"),aq=al.one(".play"),at=al.one(".seek-back"),ap=al.one(".seek-forward"),ao=al.one(".volume-up"),an=al.one(".volume-down"),Y=al.one(".mute"),am=al.one(".next-video"),ar=al.one(".hotkey-menu");aq.on("click",function(){au._play();if(au._model.get("isPlaying")){aq.set("innerHTML","Pause");}else{aq.set("innerHTML","Play");}});at.on("click",function(){au.controlsAPI.seek(au.controlsAPI.getCurrentTime()-F.SEEK_INCREMENT);});ap.on("click",function(){au.controlsAPI.seek(au.controlsAPI.getCurrentTime()+F.SEEK_INCREMENT);});ao.on("click",function(){au._volumeUp();});an.on("click",function(){au._volumeDown();});Y.on("click",function(){au.controlsAPI.setMute(!au.controlsAPI.getMute());if(!au.controlsAPI.getMute()){Y.set("innerHTML","Mute");}else{Y.set("innerHTML","Unmute");}});am.on("click",function(){au._nextVideo();});ar.on("click",function(){au._hotkeyMenu();});au._syncUI();},_updateDuration:function(Y){this._totalSecs=Y;},_updateSeekBarState:function(){var Y=this,al=Y._model.get("currentMedia"),am=Y._controller.getRenderer().getDuration();if(al){if(al.get("isLive")===true||al.get("isRTX")===true||am===Infinity||am===0){Y._seekNode.addClass("disable");}else{Y._seekNode.removeClass("disable");}}},enableMaxMin:function(Y){return Y;},_bufferTimeChange:function(Y){var al=this,am;if(!al._totalSecs){al._clearBufferTimer();return;}if(typeof Y==="undefined"||Y===null){al._clearBufferTimer();return;}if(Y>=Math.floor(al._totalSecs)){Y=al._totalSecs;}am=Y/al._totalSecs;al._seekBufferNode.setStyle("width",(am*100)+"%");},setAdDuration:function(Y){if(Y){this.adTotalSecs=Y;}},playTimeChange:function(an,Y){if(!Y){return;}if(f.UA.gecko>0&&f.UA.os==="macintosh"){if(an>this._lastPlayTime&&an-this._lastPlayTime<=0.25){return;}this._lastPlayTime=an;}if(an>Y){an=Y;}if(typeof an!=="undefined"){var al=this,am=an/Y;if(!isNaN(am)){al._seekProgressReposition(am);if(!al._seekNode.hasClass("drag")){al._setSeekTime(an,Y);al._seekHandleReposition(am);}}}},_setSeekTime:function(ao,Y){if(isNaN(Y)||Y===Number.POSITIVE_INFINITY){return;}var al=this,am=al._formatSecs(Y-Math.min(ao,Y)),an=am.length*12;al._seekTimeNode.set("innerHTML",am);al._seekTimeNode.setStyle("width",an+"px");al._seekTimeNode.setStyle("marginLeft","-"+Math.floor(an/2)+"px");},_seekProgressReposition:function(Y){this._seekProgressNode.setStyle("width",Y*100+"%");
},_seekDragStart:function(al){var Y=this;if(Y._seekNode.hasClass("disable-drag")){return;}Y._seekNode.addClass("drag");f.one("body").addClass("yui3-videoplayer-drag");Y._seekDragChange(al);Y._controller.fireUIInteractBeacon("ctrl-Seek");},_seekDragEnd:function(al){var Y=this;if(Y._seekNode.hasClass("disable-drag")){return;}Y._seekNode.removeClass("drag");f.one("body").removeClass("yui3-videoplayer-drag");Y._startIdleTimer();if(Y._isVisualSeekEnabled()&&(Y._sliderNode.contains(al.target)===false)){Y._hideVisualSeek();}},_seekDragChange:function(an){if(!this._seekNode.hasClass("drag")||this._seekNode.hasClass("disable-drag")){return;}var Y=this,am=an.pageX-Y._seekNode.getXY()[0],al=Math.max(0,Math.min(Y._seekNode.get("offsetWidth"),am))/Y._seekNode.get("offsetWidth"),ao=al*Y._totalSecs;Y._setSeekTime(ao,Y._totalSecs);Y._seekHandleReposition(al);Y._seekProgressReposition(al);Y.controlsAPI.seek(ao);if(Y._model.get("isVisualSeekEnabled")===true){Y._moveVisualSeek(an);}},_seekHandleReposition:function(am){var al=this,Y=(am*100)+"%";al._seekHandleNode.setStyle("left",Y);al._seekTimeNode.setStyle("left",Y);},_formatSecs:function(al){var an=Math.floor(al/3600),Y=Math.floor((al-an*3600)/60),am=Math.floor(al-(an*3600)-(Y*60));if(am<10){am="0"+am;}if(an>0){if(Y<10){Y="0"+Y;}return an+":"+Y+":"+am;}else{return Y+":"+am;}},_muteChange:function(){var Y=this;if(Y._muteNode.hasClass("disable")){return;}if(Y._muteNode.hasClass("on")){Y._muteOff();}else{Y._muteOn();}},_muteOff:function(){var Y=this;Y._muteNode.removeClass("on");if(Y.inAdContext()){Y._controller._renderer.onMuteChange(false);}Y.controlsAPI.setMute(false);Y._volumeBarsChange(Y.controlsAPI.getVolume());},_muteOn:function(){var Y=this;Y._muteNode.addClass("on");if(Y.inAdContext()){Y._controller._renderer.onMuteChange(true);}Y.controlsAPI.setMute(true);Y._volumeBarsChange(0);},_volumeBarsChange:function(ao){var al=this,Y,an,am=6;if(al.controlsAPI.getMute()){Y=0;}else{Y=Math.floor(ao*am);}for(an=1;an<=Y;an++){al._volumeBarsNode.one(".bar-"+an).addClass("on");}for(an=Y+1;an<=am;an++){al._volumeBarsNode.one(".bar-"+an).removeClass("on");}},volumeChange:function(al){var Y=this;if(al===0){Y._muteOn();}else{Y.controlsAPI.setVolume(al);if(Y.controlsAPI.getMute()){Y._muteOff();}Y._volumeBarsChange(al);}},_getVolumeFromPixelPosition:function(al){var Y=this._volumeBarsNode.get("clientWidth")-5;al=Math.min(Y,Math.max(0,al));return al/Y*1;},_volumeDragStart:function(al){var Y=this;Y._volumeBarsNode.addClass("drag");Y._volumeDragChange(al);Y._controller.fireUIInteractBeacon("ctrl-Volume");},_volumeDragChange:function(al){var Y=this;if(!Y._volumeBarsNode.hasClass("drag")){return;}Y.volumeChange(Y._getVolumeFromPixelPosition(al.pageX-Y._volumeBarsNode.getXY()[0]));},_volumeDragEnd:function(){var Y=this;if(!Y._volumeBarsNode.hasClass("drag")){return;}Y._volumeBarsNode.removeClass("drag");Y._startIdleTimer();},_playPauseChange:function(){var al=this,Y=al._controller;if(al._playPauseNode.hasClass("disable")){return;}if(al._playPauseNode.hasClass("play")){al._playPauseNode.removeClass("play");al._playPauseNode.addClass("pause");Y.fireUIInteractBeacon("ctrl-Play");}else{al._playPauseNode.removeClass("pause");al._playPauseNode.addClass("play");Y.fireUIInteractBeacon("ctrl-Pause");}al._play();},_stopSettingsPanelTimer:function(){var Y=this;if(Y._settingsPanelTimer){clearTimeout(Y._settingsPanelTimer);Y._settingsPanelTimer=null;}},_showSettings:function(){var Y=this,al=Y._model.get("rendererType");Y._stopSettingsPanelTimer();if(al==="html"||(Y._playerNode.get("offsetWidth")<F.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!Y._model.get("isOffNetwork"))){Y._captionOption.addClass("disable");}else{Y._captionOption.removeClass("disable");}if(Y._settingsNode.hasClass("on")||Y._seekNode.hasClass("drag")){return;}Y._settingsNode.addClass("on");Y._settingsPanelNode.show("fadeIn",{duration:0.1});Y._controller.fireUIInteractBeacon("ctrl-SettingsView");Y._controller.setSettingsMenuVisibility(true);},_showSettingsAfterDelay:function(){var Y=this;Y._settingsTimer=setTimeout(function(){Y._showSettings();},300);},_hideSettings:function(){var Y=this;if(!Y._settingsNode.hasClass("on")){return;}Y._settingsNode.removeClass("on");Y._settingsPanelNode.addClass("embed-hidden");Y._settingsPanelNode.hide("fadeOut",{duration:0.2});Y._controller.setSettingsMenuVisibility(false);},_hideSettingsAfterDelay:function(){var Y=this;if(Y._settingsTimer){clearTimeout(Y._settingsTimer);Y._settingsTimer=null;}Y._stopSettingsPanelTimer();Y._settingsPanelTimer=setTimeout(function(){Y._hideSettings();},1500);},_showSettingsContextMenu:function(){var Y=this;Y._settingsContextMenuIsOpen=true;},_settingsClick:function(){var Y=this;if(Y._settingsNode.hasClass("on")){Y._hideSettings();}else{Y._showSettings();}},_accessibilityCCIconClick:function(){var Y=this;if(!Y._settingsNode.hasClass("on")){Y._showSettings();}Y._controller.fireUIInteractBeacon("cc-hot-btn");},_sizeSmallClick:function(){var Y=this;if(!Y._sizeFullNode.hasClass("on")){return;}if(Y.inAdContext()){Y._controller._renderer.setFullscreen(false);}else{Y.controlsAPI.setFullscreen(false);}Y._controller.fireUIInteractBeacon("ctrl-Fullscreen-off");},_sizeFullClick:function(){var Y=this;if(!Y._sizeSmallNode.hasClass("on")){return;}if(Y.inAdContext()){Y._controller._renderer.setFullscreen(true);}else{Y.controlsAPI.setFullscreen(true);}Y._controller.fireUIInteractBeacon("ctrl-Fullscreen-on");},_setSmallSizeButton:function(){var Y=this;Y._sizeFullNode.removeClass("on");Y._sizeSmallNode.addClass("on");},_setFullSizeButton:function(){var Y=this;Y._sizeSmallNode.removeClass("on");Y._sizeFullNode.addClass("on");},_getClosedCaptionsNode:function(){var at=this,av=at.i18n,am=at._createNode("tr","captions"),ao=at._createNode("th","caption-hdr"),aq=at._createNode("td","caption-buttons"),al=at._addButton("text cc-feedback",av.CAPTIONS_FEEDBACK),an="en-us",ar="us",ap=at._model.get("rendererType"),Y=at._playerNode?at._playerNode.get("offsetWidth"):0,au;at._captionOption=at._addButton("text cc-options",av.CAPTIONS_OPTIONS);
aq.append(at._addButton("text cc-on",av.ON_LC));aq.append(at._addButton("text cc-off on",av.OFF_LC));aq.append(at._captionOption);aq.append(al);ao.set("innerHTML",av.CAPTIONS_LC);am.append(ao);am.append(aq);if(ap==="html"||(Y<F.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&!at._model.get("isOffNetwork"))){at._captionOption.addClass("disable");}at._ccOnNode=aq.one(".cc-on");at._ccOffNode=aq.one(".cc-off");at._ccOnNode.on("click",at._ccOnClick,at);at._ccOffNode.on("click",at._ccOffClick,at);at._updateClosedCaptionButtons(at._model.get("ccSettings.show"));au=function(){at._controller.fireUIInteractBeacon("ctrl-CC-feedback");window.open(f.Lang.sub(r.CC_COMPLAINTS_URL_TEMPLATE,{region:ar,lang:an.toLowerCase()}));};al.on("click",au);return am;},_ccOnClick:function(){var Y=this;if(!Y._ccOffNode.hasClass("on")){return;}Y.controlsAPI.displayClosedCaptions(true);Y._controller.fireUIInteractBeacon("ctrl-CC-on");},_ccOffClick:function(){var Y=this;if(!Y._ccOnNode.hasClass("on")){return;}Y.controlsAPI.displayClosedCaptions(false);Y._controller.fireUIInteractBeacon("ctrl-CC-off");},_ccOptionsClick:function(){var al=this,ap=al._view._node,an=al._playerNode.get("offsetWidth"),am=al._model.get("currentMedia"),ao=am.get("shareUrl"),Y=al._controlsNode;if(al._model.get("isOffNetwork")&&an<F.MIN_WIDTH_FOR_CAPTION_CUSTOMIZATION&&ao){window.open(ao,"_blank");return;}al._controller.fireUIInteractBeacon("ctrl-cc-options");Y.removeClass("show");al._barNode.addClass("disable");Y.removeClass("active");al._model.set("showControls",false);Y.detach("hover",al._controlsMouseEnter,al._controlsMouseLeave,al);ap.detach("mousemove",al._show,al);ap.detach("mouseleave",al._hide,al);al._openCCOptionsEditor();},_updateClosedCaptionButtons:function(al){var Y=this;if(al){Y._ccOnNode.addClass("on");Y._ccOffNode.removeClass("on");}else{Y._ccOffNode.addClass("on");Y._ccOnNode.removeClass("on");}},enableCloseCaptions:function(Y){var al=this._settingsPanelNode.one(".captions");if(Y){al.removeClass("disable");}else{al.addClass("disable");}},_tumblrShareUrl:function(al,ap,an){var ao="https://www.tumblr.com/share/",am=[],aq="",Y="";if(ap!==""||(ap.length<150&&ap.length<an.length&&an.indexOf(ap)!==-1)){aq='<header><b><a href="'+al+'">'+ap+"</a></b></header><br/><br/>";}Y="<article>"+aq+"<section>"+an+"</section></article>";Y=(an.length>0)?an:ap;ao+="video?";am.push("embed="+encodeURIComponent(al));am.push("caption="+encodeURIComponent(Y));ao+=am.join("&");return ao;},_setShareUrlEmbedCode:function(){var av=this,al=av._model.get("currentMedia"),aA=av._model.get("config"),aE=al.get("title")||"",ar=H.stripHtmlFromString(aE),Y=ar,aC=al.get("shareUrl"),ax=al.get("description")||"",ao=H.stripHtmlFromString(ax),aF=al.get("embedCode"),aq=al.get("embeddable"),az=ao,an=av._settingsPanelNode,aD=an.one(".tumblr-icon"),at=an.one(".fb-icon"),au=an.one(".twitter-icon"),aw=an.one(".mail-icon"),am=an.one(".y-logo"),ap=an.one(".embed-link-text"),ay=an.one(".embed-code-text");if(aq===undefined||(!aC&&!aF)||this.inAdContext()){an.one(".share-embeds").hide();return;}if(Y.length>100){Y=Y.substr(0,97)+"...";}an.one(".share-embeds").show();if(aC){var aB={title:encodeURIComponent(aE),titleNoHtml:ar,shareUrl:encodeURIComponent(aC),descNoHtml:encodeURIComponent(ao||""),bodyText:az||"",twitterTitle:encodeURIComponent(Y)};aD.set("target","_blank");aD.set("href",av._tumblrShareUrl(aC,aE,ax));at.set("target","_blank");at.set("href",f.substitute(r.FACEBOOK_URL_TEMPLATE,aB));au.set("target","_blank");au.set("href",f.substitute(r.TWITTER_URL_TEMPLATE,aB));aw.set("href",f.substitute(r.MAIL_URL_TEMPLATE,aB));am.set("target","_blank");am.set("href",aC);ap.set("value",aC).setAttribute("readonly","readonly");}if(!av._model.get("isOffNetwork")||(aA&&aA.ybang!==undefined&&aA.ybang===false)){am.hide();}if(aq===true&&aF){ay.set("value",aF).setAttribute("readonly","readonly");an.one(".embed-valid-code").show();an.one(".embed-error").hide();}else{an.one(".embed-valid-code").hide();an.one(".embed-error").show();}},_getShareEmbedNode:function(){var am=this,an=am.i18n,Y=am._createNode("tr","share-embeds"),ap=am._createNode("td","share-embeds-hdr"),ao=am._createNode("td","share-embeds-buttons"),al=null;al=am._addButton("button embed-button",an.EMBED_UCF);al.on("click",am._toggleEmbedCode,am);ao.append(am._createNode("a","button tumblr-icon",""));ao.append(am._createNode("a","button fb-icon",""));ao.append(am._createNode("a","button twitter-icon",""));ao.append(am._createNode("a","button mail-icon",""));ao.append(al);ap.set("innerHTML",an.SHARE_LC);Y.append(ap);Y.append(ao);return Y;},_getYahooLogoNode:function(){var Y=this;return Y._createNode("a","button y-logo");},_getEmbedLinkNode:function(){var an=this,ap=an._createNode("tr","embed-link"),ar=an._createNode("th",""),ao=an._createNode("td",""),Y=an._createNode("div","text",""),al=an._createNode("input","text embed-link-text",""),aq=an._createNode("span","text embed-link-button",""),am=an._addButton("button embed-chainlink-button","");aq.append(am);aq.on("click",an._onLinkClick,an);al.on("click",an._onLinkClick,an);Y.append(al);Y.append(aq);ao.append(Y);ar.set("innerHTML",an.i18n.LINK_LC);ap.append(ar);ap.append(ao);return ap;},_getResolutionNode:function(){var Y=this,am,al;am=Y._createNode("tr","resolution","");al="<th>resolution</th>"+"<td></td>";am.set("innerHTML",al);return am;},_onResolutionClick:function(al){var Y=this,an=Y._model.get("currentMedia").get("selectableStreams"),am;am=parseInt(al.currentTarget.getAttribute("data-res-id"),10);Y.controlsAPI.setResolution(am);Y._controller.fireUIInteractBeacon("sr-"+an[am].height+"p");},_updateResolutions:function(){var al=this,ao=al._model.get("currentMedia").get("selectableStreams"),am,Y,an;Y=al._settingsPanelNode.one(".resolution");if(!Y){return;}if(ao&&ao.length>1){an=ao.map(function(at,ap){var ar="res-"+ap,aq;if(ap===ao.length-1){ar+=" last";}if(at.height>=720){aq="<span class='hd-icon'></span>";}else{aq="";}return"<span class='"+ar+"' data-res-id="+ap+">"+at.height+"p"+aq+"</span>";}).join("");
am=al._settingsPanelNode.one(".resolution td");if(!am){return;}Y.show();am.set("innerHTML",an);al._settingsPanelNode.all(".resolution td > span").on("click",al._onResolutionClick,al);}else{Y.hide();}},_setCurrentResolution:function(){var Y=this,al=Y._model.get("streamBitrate"),an=Y._model.get("currentMedia").get("selectableStreams"),am;if(!an||an.length<=1){return;}an.forEach(function(ap,ao){if(ap.bitrate===al){am=ao;}});if(am!==undefined){Y._updateResolutionUI(am);}},_updateResolutionUI:function(am){var Y=this,al=Y._settingsPanelNode.one(".resolution td > span.res-"+am);Y._settingsPanelNode.all(".resolution td > span").removeClass("selected");if(al){al.addClass("selected");}},_getEmbedCodeNode:function(){var av=this,aw=av.i18n,ar=av._createNode("tr","embed-code"),Y=av._createNode("th",""),ap=av._createNode("td",""),am=av._createNode("div","text embed-valid-code",""),au=av._createNode("input","text embed-code-text",""),aq=av._createNode("span","text embed-code-button",""),an=av._addButton("button embed-chainlink-button",""),al=av._createNode("div","text embed-error",""),at=av._createNode("input","text embed-error-text",""),ao=aw.ERR_EMBED;aq.append(an);aq.on("click",av._onEmbedClick,av);au.on("click",av._onEmbedClick,av);am.append(au);am.append(aq);al.append(at);at.set("value",ao).setAttribute("readonly","readonly");ap.append(am);ap.append(al);Y.set("innerHTML",aw.EMBED_LC);ar.append(Y);ar.append(ap);return ar;},_onLinkClick:function(al){al.preventDefault();al.stopPropagation();var Y=this,am=Y._settingsPanelNode.one(".embed-link-text");am.select();Y._controller.fireUIInteractBeacon("ctrl-Link");},_onEmbedClick:function(al){al.preventDefault();al.stopPropagation();var Y=this,am=Y._settingsPanelNode.one(".embed-code-text");am.select();Y._controller.fireUIInteractBeacon("ctrl-EmbedLink");},_toggleEmbedCode:function(){this._settingsPanelNode.toggleClass("embed-hidden");this._controller.fireUIInteractBeacon("ctrl-Embed");},_muteClick:function(){var al=this,Y=al._controller;if(al._muteNode.hasClass("disable")){return;}if(al._muteNode.hasClass("on")){al._muteOff();Y.fireUIInteractBeacon("ctrl-Mute-off");}else{al._muteOn();Y.fireUIInteractBeacon("ctrl-Mute-on");}},_syncSizeButtons:function(){var Y=this;if(Y._model.get("fullscreen")){Y._sizeSmallNode.removeClass("on");Y._sizeFullNode.addClass("on");}else{Y._sizeFullNode.removeClass("on");Y._sizeSmallNode.addClass("on");}},seekEnable:function(Y){if(Y){this._seekNode.removeClass("disable");}else{this._seekNode.addClass("disable");}},seekDragEnable:function(Y){if(Y){this._seekNode.removeClass("disable-drag");}else{this._seekNode.addClass("disable-drag");}},playPauseEnable:function(Y){if(Y){this._playPauseNode.removeClass("disable");}else{this._playPauseNode.addClass("disable");}},_addButton:function(Y,am,ao){var al=this,an;al[Y]=al._createNode("button",Y);if(ao){an=al._createNode(ao,"");an.set("innerHTML",am);al[Y].append(an);}else{al[Y].set("innerHTML",am);}return al[Y];},getControlBarHeight:function(){var Y=this,am=Y._controlsNode.one(".bar"),al=0;if(f.Lang.isValue(am)&&Y._controlsNode.hasClass("show")){al=H.calculateElementHeight(am);}return al;},_createNode:function(al,Y){return f.Node.create("<"+al+' class="'+Y+'"/>');},_onVisualSeekMouseEnter:function(al){var Y=this;if(!Y._isVisualSeekEnabled()){return;}Y._showVisualSeek();Y._moveVisualSeek(al);},_onVisualSeekMouseLeave:function(){var Y=this;if(!Y._isVisualSeekEnabled()||Y._seekNode.hasClass("drag")){return;}Y._hideVisualSeek();},_showVisualSeek:function(){var Y=this._visualSeekNode;if(Y){Y.setStyle("display","block");}},_hideVisualSeek:function(){var Y=this._visualSeekNode;if(Y){Y.setStyle("display","none");}},_moveVisualSeek:function(al){var Y=this,am;if(!Y._isVisualSeekEnabled()){return;}if(Y._visualSeekNode.getStyle("display")==="none"){Y._showVisualSeek();}am=al.pageX-Y._seekNode.getX();Y._visualSeekReposition(am);Y._loadVisualSeekThumb(am);},_updateVisualSeek:function(){var Y=this,am=Y._model.get("currentMedia"),al=am.get("visualseek"),an=Y._visualSeekNode;Y._visualSeek=al;delete Y._visualSeekImages;if(al&&an){Y._visualSeekImages=al.images;if(an.getStyle("backgroundSize")===undefined){Y._resizeVisualSeekNode(al);}}},_resetVisualSeek:function(){var Y=this;delete Y._visualSeek;delete Y._visualSeekImages;Y._hideVisualSeek();},_resizeVisualSeekNode:function(ao){var am=this,ap=am._visualSeekNode,al=ao.width,Y=ao.height,an=parseInt(ap.getStyle("width"),10);if(al<an){ap.setStyle("width",al+"px");ap.setStyle("height",Y+"px");ap.setStyle("top",-(Y+3)+"px");am._visualSeekTimeNode.setStyle("left",(al/2)+"px");}},_isVisualSeekEnabled:function(){var Y=this;if((Y._visualSeekImages&&Y._visualSeekImages.length>0)&&!Y._playPauseNode.hasClass("disable")){return true;}return false;},_loadVisualSeekThumb:function(ar){var av=this,aq=av._visualSeek,at=Math.max(0,Math.min(av._seekNode.get("offsetWidth"),ar))/av._seekNode.get("offsetWidth"),an=at*av._totalSecs,am=Math.ceil(Math.floor(an)/aq.frequency),ao=av._visualSeekThumbNode,al=aq._thumbSize,au,ap,Y;if(al===undefined){al=av._getVisualSeekThumbSize();au=al.width;ap=al.height;aq._thumbSize=al;ao.setStyles({"width":au,"height":ap,"backgroundSize":(au*F.VISUAL_SEEK_COLLAGE_COLS)+"px "+(ap*F.VISUAL_SEEK_COLLAGE_ROWS)+"px"});}Y=av._getVisualSeekCollage(am,al);if(!ao.getStyle("backgroundImage").match(Y.url)){ao.setStyle("background","url("+Y.url+")");}ao.setStyle("backgroundPosition","-"+Y.x+"px -"+Y.y+"px");av._updateVisualSeekTime(an);},_updateVisualSeekTime:function(an){var Y=this,am=Y._visualSeekTimeNode,ao=Y._formatSecs(an),al=ao.length*12;am.set("innerHTML",ao);am.setStyles({"width":al+"px","marginLeft":"-"+Math.floor(al/2)+"px"});},_getVisualSeekThumbSize:function(){var at=this,an=at._visualSeek,am=at._visualSeekNode,ap=an.width,aq=an.height,Y=ap/aq,ar=parseInt(am.getStyle("width"),10),ao=parseInt(am.getStyle("height"),10),al=ar/ao;if(Y>al){ao=(aq/ap)*ar;}else{ar=(ap/aq)*ao;}return{width:ar,height:ao};},_getVisualSeekCollage:function(ap,ao){var ax=this,al={},av=F.VISUAL_SEEK_COLLAGE_ROWS,at=F.VISUAL_SEEK_COLLAGE_COLS,an=av*at,au=ax._visualSeekImages,am=Math.floor(ap/an),aq=au[am],ar,Y,aw;
if(aq){ar=ap%an;Y=ar%at;aw=Math.floor(ar/at);al={url:aq.url,x:Y*ao.width,y:aw*ao.height};}return al;},_visualSeekReposition:function(aq){var Y=this,an=Y._visualSeekNode.get("offsetWidth"),al=Math.round(an/2),am=aq-al,ao=aq+al,ap=Y._seekNode.get("offsetWidth");if(am<0){am=0;}else{if(ao>ap){am=ap-an;}}Y._visualSeekNode.setStyle("left",am);}});f.namespace("VideoPlatform").Controls=F;function v(){v.superclass.constructor.apply(this,arguments);}v.NAME="ErrorScreen";v.NS="errorscreen";v.ATTRS={};v.ERRORSCREEN_VIDEOS_DIMENSIONS={LARGE:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:20},MEDIUM:{ITEM_WIDTH:208,ITEM_HEIGHT:117,IMAGE_WIDTH:208,IMAGE_HEIGHT:117,HORIZONTAL_SPACING:8,VERTICAL_SPACING:4,MARGIN:20},SMALL:{ITEM_WIDTH:157,ITEM_HEIGHT:88,IMAGE_WIDTH:157,IMAGE_HEIGHT:88,HORIZONTAL_SPACING:2,VERTICAL_SPACING:1,MARGIN:12}};f.extend(v,f.Base,{log:function(al,Y){},initializer:function(Y){this._model=Y.model;this._view=Y.view;this._controller=Y.view._controller;this.screenSize=this._view.get("screenSize");f.publish("VideoPlayer.ErrorScreen.flashDownloadClick",{broadcast:2});f.publish("VideoPlayer.ErrorScreen.tryAgainLink",{broadcast:2});},render:function(ao){var aw=this,ap=v.NS,au,am,av,aq,ar,al=this._view.createNode("div","container",ap),an=this._model.get("currentMedia"),at=this._model.get("endScreenVideos").get("mediaItems").toArray(),Y=this._view.createNode("div","wrapper",ap);this._node=ao;this.container=al;this._error=this._model.get("error");this.desc=this._view.createNode("p","desc",ap);this.subDesc=this._view.createNode("p","sub-desc",ap);this.typeCode=this._view.createNode("p","type-code",ap);this._flashDownloadNode=null;this._retStr=null;this._wrapper=Y;Y.append(this.desc);Y.append(this.subDesc);al.append(Y);this._model.fire("uiInteract",{source:"err-view"});if(this._error.type==="400"&&(this._error.code==="200"||this._error.code==="201")){au=this._view.createNode("div","flash-download-node",ap);am=this._view.createNode("a","download-flash",ap);av=this._view.createNode("p","download-link",ap);aq=this._view.createNode("span","download-flash-title",ap);ar=this._view.createNode("span","download-flash-button",ap);this._flashDownloadNode=am;this._retStr=(this._error.code==="200")?"no_flash_error":"old_flash_error";aq.set("innerHTML",this._getString("DOWNLOAD_FLASH"));am.setAttribute("href","http://get.adobe.com/flashplayer/");am.setAttribute("target","_blank");av.append(aq);am.append(av);am.append(ar);au.append(am);this.flashDownloadNode=au;this.container.append(au);this._renderUI();}else{this._loadVideos(an,at,function(az,ax){if(az){aw._controller.warn(az);aw._retStr=undefined;var ay=az.type+"-"+az.code;aw.typeCode.set("innerHTML",ay);}else{if(ax.length!==0){setTimeout(function(){aw._renderVideos(ax);},20);}else{aw._retStr=undefined;}}aw._renderUI();});}},_renderUI:function(){if(!this.container){return;}this.container.append(this.typeCode);this._syncUI();this._bindUI();this._node.append(this.container);this.container.addClass("show");},_loadVideos:function(am,al,an){var Y=this;if(al.length===0){if(am!==null&&am!==undefined){Y._controller._states.started.loadEndScreenVideos(am,{success:function(ao){Y._model.set("endScreenVideos",ao);al=Y._model.get("endScreenVideos").get("mediaItems").toArray();an(null,al);},failure:function(ao){an(ao);}});}else{an(null,al);}}else{an(null,al);}},_renderVideos:function(Y){var am=v.NS,ao=this._view.createNode("div","videos-node",am),al=this.screenSize,an=new g({"view":this,"mediaItems":Y,"pltype":"errorScreen","showNavigation":false,"showMetadata":true,"dimensions":{itemWidth:v.ERRORSCREEN_VIDEOS_DIMENSIONS[al].ITEM_WIDTH,itemHeight:v.ERRORSCREEN_VIDEOS_DIMENSIONS[al].ITEM_HEIGHT,imageWidth:v.ERRORSCREEN_VIDEOS_DIMENSIONS[al].IMAGE_WIDTH,imageHeight:v.ERRORSCREEN_VIDEOS_DIMENSIONS[al].IMAGE_HEIGHT,horizontalSpacing:v.ERRORSCREEN_VIDEOS_DIMENSIONS[al].HORIZONTAL_SPACING,verticalSpacing:v.ERRORSCREEN_VIDEOS_DIMENSIONS[al].VERTICAL_SPACING,carouselMargin:v.ERRORSCREEN_VIDEOS_DIMENSIONS[al].MARGIN}});ao.setStyle("height",(this.container.get("offsetHeight")-parseInt(this.container.get("offsetHeight")/2,10)));this.container.append(ao);an.render(ao);this.errorScreenVideos=ao;},_bindUI:function(){var Y=this;if(this._flashDownloadNode!==null){this._flashDownloadNode.one(".yui3-videoplayer-errorscreen-download-link").on("click",function(){f.fire("VideoPlayer.ErrorScreen.flashDownloadClick","err-adobe-link");});this._flashDownloadNode.one(".yui3-videoplayer-errorscreen-download-flash-button").on("click",function(){f.fire("VideoPlayer.ErrorScreen.flashDownloadClick","err-adobe-CTA");});}else{if(this._retStr==="ERR_REL_TECH_ERR"){this.subDesc.one(".yui3-videoplayer-errorscreen-sub-desc-try").on("click",function(){f.fire("VideoPlayer.ErrorScreen.tryAgainLink","err-try");Y._reload();});}}},_reload:function(){setTimeout(function(){location.reload();},500);},_syncUI:function(){var am=this._error,al=this._errorToResourceKey(am),Y=am.type+"-"+am.code;this.desc.set("innerHTML",this._getString(al.key));if(this._retStr!==undefined&&this._retStr!=="no_flash_error"){this.subDesc.set("innerHTML",this._getString(al.rel));this._retStr=al.rel;}this.typeCode.set("innerHTML",Y);},_getString:function(Y){return this._view._controller.getStrings()[Y];},_errorToResourceKey:function(am){var an="ERR_UNAVAILABLE_TEMP",Y="ERR_REL_VIDEO",al=am.code;switch(am.type){case"500":case"501":case"502":case"503":case"504":switch(al){case"200":case"401":case"402":case"403":case"501":an="ERR_UNAVAILABLE";break;case"201":case"500":an="ERR_UNAVAILABLE_TEMP";break;case"202":an="ERR_GEO";break;case"203":an="ERR_DEVICE";Y="ERR_REL";break;case"204":an="ERR_EMBED";break;case"205":an="ERR_USER";break;case"300":an="ERR_UNSUPPORTED_FORMAT";Y="ERR_REL";break;case"400":an="ERR_NOT_FOUND";break;default:an="ERR_TECH_DIFFICULTIES";Y="ERR_REL_TECH_ERR";break;}break;case"400":switch(al){case"14":an="ERR_SESSION_TIMEOUT";break;case"200":an="ERR_FLASH_NOT_ENABLED";
Y="undefined";break;case"201":an="ERR_FLASH_NOT_UPTO_DATE";Y="FLASH_UPGRADE_NOTE";break;case"301":an="ERR_TECH_DIFFICULTIES";Y="ERR_REL_TECH_ERR";break;default:an="ERR_TECH_DIFFICULTIES";Y="ERR_REL_TECH_ERR";break;}break;}return{"key":an,"rel":Y};},destructor:function(){if(this.container){this.container.remove();this.container=null;}}});f.namespace("VideoPlatform").ErrorScreen=v;function a(){a.superclass.constructor.apply(this,arguments);}a.NAME="StartScreen";a.NS="startscreen";a.ATTRS={};a.DIMENSIONS={LARGE:{DESCRIPTION_HEIGHT:40},MEDIUM:{DESCRIPTION_HEIGHT:40},SMALL:{DESCRIPTION_HEIGHT:20}};f.extend(a,f.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(aD){this._node=aD;var aF=a.NS,aA=this._view,ax=this._model.get("startscreen")||false,au=typeof ax.showProvider!=="undefined"?ax.showProvider:false,ay=typeof ax.showTitle!=="undefined"?ax.showTitle:true,aw=typeof ax.showDesc!=="undefined"?ax.showDesc:true,aE=typeof ax.showButton!=="undefined"?ax.showButton:true,aB=this,ao=this._view.createNode("div","container",aF),av=this._view.createNode("div","bar-wrapper",aF),aI=this._view.createNode("div","bar",aF),aH=this._view.createNode("div","bar-right",aF),aM=this._view.createNode("img","image",aF),at=this._view.createNode("div","title-wrapper",aF),aC=aA.get("screenSize"),aK=a.DIMENSIONS[aC].DESCRIPTION_HEIGHT,ar,am=this._model.get("currentMedia"),az=am.get("images"),al,aJ,aq,aG,ap,aL,Y,an;if(aE){al=this._view.createNode("div","button",aF);this.button=al;}if(ay){Y=typeof(am.get("title"))==="string"?am.get("title"):"";if(Y){aL=this._view.createNode("h3","title",aF);this.title=aL;aL.set("innerHTML",Y);}}if(au){aq=typeof am.get("provider")==="object"&&typeof am.get("provider").name==="string"?am.get("provider").name:false;if(aq){aJ=this._view.createNode("h4","provider",aF);this.provider=aJ;aJ.set("innerHTML",aq);}}if(aw){ap=typeof(am.get("description"))==="string"?am.get("description"):false;ap=H.stripHtmlFromString(ap);if(ap){aG=this._view.createNode("p","desc",aF);this.desc=aG;}}this._container=ao;this.wrapper=av;if(az){an=az.large||az.thumbnail;if(an){aM.set("src",an);this._view._resizeAndPositionImage(aM,aD);}}if(au&&aJ){at.append(aJ);}if(Y&&ay){at.append(aL);}if(aw&&aG){at.append(aG);}aH.append(at);aI.append(aH);av.append(aI);ao.append(aM);ao.append(av);if(aE){ao.append(al);}if(this._model.get("ybang")===true){ar=this._view.createNode("div","ybang",aF);aI.append(ar);}aD.append(ao);if(aw&&aG&&ap){H.ellipsis(aG,ap,aK);}this._bindUI();if(this._model.get("rendererType")==="html"){this._view._hideVideoTag();}aB._container.addClass("yui3-videoplayer-show");setTimeout(function(){aB._container.addClass("yui3-videoplayer-transition");aB.wrapper.addClass("yui3-videoplayer-transition");},5);},_bindUI:function(){var am=this._container,Y=this,al;al=am.on(["click","tap"],function(){al.detach();Y._playVideo();});},_playVideo:function(){var Y=this._model,an=this,al=an._view.getController(),am=al?al.getProfiler():null;this.clickToStartTimer=new k({model:Y});this.clickToStartTimer.start();if(am){am.add(aj.VP_CLICK_TO_START);}if(Y.get("YVAPRequired")===true){Y.once("yvapStateChange",function(ao){switch(ao.newVal){case YVAPEvents.AD_START:case YVAPEvents.AD_PROGRESS:an._stopTimer(aj.VP_CLICK_TO_START);this.clickToStartTimer.stop(aj.VP_CLICK_TO_START.type,aj.VP_CLICK_TO_START.desc);break;case YVAPEvents.AD_NONE:case YVAPEvents.AD_ERROR:case YVAPEvents.PLUGIN_REMOVED:case YVAPEvents.AD_COMPLETE:case YVAPEvents.AD_END:Y.once("playerStateChange",function(ap){if(ap.newVal===aa.STARTED){an._stopTimer(aj.VP_CLICK_TO_START);this.clickToStartTimer.stop(aj.VP_CLICK_TO_START.type,aj.VP_CLICK_TO_START.desc);}},this);break;}},this);}else{Y.once("playerStateChange",function(ao){if(ao.newVal===aa.STARTED){an._stopTimer(aj.VP_CLICK_TO_START);this.clickToStartTimer.stop(aj.VP_CLICK_TO_START.type,aj.VP_CLICK_TO_START.desc);}},this);}an._view._controller.play();Y.fire("uiInteract",{source:this.constructor.NS+"Play"});},_stopTimer:function(am){var Y=this._view.getController(),al=Y?Y.getProfiler():null;if(al){al.setEndTime(am.type);}},destructor:function(){var Y=this;if(f.UA.ie>0&&f.UA.ie<9){Y._container.remove();}else{Y._container.removeClass("yui3-videoplayer-show");setTimeout(function(){Y._container.remove();},500);}if(this._model.get("rendererType")==="html"){this._view._showVideoTag();}}});f.namespace("VideoPlatform").StartScreen=a;var M=f.VideoPlatform.Metrics;var S={_commonQoSParams:"env={PLAYER_HOSTING_ENV}"+"&yuiver={YUI_VERSION}"+"&yuiua={YUI_UA}"+"&pver={PLAYER_VERSION}"+"&vp={PLAYER_INT32_GUID}"+"&b={PLAYER_BUCKET}"+"&r={RENDERER_TYPE}"+"&vid={VIDEO_CLIP_ID}"+"&vn={VIDEO_TITLE}"+"&reg={REGION}"+"&site={SITE}"+"&sn={SHOW_NAME}"+"&lid={LICENSE_ID}"+"&loc={PLAYER_LOCATION}"+"&cfgpsid={CONFIG_PSPID}"+"&apl={AUTOPLAY}"+"&psid={PAGE_SPACE_ID}"+"&fver={FLASH_VERSION}"+"&expn={EXPERIENCE_NAME}"+"&expt={EXPERIENCE_TYPE}"+"&expb={EXPERIENCE_BUCKET}"+"&vpurl={PAGE_URL}"+"&ba={BANDWIDTH}"+"&pglt={PAGE_LATENCY}"+"&pgdns={TIMING_DNS}"+"&pgcon={TIMING_CONNECT}"+"&pgttfb={TIMING_TTFB}"+"&pgbp={TIMING_BASE_PAGE}"+"&pgfe={TIMING_FRONTEND}"+"&pgjsst={PAGE_PLAYERJS_DL_START}"+"&pgjstm={PAGE_PLAYERJS_DL_TIME}"+"&pgitmtm={PAGE_MEDIA_ITEM_PREFETCH_TIME}",_generateBeaconList:function(al,at,ap,an,aq,am){var ao=0,ar=[],Y;am=!f.Lang.isUndefined(am)?am:[];if(typeof al!=="string"){al="";}f.each(at,function(au){Y={urlTemplate:al,target:ap};if(au.param){Y.urlTemplate+=au.param;}if(an){Y.urlTemplate+="&"+an+"={RANDOM_VALUE}";}Y.events=[{"name":au.name}];if(aq===true){if(au.samplePerct){Y.samplePerct=au.samplePerct;}else{Y.samplePerct=100;}}ar[ao]=Y;ao+=1;});if(am.length>0){ar=ar.concat(am);}return ar;},init:function(){var al=this._beaconComscore(),am=this._beaconQOS(),ap=this._beaconYvapQoS(),ao=this._beaconYwaPageView(),an=this._beaconYWA(),Y=this._beaconULT();return al.concat(ao,an,Y,am,ap);},_beaconComscore:function(){var Y=(document.location.protocol==="https:"?"https://sb":"http://b")+".scorecardresearch.com/p?C1=1&C2=7241469&C4={COMSCORE_C4}",al=[{"name":"PLAYBACK_START","param":"&C5={COMSCORE_C5}&C6={COMSCORE_C6}&cv=2.0"},{"name":"AD_START","param":"&C5=09&C6={COMSCORE_C6}&cv=2.0"}];
return this._generateBeaconList(Y,al,M.SERVICES.COMSCORE,"rn");},_beaconYwaPageView:function(){var al=(document.location.protocol==="https:"?"https://z.analytics.yahoo.com/p.pl":"http://z.analytics.yahoo.com/p.pl")+"?a=1000{YWA_PROJECT_ID}&dpid={YWA_DPID}&vp={PLAYER_INT32_GUID}&vpm={MASTERPLAYER_INT32_GUID}",Y=[{"name":"PAGE_VIEW","param":"&cf12={FLASH_VERSION}&cf08={PLAYER_HOSTING_ENV}&cf01={PLAYER_BUCKET}&cf07={PLAYER_VERSION}&cf09={EXPERIENCE_TYPE}&cf10={EXPERIENCE_NAME}&.ys={PAGE_SPACE_ID}&cf13={RENDERER_TYPE}&cf71={EXPERIENCE_BUCKET}&b={PAGE_TITLE}&f={PAGE_URL}&e={PAGE_REFERRER}"}];return this._generateBeaconList(al,Y,M.SERVICES.YWA,"rn");},_beaconYWA:function(){var al=(document.location.protocol==="https:"?"https://z.analytics.yahoo.com/p.pl":"http://z.analytics.yahoo.com/p.pl")+"?a=1000{YWA_PROJECT_ID}&dpid={YWA_DPID}&vp={PLAYER_INT32_GUID}&vpm={MASTERPLAYER_INT32_GUID}&vid={VIDEO_CLIP_ID}&vn={VIDEO_TITLE}&cf97={PUBLISHER_ID}",Y=[{"name":"PLAYER_ERR","param":"&vx=3&vb={PAGE_TITLE}&vf={PAGE_URL}&cf50={PLAYER_ERR_TYPE}&cf51={PLAYER_ERR_CODE}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&sp={STREAM_PROTOCOL}&ve={PAGE_REFERRER}"},{"name":"VIDEO_LOADED","param":"&vlng={VIDEO_LENGTH}&vx=215&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&cf15={CONTINUOUS_PLAY}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf58={MEDIA_META_TAGS}&ve={PAGE_REFERRER}"},{"name":"VP_INIT_TO_START","param":"&vlng={VIDEO_LENGTH}&vx=13&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf58={MEDIA_META_TAGS}&cf54={VP_INIT_TO_START}&ve={PAGE_REFERRER}"},{"name":"VP_CLICK_TO_START","param":"&vlng={VIDEO_LENGTH}&vx=14&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf58={MEDIA_META_TAGS}&cf55={VP_CLICK_TO_START}&vb={PAGE_TITLE}&vf={PAGE_URL}&ve={PAGE_REFERRER}"},{"name":"PLAYBACK_REQUEST","param":"&vx=216&cf51={CMS_STATUS_CODE}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&cf15={CONTINUOUS_PLAY}&vsn={SHOW_NAME}"},{"name":"PLAYBACK_START","param":"&vpos=1&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}&vt={IS_LIVE}&vbt={PLAYBACK_START_DELAY}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&cf15={CONTINUOUS_PLAY}&cf53={CONTINUOUS_PLAY_COUNT}&cf62={PLAYER_WIDTH}x{PLAYER_HEIGHT}&vsn={SHOW_NAME}"},{"name":"PLAYBACK_PROGRESS","param":"&vlng={VIDEO_LENGTH}&vpos={VIDEO_PLAYBACK_POS}&vt={IS_LIVE}&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_PAUSE","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=212&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_RESUME","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=211&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_SEEK","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=210&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_COMPLETE","param":"&vpos={VIDEO_LENGTH}&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYER_FULLSCREEN","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=213&vq={VIDEO_SEQ_NUMBER}"},{"name":"AD_PLUGIN_METRIC","param":"&aplc{CUSTOM_PARAMS}&cf201={SITE}&cf202={REGION}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&.ys={PAGE_SPACE_ID}&cf09={EXPERIENCE_TYPE}&cf10={EXPERIENCE_NAME}"},{"name":"VP_INIT_TO_STARTSCREEN","param":"&vx=15&vpl={PLAYER_LOCATION}&vf={PAGE_URL}&vsn={SHOW_NAME}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf208={LICENSE_ID}&cf52={QOS_TIMER_DIFF}&ve={PAGE_REFERRER}"},{"name":"UI_INTERACT","param":"&vx=5&cf57={UI_INTERACT_PAYLOAD}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&vsn={SHOW_NAME}&vf={PAGE_URL}"}];return this._generateBeaconList(al,Y,M.SERVICES.YWA,"rn");},_beaconULT:function(){var al,am=document.location.protocol+"//geo.yahoo.com/p?t={RANDOM_VALUE}&_V=V&s={PAGE_SPACE_ID}&",Y="vid={VIDEO_CLIP_ID}&pstaid={VIDEO_CLIP_ID}&lcnsr_id={LICENSOR_ID}&cfgpsid={CONFIG_PSPID}&"+"lcnsr_nm={LICENSOR_NAME}&lms_id={LICENSE_ID}&lms_nm={LICENSE_NAME}&"+"pls={PLAYER_INT32_GUID}&A_sid={PAGE_SID}&plist={CCM_PLAYLIST_ID}&site={SITE}&"+"lang={COUNTRY_LANGUAGE_CODE}&intl={REGION}&juris={JURISDICTION}&synd={SYNDICATION}&"+"_w={PAGE_URL}&pver={PLAYER_VERSION}&expn={EXPERIENCE_NAME}&expt={EXPERIENCE_TYPE}&"+"expb={EXPERIENCE_BUCKET}&loc={PLAYER_LOCATION}&type={VIDEO_TYPE}&auto={AUTOPLAY}&"+"cont={CONTINUOUS_PLAY}&contcnt={CONTINUOUS_PLAY_COUNT}&bckt={PLAYER_BUCKET}&"+"_R={PAGE_REFERRER}";al=[{"name":"PAGE_VIEW","param":am+"V_sec=pb&evt=p_load&"+Y},{"name":"PLAYBACK_REQUEST","param":am+"V_sec=pb&evt=v_req&V_slk=pr&"+Y},{"name":"AD_START","param":am+"V_sec=pb&evt=ad_start&V_slk=as0&"+Y},{"name":"PLAYBACK_START","param":am+"V_sec=pb&evt=v_start&V_slk=ps{VIDEO_WATCHED_PERCT}&"+Y},{"name":"PLAYBACK_PROGRESS","param":am+"V_sec=pb&evt=v_prog&dur={VIDEO_PLAYBACK_POS}&V_slk=ps{VIDEO_WATCHED_PERCT}&"+Y},{"name":"PLAYBACK_COMPLETE","param":am+"V_sec=pb&evt=v_comp&dur={VIDEO_PLAYBACK_POS}&V_slk=ps100&"+Y},{"name":"PLAYER_ERR","param":am+"V_sec=err&evt=err&V_slk={PLAYER_ERR_TYPE}%23{PLAYER_ERR_CODE}&"+Y},{"name":"UI_MODULE_VIEW","param":am+"V_sec={SECTION_NAME}&V_slk=view&lctxt={LINK_CONTEXT}&vctxt={VIDEO_CONTEXT}&"+Y},{"name":"UI_INTERACT","param":am+"V_sec={SECTION_NAME}&evt={SECTION_NAME}&V_slk={SECTION_LINK_NAME}&lctxt={LINK_CONTEXT}&vctxt={VIDEO_CONTEXT}&pos={UI_INTERACT_VIDEO_POSITION}&"+Y}];
return this._generateBeaconList(false,al,M.SERVICES.ULT);},_beaconYvapQoS:function(){var al=(document.location.protocol==="https:")?1:0,am=((al)?"https:":"http:")+"//qos.video.yimg.com/yvap/4/qos?"+this._commonQoSParams,Y=[{"name":"AD_PLUGIN_QOS_METRIC","param":"&qaplc{CUSTOM_PARAMS}&ln={LICENSE_NAME}"}];return this._generateBeaconList(am,Y,M.SERVICES.QOS,"rn",true);},_beaconQOS:function(){var al=(document.location.protocol==="https:")?1:0,Y=((al)?"https:":"http:")+"//qos.video.yimg.com/yep/3/qos?"+this._commonQoSParams,am=[{"name":"PLAYER_LOADED","param":"&i"},{"name":"SAPI_LOADCLIPS","param":"&vi&tsapic={QOS_TIMER_DIFF}&rcnt={RETRY_COUNT}"},{"name":"SAPI_LOADPLAYLIST","param":"&tsapilp={QOS_TIMER_DIFF}&rcnt={RETRY_COUNT}"},{"name":"PLAYBACK_START","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tpb={PLAYBACK_START_DELAY}"},{"name":"PLAYER_ERR","param":"&e.{PLAYER_ERR_TYPE}.{PLAYER_ERR_CODE}&vm={PLAYER_ERR_MSG}&sp={STREAM_PROTOCOL}"},{"name":"YSWF_SWF_ONLY_INIT_TIME","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tswfoi={QOS_TIMER_DIFF}"},{"name":"YSWF_READY","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tswfr={QOS_TIMER_DIFF}"},{"name":"YVAP_LOADED","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tswfl={QOS_TIMER_DIFF}"},{"name":"YVAP_READY","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvapr={QOS_TIMER_DIFF}"},{"name":"YVAP_ADSTARTED","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvapads={QOS_TIMER_DIFF}"},{"name":"YVAP_NOAD","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvapadn={QOS_TIMER_DIFF}"},{"name":"YVAP_ERROR","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvape={QOS_TIMER_DIFF}"},{"name":"VP_INIT_TO_START","param":"&secure="+al+"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&vpf={VIDEO_PREFETCH}&sp={STREAM_PROTOCOL}&ttsapt{VP_INIT_TO_START_SUFFIX}={QOS_TIMER_DIFF}&{QOS_TIME_BREAKUP}"},{"name":"PLAYBACK_REQUEST","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&pr&sp={STREAM_PROTOCOL}&status={CMS_STATUS_CODE}"},{"name":"VP_CLICK_TO_START","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&vpf={VIDEO_PREFETCH}&sp={STREAM_PROTOCOL}&ttsapf={QOS_TIMER_DIFF}"},{"name":"VP_INIT_TO_STARTSCREEN","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&vpf={VIDEO_PREFETCH}&sp={STREAM_PROTOCOL}&titssc={QOS_TIMER_DIFF}"},{"name":"VP_MEDIA_CHANGE","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&vpmc={QOS_TIMER_DIFF}&vpf={VIDEO_PREFETCH}&sp={STREAM_PROTOCOL}&acnt={AUTOCONTINUE}"},{"name":"SAPI_LOADRELATED","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tsapilr={QOS_TIMER_DIFF}&rcnt={RETRY_COUNT}"},{"name":"PLAYBACK_PROGRESS","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={TIME_WAITING}&br={BITRATE}&pp"},{"name":"PLAYBACK_COMPLETE","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={TIME_WAITING}&br={BITRATE}&pp"},{"name":"PLAYBACK_SEEK","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={TIME_WAITING}&br={BITRATE}&pp"},{"name":"YQL_LOAD_CC","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyqlcc={QOS_TIMER_DIFF}"},{"name":"GET_CC_PREF","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tgetcc={QOS_TIMER_DIFF}"},{"name":"SET_CC_PREF","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tsetcc={QOS_TIMER_DIFF}"}];return this._generateBeaconList(Y,am,M.SERVICES.QOS,"rn",true);}};f.namespace("VideoPlatform").PlayerBeaconList=S;function ah(){this._playerStartTime=(new Date()).getTime();this._profileItems=[];}ah.NAME="Profiler";ah.NS="Profiler";ah.prototype.getProfileItems=function(){return this._profileItems;};ah.prototype.setMetricsModule=function(Y){this._metricsModule=Y;};ah.prototype.getPlayerStartTime=function(){return this._playerStartTime;};ah.prototype.add=function(an){if(!an){return;}var am=this._createProfileItem(an),al="@",Y=am.type,ao=am.startTime;am.key=Y+al+ao;this._profileItems.push(am);return am.key;};ah.prototype.remove=function(am,an){var al=0,Y=this._profileItems;if(!this._isValidType(am)||Y.length===0){return;}for(;al<Y.length;al++){if((an&&an===Y[al].key)||(!an&&am===Y[al].type)){Y.splice(al,1);break;}}};ah.prototype.setStartTime=function(am,Y,an){var al=this.getItem(am,an);if(al===null){return;}al.startTime=Y;};ah.prototype.setEndTime=function(am,an,Y){var al=this.getItem(am,an);if(al===null){return;}al.endTime=Y||((new Date()).getTime()-this._playerStartTime);al.timeDiff=al.endTime-al.startTime;if(am===aj.VP_INIT_TO_START.type&&this._metricsModule){al.queryStringExtn=this._createQueryStringExtension();this._metricsModule.handleQOSProfiling(al);}};ah.prototype.setDelta=function(al,an,am){var Y=this.getItem(al,am);if(Y===null){return;}Y.endTime=an?(Y.startTime+an):NaN;Y.timeDiff=an;};ah.prototype.getItem=function(am,an){var al=0,Y=this._profileItems;if(!this._isValidType(am)||Y.length===0){return null;}for(;al<Y.length;al++){if((an&&an===Y[al].key)||(!an&&am===Y[al].type)){return Y[al];}}return null;};ah.prototype.draw=function(){var al="",Y=this._profileItems;if(!Y||Y.length===0){return al;}al+='<p><table border="1">';al+="<tr><td>Key</td><td>Description</td><td>START</td><td>END</td><td>DIFF</td></tr>";f.each(Y,function(am){al+="<tr><td>"+am.type+"</td><td>"+am.message+"</td><td>"+am.startTime+"</td><td>"+am.endTime+"</td><td>"+am.timeDiff+"</td>"+'<td style="white-space: nowrap;">'+'<div style="display: inline-block; width:'+Math.floor(am.startTime/3)+'px; height: 25px;"></div>'+'<div style="display: inline-block; background-color: '+am.color+"; "+"width:"+Math.floor(am.timeDiff/3)+'px; height:25px; border:1px solid #000"></div></td></tr>';});al+="</table></p>";return al;};ah.prototype._createProfileItem=function(Y){return{type:Y.type,message:Y.desc,color:Y.color||"white",qosMetric:Y.qosMetric===true,startTime:Y.start||(new Date()).getTime()-this._playerStartTime,endTime:NaN,timeDiff:NaN};};ah.prototype._createQueryStringExtension=function(){var Y="",al="&",ao="_s",an="_d",am=this._profileItems;am.forEach(function(ap){if(ap.qosMetric===true){if(Y!==""){Y+=al;}Y+=ap.type+ao+"="+ap.startTime;Y+=al;Y+=ap.type+an+"="+ap.timeDiff;
}});return Y;};ah.prototype._isValidType=function(Y){return(Y&&Y!==""&&typeof Y==="string");};f.namespace("VideoPlatform").Profiler=ah;},"4.15.0.1397589605",{requires:["arraylist","arraylist-add","arraylist-filter","array-extras","jsonp","base","substitute","io-xdr","io-base","json-parse","swf","event-mouseenter","event-key","event-hover","event-custom","node","json-stringify","classnamemanager","event-tap","event-touch","cookie","escape","yepswf","async-queue","transition","VideoAdPlugin"]});;YAHOO.VideoPlatform.i18n = {"ADVERTISEMENT":"Advertisement","ARROW_DOWN":"Arrow Down:","ARROW_LEFT":"Arrow Left:","ARROW_RIGHT":"Arrow Right:","ARROW_UP":"Arrow Up:","AUTO_UCF":"Auto","CAPTIONS_LC":"captions","CAPTIONS_BACKGROUND_SETTINGS_LC":"Background","CAPTIONS_CUSTOMIZE_LC":"Customise","CAPTIONS_EFFECT_SETTINGS":"Effects","CAPTIONS_EFFECT_NONE":"none","CAPTIONS_EFFECT_DROP_SHADOW":"Drop Shadow","CAPTIONS_EFFECT_RAISED":"Raised","CAPTIONS_EFFECT_DEPRESSED":"Depressed","CAPTIONS_EFFECT_OUTLINED":"Uniform","CAPTIONS_FEEDBACK":"feedback","CAPTIONS_LANGUAGE_LC":"Language","CAPTIONS_LANGUAGE_NOT_AVAILABLE":"UK English captions unavailable","CAPTIONS_NOT_AVAILABLE":"No captions available","CAPTIONS_NOT_AVAILABLE_LC":"No captions available","CAPTIONS_OPAQUE":"Opaque","CAPTIONS_OPACITY_PERCENTAGE":"{number}% ({opacity})","CAPTIONS_OPTIONS":"Options","CAPTIONS_PREVIEW_TEXT_LC":"Captions appear like this","CAPTIONS_STYLE_LC":"Style","CAPTIONS_TRANSPARENCY":"Transparency","CLIP":"Clip","CLOSE_HOTKEY_MENU":"Close Hotkey Menu","CLOSE_INFO":"Close Info","CLOSE_MENU":"Close Menu","CLOSED_CAPTION_COMPLAINTS":"Closed Caption Complaints","DOWNLOAD_FLASH":"Download the free Flash Player Now!","EMBED_UCF":"Embed","EMBED_LC":"embed","EMBED_COLON":"Embed:","ENDS":"ends","ERR_DEVICE":"Unfortunately, this video is not supported on this device.","ERR_EMBED":"Sorry! This video can't be embedded outside of Yahoo.","ERR_FLASH_NOT_ENABLED":"You need Adobe Flash® to play this video.","ERR_FLASH_NOT_UPTO_DATE":"Your Adobe Flash is an old version.","ERR_GEO":"We're sorry! This video is not available in your location.","ERR_NOT_ALLOWED":"You must to be signed in and can watch this video at only one location.","ERR_NOT_FOUND":"We're sorry! We're no longer able to display this video.","ERR_REL_VIDEO":"Please check out one of these related videos:","ERR_REL":"Feel free to check out one of these related videos:","ERR_REL_TECH_ERR":"Please check your Internet connection or <span class=\"yui3-videoplayer-errorscreen-sub-desc-try\">try reloading</span> the video. Otherwise, take a look at one of these related videos:","ERR_TECH_DIFFICULTIES":"Whoops! Something went wrong.","ERR_TITLE":"We're sorry...","ERR_UNAVAILABLE":"We're sorry! We're no longer able to display this video.","ERR_UNAVAILABLE_TEMP":"We're sorry! We're no longer able to display this video.","ERR_UNSUPPORTED_FORMAT":"Unfortunately, this video is not supported on this device.","ERR_UNAVAILABLE_SORRY":"Sorry, this video is no longer available.","ERR_USER":"This video is not available for the current user.","ERR_SESSION_TIMEOUT":"Your session has timed out.","FLASH_UPGRADE_NOTE":"Please upgrade to view this video.","FONT_NAME_LC":"Font","FONT_SIZE_LC":"Size","HD_NOT_AVAIL":"HD Not Available","HOTKEY_MENU":"Hotkey Menu","JUST_WATCHED":"Just Watched","LINK_LC":"link","LINK_COLON":"Link:","LOADING":"Loading","MUTE_OFF":"Unmute","MUTE_ON":"Mute","NEXT_VIDEO":"Next Video","NOW_PLAYING":"Now Playing","ON_LC":"on","OFF_LC":"off","OPEN_HOTKEY_MENU":"Open Hotkey Menu","OPEN_INFO":"Open Info","PAUSE":"Pause","PLAY":"Play","PLAY_PAUSE":"Play/Pause","PLAY_VIDEO":"Play Video","PREV_VIDEO":"Previous Video","QUALITY_LC":"quality","QUALITY_AUTO_LC":"Auto","QUESTION_MARK":"Question Mark:","REPLAY":"Replay","SEEK_FIVE_BACK":"Seek Back 5 seconds","SEEK_FIVE_FWD":"Seek Forwards 5 seconds","SHARE_LC":"share","SHARE_ON_FACEBOOK":"Share on Facebook","SIZE_LC":"size","SPACE_BAR":"Space Bar:","STARTS":"starts","SUBSCRIBE_TO":"Subscribe to","TURN_AUTO_PLAY_OFF":"Turn Autoplay Off","TURN_AUTO_PLAY_ON":"Turn Autoplay On","UPGRADE_FLASH":"Upgrade Flash®","UP_NEXT":"Up Next:","VID_BEGIN_IN":"Your video will begin in {number} seconds","VID_PLAYER_CTRLS":"Video Player Controls","VIEW_AGAIN":"View Again","VISIT_LINK_FOR_NEW_VIDEOS":"Please visit {url_link} for new videos.","VOLUME_LC":"volume","VOL_DOWN":"Volume Down","VOL_UP":"Volume Up"};;YAHOO.VideoPlatform.PlayerHosting = {"bucket":50,"colo":"bf1","env":"p"};;YAHOO.VideoPlatform.WhiteListedDomains = {"abcnews.go.com":"","acc.independent.co.uk":"","agenciabrasil.ebc.com.br":"","and-hsk-molint-ets-uk.andintweb.dmgt.net":"","cma-nol.newsoftheworld.co.uk":"","cma.thetimes.co.uk":"","creative.dailymail.co.uk":"","dailyexpresstoby.calypso.netro42.com":"","etonline.com":"","expressandstar.com":"","fantasyfootball.metro.co.uk":"","guardian.com":"","hellogiggles.com":"","metrofantasy.qa.fsbtech.com":"","mol-uk.andweb.dmgt.net":"","self.ch1.apps.yahooapis.com":"","staging.gfm.metro.co.uk":"","telesto.netro42.net":"","thetimes.co.uk":"","video.maktoob.com":"","yahoo-the-dugout.dgtl.net":"","www.bridgnorthjournal.com":"","www.dailyexpress.co.uk":"","www.dailymail.co.uk":"","www.dailystar.co.uk":"","www.dev1.telegraph.co.uk":"","www.dev2.telegraph.co.uk":"","www.etonline.com":"","www.expressandstar.com":"","www.express.co.uk":"","www.grindtv.com":"","www.guardian.co.uk":"","www.herefordshirejournals.com":"","www.huffingtonpost.com":"","www.independent.co.uk":"","www.marketdraytonadvertiser.com":"","www.metro.co.uk":"","www.mirror.co.uk":"","www.newportadvertiser.com":"","www.newsoftheworld.co.uk":"","www.northshropshirechronicle.com":"","www.rivals.com":"","www.rivals.yahoo.com":"","www.shrewsburychronicle.com":"","www.shropshirestar.com":"","www.southshropshirejournals.com":"","www.standard.co.uk":"","www.talktalk.co.uk":"","www.telegraph.co.uk":"","www.telfordjournal.com":"","www.test1.telegraph.co.uk":"","www.test2.telegraph.co.uk":"","www.test3.telegraph.co.uk":"","www.test4.telegraph.co.uk":"","www.test5.telegraph.co.uk":"","www.test6.telegraph.co.uk":"","www.test7.telegraph.co.uk":"","www.test8.telegraph.co.uk":"","www.thepostgame.com":"","www.thesun.co.uk":"","www.thesundaytimes.co.uk":"","www.thetimes.co.uk":"","www.thisisbarton.co.uk":"","www.thisisbath.co.uk":"","www.thisisbelper.co.uk":"","www.thisisblackmorevale.co.uk":"","www.thisisboston.co.uk":"","www.thisisbridgwater.co.uk":"","www.thisisbrigg.co.uk":"","www.thisisbristol.co.uk":"","www.thisisburnham.co.uk":"","www.thisiscentralsomerset.co.uk":"","www.thisischeadle.co.uk":"","www.thisischeddarvalley.co.uk":"","www.thisisclevedon.co.uk":"","www.thisiscornwall.co.uk":"","www.thisiscourier.co.uk":"","www.thisiscrawley.co.uk":"","www.thisiscroydontoday.co.uk":"","www.thisisderbyshire.co.uk":"","www.thisisdevon.co.uk":"","www.thisisexeter.co.uk":"","www.thisisfosse-way.co.uk":"","www.thisisgloucestershire.co.uk":"","www.thisisgrimsby.co.uk":"","www.thisisguernsey.com":"","www.thisishullandeastriding.co.uk":"","www.thisisilkeston.com":"","www.thisisjersey.com":"","www.thisiskent.co.uk":"","www.thisisleek.co.uk":"","www.thisisleicestershire.co.uk":"","www.thisislichfield.co.uk":"","www.thisislincolnshire.co.uk":"","www.thisislondon.co.uk":"","www.thisislouth.co.uk":"","www.thisismiddevon.co.uk":"","www.thisisnorthdevon.co.uk":"","www.thisisnottingham.co.uk":"","www.thisisplymouth.co.uk":"","www.thisisretford.co.uk":"","www.thisisscunthorpe.co.uk":"","www.thisisshepton.co.uk":"","www.thisissomerset.co.uk":"","www.thisissomersetguardian.co.uk":"","www.thisissomersetstandard.co.uk":"","www.thisissouthderbyshire.co.uk":"","www.thisissouthdevon.co.uk":"","www.thisisstourandavon.co.uk":"","www.thisisstroudtoday.co.uk":"","www.thisissurreytoday.co.uk":"","www.thisissussex.co.uk":"","www.thisissuttoncoldfield.co.uk":"","www.thisisswansea.co.uk":"","www.thisistamworth.co.uk":"","www.thisistheforest.co.uk":"","www.thisisthesentinel.co.uk":"","www.thisistotalessex.co.uk":"","www.thisisuttoxeter.co.uk":"","www.thisiswalsallonline.co.uk":"","www.thisiswells.co.uk":"","www.thisiswesterndailypress.co.uk":"","www.thisiswesterngazette.co.uk":"","www.thisiswesternmorningnews.co.uk":"","www.thisiswestonsupermare.co.uk":"","www.timesonline.co.uk":"","www.uat1.telegraph.co.uk":"","www.uat2.telegraph.co.uk":"","www.uat3.telegraph.co.u":"","www.vosmeilleuresidees.yahoo.fr":"","www.yahoo-evenements.fr":"","www.ycorpblog.com":"","www.yourchronicle.com":"","www.zonalmarking.net":""};<!-- // p|bf1|pprd1-node1-lh1|50|4.15.0.1397589605|Tue Apr 22 2014 12:13:35 GMT+0000 (UTC)|600|0.42542285891249776 -->